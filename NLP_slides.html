<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Farid Tayari" />
  <title>Natural Language Processing (NLP)</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
body
{
margin: 0 0 0 0;
padding: 0 0 0 0;
width: 100%;
height: 100%;
color: black;
background-color: white;
font-family: "Gill Sans MT", "Gill Sans", GillSans, sans-serif;
font-size: 14pt;
}
div.toolbar {
position: fixed; z-index: 200;
top: auto; bottom: 0; left: 0; right: 0;
height: 1.2em; text-align: right;
padding-left: 1em;
padding-right: 1em; font-size: 60%;
color: DimGray;
background-color: rgb(240,240,240);
border-top: solid 1px rgb(180,180,180);
}
div.toolbar span.copyright {
color: DimGray;
margin-left: 0.5em;
}
div.initial_prompt {
position: absolute;
z-index: 1000;
bottom: 1.2em;
width: 100%;
background-color: rgb(200,200,200);
opacity: 0.35;
background-color: rgb(200,200,200, 0.35);
cursor: pointer;
}
div.initial_prompt p.help {
text-align: center;
}
div.initial_prompt p.close {
text-align: right;
font-style: italic;
}
div.slidy_toc {
position: absolute;
z-index: 300;
width: 60%;
max-width: 30em;
height: 30em;
overflow: auto;
top: auto;
right: auto;
left: 4em;
bottom: 4em;
padding: 1em;
background: rgb(240,240,240);
border-style: solid;
border-width: 2px;
font-size: 60%;
}
div.slidy_toc .toc_heading {
text-align: center;
width: 100%;
margin: 0;
margin-bottom: 1em;
border-bottom-style: solid;
border-bottom-color: rgb(180,180,180);
border-bottom-width: 1px;
}
div.slide {
z-index: 20;
margin: 0 0 0 0;
padding-top: 0;
padding-bottom: 0;
padding-left: 20px;
padding-right: 20px;
border-width: 0;
clear: both;
top: 0;
bottom: 0;
left: 0;
right: 0;
line-height: 120%;
background-color: transparent;
}
div.background {
display: none;
}
div.handout {
margin-left: 20px;
margin-right: 20px;
}
div.slide.titlepage {
text-align: center;
}
div.slide.titlepage h1 {
padding-top: 10%;
margin-right: 0;
}
div.slide h1 {
padding-left: 0;
padding-right: 20pt;
padding-top: 4pt;
padding-bottom: 4pt;
margin-top: 0;
margin-left: 0;
margin-right: 60pt;
margin-bottom: 0.5em;
display: block; font-size: 160%;
line-height: 1.2em;
background: transparent;
}
@media screen and (max-device-width: 1024px)
{
div.slide { font-size: 100%; }
}
@media screen and (max-device-width: 800px)
{
div.slide { font-size: 200%; }
div.slidy_toc {
top: 1em;
left: 1em;
right: auto;
width: 80%;
font-size: 180%;
}
}
div.toc-heading {
width: 100%;
border-bottom: solid 1px rgb(180,180,180);
margin-bottom: 1em;
text-align: center;
}
img {
image-rendering: optimize-quality;
}
pre {
font-size: 80%;
font-weight: bold;
line-height: 120%;
padding-top: 0.2em;
padding-bottom: 0.2em;
padding-left: 1em;
padding-right: 1em;
border-style: solid;
border-left-width: 1em;
border-top-width: thin;
border-right-width: thin;
border-bottom-width: thin;
border-color: #95ABD0;
color: #00428C;
background-color: #E4E5E7;
}
li pre { margin-left: 0; }
blockquote { font-style: italic }
img { background-color: transparent }
p.copyright { font-size: smaller }
.center { text-align: center }
.footnote { font-size: smaller; margin-left: 2em; }
a img { border-width: 0; border-style: none }
a:visited { color: navy }
a:link { color: navy }
a:hover { color: red; text-decoration: underline }
a:active { color: red; text-decoration: underline }
a {text-decoration: none}
.toolbar a:link {color: blue}
.toolbar a:visited {color: blue}
.toolbar a:active {color: red}
.toolbar a:hover {color: red}
ul { list-style-type: square; }
ul ul { list-style-type: disc; }
ul ul ul { list-style-type: circle; }
ul ul ul ul { list-style-type: disc; }
li { margin-left: 0.5em; margin-top: 0.5em; }
li li { font-size: 85%; font-style: italic }
li li li { font-size: 85%; font-style: normal }
div dt
{
margin-left: 0;
margin-top: 1em;
margin-bottom: 0.5em;
font-weight: bold;
}
div dd
{
margin-left: 2em;
margin-bottom: 0.5em;
}
p,pre,ul,ol,blockquote,h2,h3,h4,h5,h6,dl,table {
margin-left: 1em;
margin-right: 1em;
}
p.subhead { font-weight: bold; margin-top: 2em; }
.smaller { font-size: smaller }
.bigger { font-size: 130% }
td,th { padding: 0.2em }
ul {
margin: 0.5em 1.5em 0.5em 1.5em;
padding: 0;
}
ol {
margin: 0.5em 1.5em 0.5em 1.5em;
padding: 0;
}
ul { list-style-type: square; }
ul ul { list-style-type: disc; }
ul ul ul { list-style-type: circle; }
ul ul ul ul { list-style-type: disc; }
ul li { list-style: square;
margin: 0.1em 0em 0.6em 0;
padding: 0 0 0 0;
line-height: 140%;
}
ol li { margin: 0.1em 0em 0.6em 1.5em;
padding: 0 0 0 0px;
line-height: 140%;
list-style-type: decimal;
}
li ul li { font-size: 85%; font-style: italic;
list-style-type: disc;
background: transparent;
padding: 0 0 0 0;
}
li li ul li { font-size: 85%; font-style: normal;
list-style-type: circle;
background: transparent;
padding: 0 0 0 0;
}
li li li ul li {
list-style-type: disc;
background: transparent;
padding: 0 0 0 0;
}
li ol li {
list-style-type: decimal;
}
li li ol li {
list-style-type: decimal;
}

ol.outline li:hover { cursor: pointer }
ol.outline li.nofold:hover { cursor: default }
ul.outline li:hover { cursor: pointer }
ul.outline li.nofold:hover { cursor: default }
ol.outline { list-style:decimal; }
ol.outline ol { list-style-type:lower-alpha }
ol.outline li.nofold {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAIACAMzMzOvr/ywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7) no-repeat 0px 0.5em;
}
ol.outline li.unfolded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs=) no-repeat 0px 0.5em;
}
ol.outline li.folded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ol.outline li.unfolded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs=) no-repeat 0px 0.5em;
}
ol.outline li.folded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ul.outline li.nofold {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAIACAMzMzOvr/ywAAAAACQAJAAACD4SPoRvG614Dctb4MEMcFAA7) no-repeat 0px 0.5em;
}
ul.outline li.unfolded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACEYyPoivG614LAlg7ZZbxoR8UADs=) no-repeat 0px 0.5em;
}
ul.outline li.folded {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAMPD/8zMzOvr/////ywAAAAACQAJAAACFIyPoiu2sJyCyoF7W3hxz850CFIAADs=) no-repeat 0px 0.5em;
}
ul.outline li.unfolded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACEYSPoivG614DIlg7ZZbxoQ8UADs=) no-repeat 0px 0.5em;
}
ul.outline li.folded:hover {
padding: 0 0 0 20px;
background: transparent url(data:image/gif;base64,R0lGODdhCQAJAKEDAAAAAAAA/8PD/////ywAAAAACQAJAAACFISPoiu2sZyCyoV7G3hxz850CFIAADs=) no-repeat 0px 0.5em;
}

a.titleslide { font-weight: bold; font-style: italic }

img.hidden { display: none; visibility: hidden }
div.initial_prompt { display: none; visibility: hidden }
div.slide {
visibility: visible;
position: inherit;
}
div.handout {
border-top-style: solid;
border-top-width: thin;
border-top-color: black;
}
@media screen {
.hidden { display: none; visibility: visible }
div.slide.hidden { display: block; visibility: visible }
div.handout.hidden { display: block; visibility: visible }
div.background { display: none; visibility: hidden }
body.single_slide div.initial_prompt { display: block; visibility: visible }
body.single_slide div.background { display: block; visibility: visible }
body.single_slide div.background.hidden { display: none; visibility: hidden }
body.single_slide .invisible { visibility: hidden }
body.single_slide .hidden { display: none; visibility: hidden }
body.single_slide div.slide { position: absolute }
body.single_slide div.handout { display: none; visibility: hidden }
}
@media print {
.hidden { display: block; visibility: visible }
div.slide pre { font-size: 60%; padding-left: 0.5em; }
div.toolbar { display: none; visibility: hidden; }
div.slidy_toc { display: none; visibility: hidden; }
div.background { display: none; visibility: hidden; }
div.slide { page-break-before: always }

div.slide.first-slide { page-break-before: avoid }
}


.jslider table {
margin-left: 0em;
margin-right: 0em;
}

table.dataTable, .shiny-datatable-output div {
font-size: 14pt;
}

.dataTables_info, .dataTables_paginate {
font-size: 19px;
}

pre.sourceCode, code.sourceCode {
font-size: 80%;
}

label, button, input, select, textarea {
font-size: 14pt;
}

ul.nav, ul.nav li {
list-style-type: none;
}
</style>
  <script src="data:application/javascript;base64,Lyogc2xpZHkuanMKCiAgIENvcHlyaWdodCAoYykgMjAwNS0yMDEzIFczQyAoTUlULCBFUkNJTSwgS2VpbyksIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAgIFczQyBsaWFiaWxpdHksIHRyYWRlbWFyaywgZG9jdW1lbnQgdXNlIGFuZCBzb2Z0d2FyZSBsaWNlbnNpbmcKICAgcnVsZXMgYXBwbHksIHNlZToKCiAgIGh0dHA6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvY29weXJpZ2h0LWRvY3VtZW50cwogICBodHRwOi8vd3d3LnczLm9yZy9Db25zb3J0aXVtL0xlZ2FsL2NvcHlyaWdodC1zb2Z0d2FyZQoKICAgRGVmaW5lcyBzaW5nbGUgbmFtZSAidzNjX3NsaWR5IiBpbiBnbG9iYWwgbmFtZXNwYWNlCiAgIEFkZHMgZXZlbnQgaGFuZGxlcnMgd2l0aG91dCB0cmFtcGxpbmcgb24gYW55IG90aGVycwoqLwoKLy8gdGhlIHNsaWR5IG9iamVjdCBpbXBsZW1lbnRhdGlvbgp2YXIgdzNjX3NsaWR5ID0gewogIC8vIGNsYXNzaWZ5IHdoaWNoIGtpbmQgb2YgYnJvd3NlciB3ZSdyZSBydW5uaW5nIHVuZGVyCiAgbnNfcG9zOiAodHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldCE9J3VuZGVmaW5lZCcpLAogIGtodG1sOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgb3BlcmE6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiT3BlcmEiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGFkOiAoKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoImlQYWQiKSA+PSAwID8gdHJ1ZSA6IGZhbHNlKSwKICBpcGhvbmU6ICgobmF2aWdhdG9yLnVzZXJBZ2VudCkuaW5kZXhPZigiaVBob25lIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgYW5kcm9pZDogKChuYXZpZ2F0b3IudXNlckFnZW50KS5pbmRleE9mKCJBbmRyb2lkIikgPj0gMCA/IHRydWUgOiBmYWxzZSksCiAgaWU6ICh0eXBlb2YgZG9jdW1lbnQuYWxsICE9ICJ1bmRlZmluZWQiICYmICF0aGlzLm9wZXJhKSwKICBpZTY6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSAhPSAtMSksCiAgaWU3OiAoIXRoaXMubnNfcG9zICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA3IikgIT0gLTEpLAogIGllODogKCF0aGlzLm5zX3BvcyAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpICE9IC0xKSwKICBpZTk6ICghdGhpcy5uc19wb3MgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDkiKSAhPSAtMSksCgogIC8vIGRhdGEgZm9yIHN3aXBlIGFuZCBkb3VibGUgdGFwIGRldGVjdGlvbiBvbiB0b3VjaCBzY3JlZW5zCiAgbGFzdF90YXA6IDAsCiAgcHJldl90YXA6IDAsCiAgc3RhcnRfeDogMCwKICBzdGFydF95OiAwLAogIGRlbHRhX3g6IDAsCiAgZGVsdGFfeTogMCwKCiAgLy8gYXJlIHdlIHJ1bm5pbmcgYXMgWEhUTUw/IChkb2Vzbid0IHdvcmsgb24gT3BlcmEpCiAgaXNfeGh0bWw6IC94bWwvLnRlc3QoZG9jdW1lbnQuY29udGVudFR5cGUpLAoKICBzbGlkZV9udW1iZXI6IDAsIC8vIGludGVnZXIgc2xpZGUgY291bnQ6IDAsIDEsIDIsIC4uLgogIHNsaWRlX251bWJlcl9lbGVtZW50OiBudWxsLCAvLyBlbGVtZW50IGNvbnRhaW5pbmcgc2xpZGUgbnVtYmVyCiAgc2xpZGVzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIHNsaWRlIGRpdidzCiAgbm90ZXM6IFtdLCAvLyBzZXQgdG8gYXJyYXkgb2YgaGFuZG91dCBkaXYncwogIGJhY2tncm91bmRzOiBbXSwgLy8gc2V0IHRvIGFycmF5IG9mIGJhY2tncm91bmQgZGl2J3MKICBvYnNlcnZlcnM6IFtdLCAvLyBsaXN0IG9mIG9ic2VydmVyIGZ1bmN0aW9ucwogIHRvb2xiYXI6IG51bGwsIC8vIGVsZW1lbnQgY29udGFpbmluZyB0b29sYmFyCiAgdGl0bGU6IG51bGwsIC8vIGRvY3VtZW50IHRpdGxlCiAgbGFzdF9zaG93bjogbnVsbCwgLy8gbGFzdCBpbmNyZW1lbnRhbGx5IHNob3duIGl0ZW0KICBlb3M6IG51bGwsICAvLyBzcGFuIGVsZW1lbnQgZm9yIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKICB0b2M6IG51bGwsIC8vIHRhYmxlIG9mIGNvbnRlbnRzCiAgb3V0bGluZTogbnVsbCwgLy8gb3V0bGluZSBlbGVtZW50IHdpdGggdGhlIGZvY3VzCiAgc2VsZWN0ZWRfdGV4dF9sZW46IDAsIC8vIGxlbmd0aCBvZiBkcmFnIHNlbGVjdGlvbiBvbiBkb2N1bWVudAogIHZpZXdfYWxsOiAwLCAgLy8gMSB0byB2aWV3IGFsbCBzbGlkZXMgKyBoYW5kb3V0cwogIHdhbnRfdG9vbGJhcjogdHJ1ZSwgIC8vIHVzZXIgcHJlZmVyZW5jZSB0byBzaG93L2hpZGUgdG9vbGJhcgogIG1vdXNlX2NsaWNrX2VuYWJsZWQ6IHRydWUsIC8vIGVuYWJsZXMgbGVmdCBjbGljayBmb3IgbmV4dCBzbGlkZQogIHNjcm9sbF9oYWNrOiAwLCAvLyBJRSB3b3JrIGFyb3VuZCBmb3IgcG9zaXRpb246IGZpeGVkCiAgZGlzYWJsZV9zbGlkZV9jbGljazogZmFsc2UsICAvLyB1c2VkIGJ5IGNsaWNrZWQgYW5jaG9ycwoKICBsYW5nOiAiZW4iLCAvLyB1cGRhdGVkIHRvIGxhbmd1YWdlIHNwZWNpZmllZCBieSBodG1sIGZpbGUKCiAgaGVscF9hbmNob3I6IG51bGwsIC8vIHVzZWQgZm9yIGtleWJvYXJkIGZvY3VzIGhhY2sgaW4gc2hvd1Rvb2xiYXIoKQogIGhlbHBfcGFnZTogImh0dHA6Ly93d3cudzMub3JnL1RhbGtzL1Rvb2xzL1NsaWR5Mi9oZWxwL2hlbHAuaHRtbCIsCiAgaGVscF90ZXh0OiAiTmF2aWdhdGUgd2l0aCBtb3VzZSBjbGljaywgc3BhY2UgYmFyLCBDdXJzb3IgTGVmdC9SaWdodCwgIiArCiAgICAgICAgICAgICAib3IgUGcgVXAgYW5kIFBnIERuLiBVc2UgUyBhbmQgQiB0byBjaGFuZ2UgZm9udCBzaXplLiIsCgogIHNpemVfaW5kZXg6IDAsCiAgc2l6ZV9hZGp1c3RtZW50OiAwLAogIHNpemVzOiAgbmV3IEFycmF5KCIxMHB0IiwgIjEycHQiLCAiMTRwdCIsICIxNnB0IiwgIjE4cHQiLCAiMjBwdCIsCiAgICAgICAgICAgICAgICAgICAgIjIycHQiLCAiMjRwdCIsICIyNnB0IiwgIjI4cHQiLCAiMzBwdCIsICIzMnB0IiksCgogIC8vIG5lZWRlZCBmb3IgZWZmaWNpZW50IHJlc2l6aW5nCiAgbGFzdF93aWR0aDogMCwKICBsYXN0X2hlaWdodDogMCwKCgogIC8vIE5lZWRlZCBmb3IgY3Jvc3MgYnJvd3NlciBzdXBwb3J0IGZvciByZWxhdGl2ZSB3aWR0aC9oZWlnaHQgb24KICAvLyBvYmplY3QgZWxlbWVudHMuIFRoZSB3b3JrIGFyb3VuZCBpcyB0byBzYXZlIHdpZHRoL2hlaWdodCBhdHRyaWJ1dGVzCiAgLy8gYW5kIHRoZW4gdG8gcmVjb21wdXRlIGFic29sdXRlIHdpZHRoL2hlaWdodCBkaW1lbnNpb25zIG9uIHJlc2l6aW5nCiAgIG9iamVjdHM6IFtdLAoKICAvLyBhdHRhY2ggaW5pdGlhbGlhdGlvbiBldmVudCBoYW5kbGVycwogIHNldF91cDogZnVuY3Rpb24gKCkgewogICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHsgdzNjX3NsaWR5LmluaXQoKTsgfTsKICAgIGlmICh0eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgIT0gInVuZGVmaW5lZCIpCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgaW5pdCwgZmFsc2UpOwogICAgZWxzZQogICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsIGluaXQpOwogIH0sCgogIGhpZGVfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiAhdzNjX3NsaWR5LmluaXRpYWxpemVkKQogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgIGVsc2UKICAgICAgc2V0VGltZW91dCh3M2Nfc2xpZHkuaGlkZV9zbGlkZXMsIDUwKTsKICB9LAoKICAvLyBoYWNrIHRvIHBlcnN1YWRlIElFIHRvIGNvbXB1dGUgY29ycmVjdCBkb2N1bWVudCBoZWlnaHQKICAvLyBhcyBuZWVkZWQgZm9yIHNpbXVsYXRpbmcgZml4ZWQgcG9zaXRpb25pbmcgb2YgdG9vbGJhcgogIGllX2hhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHdpbmRvdy5yZXNpemVCeSgwLC0xKTsKICAgIHdpbmRvdy5yZXNpemVCeSgwLCAxKTsKICB9LAoKICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAvL2FsZXJ0KCJzbGlkeSBzdGFydGluZyB0ZXN0IDEwIik7CiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICB0aGlzLmluaXRfbG9jYWxpemF0aW9uKCk7CiAgICB0aGlzLmFkZF90b29sYmFyKCk7CiAgICB0aGlzLndyYXBfaW1wbGljaXRfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfc2xpZGVzKCk7CiAgICB0aGlzLmNvbGxlY3Rfbm90ZXMoKTsKICAgIHRoaXMuY29sbGVjdF9iYWNrZ3JvdW5kcygpOwogICAgdGhpcy5vYmplY3RzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgib2JqZWN0Iik7CiAgICB0aGlzLnBhdGNoX2FuY2hvcnMoKTsKICAgIHRoaXMuc2xpZGVfbnVtYmVyID0gdGhpcy5maW5kX3NsaWRlX251bWJlcihsb2NhdGlvbi5ocmVmKTsKICAgIHdpbmRvdy5vZmZzY3JlZW5idWZmZXJpbmcgPSB0cnVlOwogICAgdGhpcy5zaXplX2FkanVzdG1lbnQgPSB0aGlzLmZpbmRfc2l6ZV9hZGp1c3QoKTsKICAgIHRoaXMudGltZV9sZWZ0ID0gdGhpcy5maW5kX2R1cmF0aW9uKCk7CiAgICB0aGlzLmhpZGVfaW1hZ2VfdG9vbGJhcigpOyAgLy8gc3VwcHJlc3MgSUUgaW1hZ2UgdG9vbGJhciBwb3B1cAogICAgdGhpcy5pbml0X291dGxpbmVyKCk7ICAvLyBhY3RpdmF0ZSBmb2xkL3VuZm9sZCBzdXBwb3J0CiAgICB0aGlzLnRpdGxlID0gZG9jdW1lbnQudGl0bGU7CiAgICB0aGlzLmtleWJvYXJkbGVzcyA9ICh0aGlzLmlwYWR8fHRoaXMuaXBob25lfHx0aGlzLmFuZHJvaWQpOwoKICAgIGlmICh0aGlzLmtleWJvYXJkbGVzcykKICAgIHsKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgIHRoaXMud2FudF90b29sYmFyID0gMDsKICAgIH0KCiAgICAvLyB3b3JrIGFyb3VuZCBmb3Igb3BlcmEgYnVnCiAgICB0aGlzLmlzX3hodG1sID0gKGRvY3VtZW50LmJvZHkudGFnTmFtZSA9PSAiQk9EWSIgPyBmYWxzZSA6IHRydWUpOwoKICAgIGlmICh0aGlzLnNsaWRlcy5sZW5ndGggPiAwKQogICAgewogICAgICB2YXIgc2xpZGUgPSB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlX251bWJlcl07CiAgIAogICAgICBpZiAodGhpcy5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgICAgICAgdGhpcy5zZXRfZW9zX3N0YXR1cyh0cnVlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKCF0aGlzLm5leHRfaW5jcmVtZW50YWxfaXRlbSh0aGlzLmxhc3Rfc2hvd24pKTsKICAgICAgfQoKICAgICAgdGhpcy5zZXRfbG9jYXRpb24oKTsKICAgICAgdGhpcy5hZGRfY2xhc3ModGhpcy5zbGlkZXNbMF0sICJmaXJzdC1zbGlkZSIpOwogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZShzbGlkZSk7CiAgICB9CgogICAgdGhpcy50b2MgPSB0aGlzLnRhYmxlX29mX2NvbnRlbnRzKCk7CgogICAgdGhpcy5hZGRfaW5pdGlhbF9wcm9tcHQoKTsKCiAgICAvLyBiaW5kIGV2ZW50IGhhbmRsZXJzIHdpdGhvdXQgaW50ZXJmZXJpbmcgd2l0aCBjdXN0b20gcGFnZSBzY3JpcHRzCiAgICAvLyBUYXAgZXZlbnRzIGJlaGF2ZSB0b28gd2VpcmRseSB0byBzdXBwb3J0IGNsaWNrcyByZWxpYWJseSBvbgogICAgLy8gaVBob25lIGFuZCBpUGFkLCBzbyBleGNsdWRlIHRoZXNlIGZyb20gY2xpY2sgaGFuZGxlcgoKICAgIGlmICghdGhpcy5rZXlib2FyZGxlc3MpCiAgICB7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LmJvZHksICJjbGljayIsIHRoaXMubW91c2VfYnV0dG9uX2NsaWNrKTsKICAgICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQuYm9keSwgIm1vdXNlZG93biIsIHRoaXMubW91c2VfYnV0dG9uX2Rvd24pOwogICAgfQoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAia2V5ZG93biIsIHRoaXMua2V5X2Rvd24pOwogICAgdGhpcy5hZGRfbGlzdGVuZXIoZG9jdW1lbnQsICJrZXlwcmVzcyIsIHRoaXMua2V5X3ByZXNzKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInJlc2l6ZSIsIHRoaXMucmVzaXplZCk7CiAgICB0aGlzLmFkZF9saXN0ZW5lcih3aW5kb3csICJzY3JvbGwiLCB0aGlzLnNjcm9sbGVkKTsKICAgIHRoaXMuYWRkX2xpc3RlbmVyKHdpbmRvdywgInVubG9hZCIsIHRoaXMudW5sb2FkZWQpOwoKICAgIHRoaXMuYWRkX2xpc3RlbmVyKGRvY3VtZW50LCAiZ2VzdHVyZWNoYW5nZSIsIGZ1bmN0aW9uICgpCiAgICB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0pOwoKICAgIHRoaXMuYXR0YWNoX3RvdWNoX2hhbmRlcnModGhpcy5zbGlkZXMpOwoKICAgIC8vIHRoaXMgc2VlbXMgdG8gYmUgYSBkZWJ1Z2dpbmcgaGFjawogICAgLy9pZiAoIWRvY3VtZW50LmJvZHkub25jbGljaykKICAgIC8vICBkb2N1bWVudC5ib2R5Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IH07CgogICAgdGhpcy5zaW5nbGVfc2xpZGVfdmlldygpOwoKICAgIC8vdGhpcy5zZXRfbG9jYXRpb24oKTsKCiAgICB0aGlzLnJlc2l6ZWQoKTsKCiAgICBpZiAodGhpcy5pZTcpCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CgogICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKCiAgICAvLyBmb3IgYmFjayBidXR0b24gZGV0ZWN0aW9uCiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHczY19zbGlkeS5jaGVja19sb2NhdGlvbigpOyB9LCAyMDApOwogICAgdzNjX3NsaWR5LmluaXRpYWxpemVkID0gdHJ1ZTsKICB9LAoKICAvLyBjcmVhdGUgZGl2IGVsZW1lbnQgd2l0aCBsaW5rcyB0byBlYWNoIHNsaWRlCiAgdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0b2MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgIHRoaXMuYWRkX2NsYXNzKHRvYywgInNsaWR5X3RvYyBoaWRkZW4iKTsKICAgIC8vdG9jLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCAiMCIpOwoKICAgIHZhciBoZWFkaW5nID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICB0aGlzLmFkZF9jbGFzcyhoZWFkaW5nLCAidG9jLWhlYWRpbmciKTsKICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiVGFibGUgb2YgQ29udGVudHMiKTsKCiAgICB0b2MuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CiAgICB2YXIgcHJldmlvdXMgPSBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIHZhciB0aXRsZSA9IHRoaXMuaGFzX2NsYXNzKHRoaXMuc2xpZGVzW2ldLCAidGl0bGUiKTsKICAgICAgdmFyIG51bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKChpICsgMSkgKyAiLiAiKTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChudW0pOwoKICAgICAgdmFyIGEgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgIGEuc2V0QXR0cmlidXRlKCJocmVmIiwgIiMoIiArIChpKzEpICsgIikiKTsKCiAgICAgIGlmICh0aXRsZSkKICAgICAgICB0aGlzLmFkZF9jbGFzcyhhLCAidGl0bGVzbGlkZSIpOwoKICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnNsaWRlX25hbWUoaSkpOwogICAgICBhLmFwcGVuZENoaWxkKG5hbWUpOwogICAgICBhLm9uY2xpY2sgPSB3M2Nfc2xpZHkudG9jX2NsaWNrOwogICAgICBhLm9ua2V5ZG93biA9IHczY19zbGlkeS50b2Nfa2V5X2Rvd247CiAgICAgIGEucHJldmlvdXMgPSBwcmV2aW91czsKCiAgICAgIGlmIChwcmV2aW91cykKICAgICAgICBwcmV2aW91cy5uZXh0ID0gYTsKCiAgICAgIHRvYy5hcHBlbmRDaGlsZChhKTsKCiAgICAgIGlmIChpID09IDApCiAgICAgICAgdG9jLmZpcnN0ID0gYTsKCiAgICAgIGlmIChpIDwgdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkKICAgICAgewogICAgICAgIHZhciBiciA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImJyIik7CiAgICAgICAgdG9jLmFwcGVuZENoaWxkKGJyKTsKICAgICAgfQoKICAgICAgcHJldmlvdXMgPSBhOwogICAgfQoKICAgIHRvYy5mb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuZmlyc3QpCiAgICAgICAgdGhpcy5maXJzdC5mb2N1cygpOwogICAgfQoKICAgIHRvYy5vbm1vdXNldXAgPSB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX3VwOwoKICAgIHRvYy5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHsKICAgICAgZXx8KGU9d2luZG93LmV2ZW50KTsKCiAgICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPD0gMCkKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CgogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgIAogICAgICBpZiAoZS5jYW5jZWwgIT0gdW5kZWZpbmVkKQogICAgICAgIGUuY2FuY2VsID0gdHJ1ZTsKICAgICAgCiAgICAgIGlmIChlLnJldHVyblZhbHVlICE9IHVuZGVmaW5lZCkKICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIAogICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwoKICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHRvYywgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTsKICAgIHJldHVybiB0b2M7CiAgfSwKCiAgaXNfc2hvd25fdG9jOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gIXczY19zbGlkeS5oYXNfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogIH0sCgogIHNob3dfdGFibGVfb2ZfY29udGVudHM6IGZ1bmN0aW9uICgpIHsKICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3ModzNjX3NsaWR5LnRvYywgImhpZGRlbiIpOwogICAgdmFyIHRvYyA9IHczY19zbGlkeS50b2M7CiAgICB0b2MuZm9jdXMoKTsKCiAgICBpZiAodzNjX3NsaWR5LmllNyAmJiB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID09IDApCiAgICAgIHNldFRpbWVvdXQodzNjX3NsaWR5LmllX2hhY2ssIDEwMCk7CiAgfSwKCiAgaGlkZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKGZvY3VzKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKTsKCiAgICBpZiAoZm9jdXMgJiYgIXczY19zbGlkeS5vcGVyYSAmJgogICAgICAgICF3M2Nfc2xpZHkuaGFzX2NsYXNzKHczY19zbGlkeS50b2MsICJoaWRkZW4iKSkKICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogIH0sCgogIHRvZ2dsZV90YWJsZV9vZl9jb250ZW50czogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5pc19zaG93bl90b2MoKSkKICAgICAgdzNjX3NsaWR5LmhpZGVfdGFibGVfb2ZfY29udGVudHModHJ1ZSk7CiAgICBlbHNlCiAgICAgIHczY19zbGlkeS5zaG93X3RhYmxlX29mX2NvbnRlbnRzKCk7CiAgfSwKCiAgLy8gY2FsbGVkIG9uIGNsaWNraW5nIHRvYyBlbnRyeQogIHRvY19jbGljazogZnVuY3Rpb24gKGUpIHsKICAgIGlmICghZSkKICAgICAgZSA9IHdpbmRvdy5ldmVudDsKCiAgICB2YXIgdGFyZ2V0ID0gdzNjX3NsaWR5LmdldF90YXJnZXQoZSk7CgogICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMSkKICAgIHsKICAgICAgdmFyIHVyaSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoImhyZWYiKTsKCiAgICAgIGlmICh1cmkpCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJnb2luZyB0byAiICsgdXJpKTsKICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LmZpbmRfc2xpZGVfbnVtYmVyKHVyaSk7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgIC8vdGFyZ2V0LmZvY3VzKCk7CgogICAgICAgIHRyeQogICAgICAgIHsKICAgICAgICAgIGlmICghdzNjX3NsaWR5Lm9wZXJhKQogICAgICAgICAgICB3M2Nfc2xpZHkuc2V0X2ZvY3VzKCk7CiAgICAgICAgfQogICAgICAgIGNhdGNoIChlKQogICAgICAgIHsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKICAgIGlmICh3M2Nfc2xpZHkuaWU3KSB3M2Nfc2xpZHkuaWVfaGFjaygpOwogICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChlKTsKICB9LAoKICAvLyBjYWxsZWQgb25rZXlkb3duIGZvciB0b2MgZW50cnkKICB0b2Nfa2V5X2Rvd246IGZ1bmN0aW9uIChldmVudCkgewogICAgdmFyIGtleTsKCiAgICBpZiAoIWV2ZW50KQogICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgZWxzZSBpZiAoZXZlbnQud2hpY2gpCiAgICAgIGtleSA9IGV2ZW50LndoaWNoOwogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgcmV0dXJuIHRydWU7CgogICAgLy8gY2hlY2sgZm9yIGNvbmN1cnJlbnQgY29udHJvbC9jb21tYW5kL2FsdCBrZXkKICAgIC8vIGJ1dCBhcmUgdGhlc2Ugb25seSBwcmVzZW50IG9uIG1vdXNlIGV2ZW50cz8KCiAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChrZXkgPT0gMTMpCiAgICB7CiAgICAgIHZhciB1cmkgPSB0aGlzLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwoKICAgICAgaWYgKHVyaSkKICAgICAgewogICAgICAgIC8vYWxlcnQoImdvaW5nIHRvICIgKyB1cmkpOwogICAgICAgdmFyIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5maW5kX3NsaWRlX251bWJlcih1cmkpOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7CiAgICAgICAgdzNjX3NsaWR5LnNldF9sb2NhdGlvbigpOwogICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cyghdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbSh3M2Nfc2xpZHkubGFzdF9zaG93bikpOwogICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAvL3RhcmdldC5mb2N1cygpOwoKICAgICAgICB0cnkKICAgICAgICB7CiAgICAgICAgICBpZiAoIXczY19zbGlkeS5vcGVyYSkKICAgICAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgICAgIH0KICAgICAgICBjYXRjaCAoZSkKICAgICAgICB7CiAgICAgICAgfQogICAgICB9CgogICAgICB3M2Nfc2xpZHkuaGlkZV90YWJsZV9vZl9jb250ZW50cyh0cnVlKTsKCiAgICAgIGlmIChzZWxmLmllNykKICAgICAgIHczY19zbGlkeS5pZV9oYWNrKCk7CgogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSA0MCAmJiB0aGlzLm5leHQpCiAgICB7CiAgICAgIHRoaXMubmV4dC5mb2N1cygpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CgogICAgaWYgKGtleSA9PSAzOCAmJiB0aGlzLnByZXZpb3VzKQogICAgewogICAgICB0aGlzLnByZXZpb3VzLmZvY3VzKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICB0b3VjaHN0YXJ0OiBmdW5jdGlvbiAoZSkKICB7CiAgICAvLyBhIGRvdWJsZSB0b3VjaCBvZnRlbiBzdGFydHMgd2l0aCBhCiAgICAvLyBzaW5nbGUgdG91Y2ggZHVlIHRvIGZpbmdlcnMgdG91Y2hpbmcKICAgIC8vIGRvd24gYXQgc2xpZ2h0bHkgZGlmZmVyZW50IHRpbWVzCiAgICAvLyB0aHVzIGF2b2lkIGNhbGxpbmcgcHJldmVudERlZmF1bHQgaGVyZQogICAgdGhpcy5wcmV2X3RhcCA9IHRoaXMubGFzdF90YXA7CiAgICB0aGlzLmxhc3RfdGFwID0gKG5ldyBEYXRlKS5nZXRUaW1lKCk7CgogICAgdmFyIHRhcF9kZWxheSA9IHRoaXMubGFzdF90YXAgLSB0aGlzLnByZXZfdGFwOwoKICAgIGlmICh0YXBfZGVsYXkgPD0gMjAwKQogICAgewogICAgICAvLyBkb3VibGUgdGFwCiAgICB9CgogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwoKICAgIHRoaXMucGFnZVggPSB0b3VjaC5wYWdlWDsKICAgIHRoaXMucGFnZVkgPSB0b3VjaC5wYWdlWTsKICAgIHRoaXMuc2NyZWVuWCA9IHRvdWNoLnNjcmVlblg7CiAgICB0aGlzLnNjcmVlblkgPSB0b3VjaC5zY3JlZW5ZOwogICAgdGhpcy5jbGllbnRYID0gdG91Y2guY2xpZW50WDsKICAgIHRoaXMuY2xpZW50WSA9IHRvdWNoLmNsaWVudFk7CgogICAgdGhpcy5kZWx0YV94ID0gdGhpcy5kZWx0YV95ID0gMDsKICB9LAoKICB0b3VjaG1vdmU6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIG92ZXJyaWRlIG5hdGl2ZSBnZXN0dXJlcyBmb3Igc2luZ2xlIHRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07CiAgICB0aGlzLmRlbHRhX3ggPSB0b3VjaC5wYWdlWCAtIHRoaXMucGFnZVg7CiAgICB0aGlzLmRlbHRhX3kgPSB0b3VjaC5wYWdlWSAtIHRoaXMucGFnZVk7CiAgfSwKCiAgdG91Y2hlbmQ6IGZ1bmN0aW9uIChlKQogIHsKICAgIC8vIGRlZmF1bHQgYmVoYXZpb3IgZm9yIG11bHRpLXRvdWNoCiAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDEpCiAgICAgIHJldHVybjsKCiAgICB2YXIgZGVsYXkgPSAobmV3IERhdGUpLmdldFRpbWUoKSAtIHRoaXMubGFzdF90YXA7CiAgICB2YXIgZHggPSB0aGlzLmRlbHRhX3g7CiAgICB2YXIgZHkgPSB0aGlzLmRlbHRhX3k7CiAgICB2YXIgYWJzX2R4ID0gTWF0aC5hYnMoZHgpOwogICAgdmFyIGFic19keSA9IE1hdGguYWJzKGR5KTsKCiAgICBpZiAoZGVsYXkgPCA1MDAgJiYgKGFic19keCA+IDEwMCB8fCBhYnNfZHkgPiAxMDApKQogICAgewogICAgICBpZiAoYWJzX2R4ID4gMC41ICogYWJzX2R5KQogICAgICB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICBpZiAoZHggPCAwKQogICAgICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUodHJ1ZSk7CiAgICAgICAgZWxzZQogICAgICAgICAgdzNjX3NsaWR5LnByZXZpb3VzX3NsaWRlKHRydWUpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKGFic19keSA+IDIgKiBhYnNfZHgpCiAgICAgIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpOwogICAgICB9CiAgICB9CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGJlZm9yZV9wcmludDogZnVuY3Rpb24gKCkgewogICAgdGhpcy5zaG93X2FsbF9zbGlkZXMoKTsKICAgIHRoaXMuaGlkZV90b29sYmFyKCk7CiAgICBhbGVydCgiYmVmb3JlIHByaW50Iik7CiAgfSwKCiAgLy8gIyMjIE9CU09MRVRFICMjIwogIGFmdGVyX3ByaW50OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMudmlld19hbGwpCiAgICB7CiAgICAgIHRoaXMuc2luZ2xlX3NsaWRlX3ZpZXcoKTsKICAgICAgdGhpcy5zaG93X3Rvb2xiYXIoKTsKICAgIH0KICAgIGFsZXJ0KCJhZnRlciBwcmludCIpOwogIH0sCgogIC8vICMjIyBPQlNPTEVURSAjIyMKICBwcmludF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYmVmb3JlX3ByaW50KCk7CiAgICB3aW5kb3cucHJpbnQoKTsKICAgIHRoaXMuYWZ0ZXJfcHJpbnQoKTsKICB9LAoKICAvLyAjIyMgT0JTT0xFVEUgPz8gIyMjCiAgdG9nZ2xlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnZpZXdfYWxsKQogICAgewogICAgICB0aGlzLnNpbmdsZV9zbGlkZV92aWV3KCk7CiAgICAgIHRoaXMuc2hvd190b29sYmFyKCk7CiAgICAgIHRoaXMudmlld19hbGwgPSAwOwogICAgfQogICAgZWxzZQogICAgewogICAgICB0aGlzLnNob3dfYWxsX3NsaWRlcygpOwogICAgICB0aGlzLmhpZGVfdG9vbGJhcigpOwogICAgICB0aGlzLnZpZXdfYWxsID0gMTsKICAgIH0KICB9LAoKICAvLyBwcmVwYXJlIGZvciBwcmludGluZyAgIyMjIE9CU09MRVRFICMjIwogIHNob3dfYWxsX3NsaWRlczogZnVuY3Rpb24gKCkgewogICAgdGhpcy5yZW1vdmVfY2xhc3MoZG9jdW1lbnQuYm9keSwgInNpbmdsZV9zbGlkZSIpOwogICAgdGhpcy5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICB9LAoKICAvLyByZXN0b3JlIGFmdGVyIHByaW50aW5nICAjIyMgT0JTT0xFVEUgIyMjCiAgc2luZ2xlX3NsaWRlX3ZpZXc6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuYWRkX2NsYXNzKGRvY3VtZW50LmJvZHksICJzaW5nbGVfc2xpZGUiKTsKICAgIHRoaXMuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICB0aGlzLmxhc3Rfc2hvd24gPSB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obnVsbCk7CiAgfSwKCiAgLy8gc3VwcHJlc3MgSUUncyBpbWFnZSB0b29sYmFyIHBvcCB1cAogIGhpZGVfaW1hZ2VfdG9vbGJhcjogZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5zX3BvcykKICAgIHsKICAgICAgdmFyIGltYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTUciKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKQogICAgICAgIGltYWdlc1tpXS5zZXRBdHRyaWJ1dGUoImdhbGxlcnlpbWciLCAibm8iKTsKICAgIH0KICB9LAoKICB1bmxvYWRlZDogZnVuY3Rpb24gKGUpIHsKICAgIC8vYWxlcnQoInVubG9hZGVkIik7CiAgfSwKCiAgLy8gU2FmYXJpIGFuZCBLb25xdWVyb3IgZG9uJ3QgeWV0IHN1cHBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSgpCiAgLy8gYW5kIHRoZXkgYWx3YXlzIHJlbG9hZCBwYWdlIHdoZW4gbG9jYXRpb24uaHJlZiBpcyB1cGRhdGVkCiAgaXNfS0hUTUw6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBhZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7CiAgICByZXR1cm4gKGFnZW50LmluZGV4T2YoIktIVE1MIikgPj0gMCA/IHRydWUgOiBmYWxzZSk7CiAgfSwKCiAgLy8gZmluZCBzbGlkZSBuYW1lIGZyb20gZmlyc3QgaDEgZWxlbWVudAogIC8vIGRlZmF1bHQgdG8gZG9jdW1lbnQgdGl0bGUgKyBzbGlkZSBudW1iZXIKICBzbGlkZV9uYW1lOiBmdW5jdGlvbiAoaW5kZXgpIHsKICAgIHZhciBuYW1lID0gbnVsbDsKICAgIHZhciBzbGlkZSA9IHRoaXMuc2xpZGVzW2luZGV4XTsKCiAgICB2YXIgaGVhZGluZyA9IHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKTsKCiAgICBpZiAoaGVhZGluZykKICAgICAgbmFtZSA9IHRoaXMuZXh0cmFjdF90ZXh0KGhlYWRpbmcpOwoKICAgIGlmICghbmFtZSkKICAgICAgbmFtZSA9IHRoaXMudGl0bGUgKyAiKCIgKyAoaW5kZXggKyAxKSArICIpIjsKCiAgICBuYW1lLnJlcGxhY2UoL1wmL2csICImYW1wOyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPC9nLCAiJmx0OyIpOwogICAgbmFtZS5yZXBsYWNlKC9cPi9nLCAiJmd0OyIpOwoKICAgIHJldHVybiBuYW1lOwogIH0sCgogIC8vIGZpbmQgZmlyc3QgaDEgZWxlbWVudCBpbiBET00gdHJlZQogIGZpbmRfaGVhZGluZzogZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICghbm9kZSB8fCBub2RlLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBudWxsOwoKICAgIGlmIChub2RlLm5vZGVOYW1lID09ICJIMSIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiaDEiKQogICAgICByZXR1cm4gbm9kZTsKCiAgICB2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKGNoaWxkKQogICAgewogICAgICBub2RlID0gdGhpcy5maW5kX2hlYWRpbmcoY2hpbGQpOwoKICAgICAgaWYgKG5vZGUpCiAgICAgICAgcmV0dXJuIG5vZGU7CgogICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIC8vIHJlY3Vyc2l2ZWx5IGV4dHJhY3QgdGV4dCBmcm9tIERPTSB0cmVlCiAgZXh0cmFjdF90ZXh0OiBmdW5jdGlvbiAobm9kZSkgewogICAgaWYgKCFub2RlKQogICAgICByZXR1cm4gIiI7CgogICAgLy8gdGV4dCBub2RlcwogICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykKICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlOwoKICAgIC8vIGVsZW1lbnRzCiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKQogICAgewogICAgICBub2RlID0gbm9kZS5maXJzdENoaWxkOwogICAgICB2YXIgdGV4dCA9ICIiOwoKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB0ZXh0ID0gdGV4dCArIHRoaXMuZXh0cmFjdF90ZXh0KG5vZGUpOwogICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0KCiAgICByZXR1cm4gIiI7CiAgfSwKCiAgLy8gZmluZCBjb3B5cmlnaHQgdGV4dCBmcm9tIG1ldGEgZWxlbWVudAogIGZpbmRfY29weXJpZ2h0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgbmFtZSwgY29udGVudDsKICAgIHZhciBtZXRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm1ldGEiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGEubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIG5hbWUgPSBtZXRhW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpOwogICAgICBjb250ZW50ID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKTsKCiAgICAgIGlmIChuYW1lID09ICJjb3B5cmlnaHQiKQogICAgICAgIHJldHVybiBjb250ZW50OwogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0sCgogIGZpbmRfc2l6ZV9hZGp1c3Q6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZm9udC1zaXplLWFkanVzdG1lbnQiKQogICAgICAgIHJldHVybiAxICogY29udGVudDsKICAgIH0KCiAgICByZXR1cm4gMTsKICB9LAoKICAvLyA8bWV0YSBuYW1lPSJkdXJhdGlvbiIgY29udGVudD0iMjAiIC8+ICBmb3IgMjAgbWludXRlcwogIGZpbmRfZHVyYXRpb246IGZ1bmN0aW9uICgpIHsKICAgIHZhciBuYW1lLCBjb250ZW50LCBvZmZzZXQ7CiAgICB2YXIgbWV0YSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRhLmxlbmd0aDsgKytpKQogICAgewogICAgICBuYW1lID0gbWV0YVtpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsKICAgICAgY29udGVudCA9IG1ldGFbaV0uZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7CgogICAgICBpZiAobmFtZSA9PSAiZHVyYXRpb24iKQogICAgICAgIHJldHVybiA2MDAwMCAqIGNvbnRlbnQ7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfSwKCiAgcmVwbGFjZV9ieV9ub25fYnJlYWtpbmdfc3BhY2U6IGZ1bmN0aW9uIChzdHIpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKQogICAgICBzdHJbaV0gPSAxNjA7CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBpcyB1c2Ugb2YgImxpIiBva2F5IGZvciB0ZXh0L2h0bWw/CiAgLy8gZm9yIFhIVE1MIGRvIHdlIGFsc28gbmVlZCB0byBzcGVjaWZ5IG5hbWVzcGFjZT8KICBpbml0X291dGxpbmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgKytpKQogICAgewogICAgICB2YXIgdGFyZ2V0ID0gaXRlbXNbaV07CgogICAgICBpZiAoIXRoaXMuaGFzX2NsYXNzKHRhcmdldC5wYXJlbnROb2RlLCAib3V0bGluZSIpKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgdGFyZ2V0Lm9uY2xpY2sgPSB0aGlzLm91dGxpbmVfY2xpY2s7Ci8qICMjIyBtb3JlIHdvcmsgbmVlZGVkIGZvciBJRTYKICAgICAgaWYgKCF0aGlzLm5zX3BvcykKICAgICAgewogICAgICAgIHRhcmdldC5vbm1vdXNlb3ZlciA9IHRoaXMuaG92ZXJfb3V0bGluZTsKICAgICAgICB0YXJnZXQub25tb3VzZW91dCA9IHRoaXMudW5ob3Zlcl9vdXRsaW5lOwogICAgICB9CiovCiAgICAgIGlmICh0aGlzLmZvbGRhYmxlKHRhcmdldCkpCiAgICAgIHsKICAgICAgICB0YXJnZXQuZm9sZGFibGUgPSB0cnVlOwogICAgICAgIHRhcmdldC5vbmZvY3VzID0gZnVuY3Rpb24gKCkge3czY19zbGlkeS5vdXRsaW5lID0gdGhpczt9OwogICAgICAgIHRhcmdldC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7dzNjX3NsaWR5Lm91dGxpbmUgPSBudWxsO307CgogICAgICAgIGlmICghdGFyZ2V0LmdldEF0dHJpYnV0ZSgidGFiaW5kZXgiKSkKICAgICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwgIjAiKTsKCiAgICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKHRhcmdldCwgImV4cGFuZCIpKQogICAgICAgICAgdGhpcy51bmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLmZvbGQodGFyZ2V0KTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICB0aGlzLmFkZF9jbGFzcyh0YXJnZXQsICJub2ZvbGQiKTsKICAgICAgICB0YXJnZXQudmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGFyZ2V0LmZvbGRhYmxlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9LAoKICBmb2xkYWJsZTogZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICghaXRlbSB8fCBpdGVtLm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgbm9kZSA9IGl0ZW0uZmlyc3RDaGlsZDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKQogICAgICAgIHJldHVybiB0cnVlOwoKICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICBmb2xkOiBmdW5jdGlvbiAoaXRlbSkgewogICAgaWYgKGl0ZW0pCiAgICB7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJ1bmZvbGRlZCIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhpdGVtLCAiZm9sZGVkIik7CiAgICB9CgogICAgdmFyIG5vZGUgPSBpdGVtID8gaXRlbS5maXJzdENoaWxkIDogbnVsbDsKCiAgICB3aGlsZSAobm9kZSkKICAgIHsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiB0aGlzLmlzX2Jsb2NrKG5vZGUpKSAvLyBlbGVtZW50CiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyhub2RlLCAiaGlkZGVuIik7CiAgICAgIH0KCiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOwogICAgfQoKICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlOwogIH0sCgogIC8vICMjIyBDSEVDSyBNRSAjIyMgc3dpdGNoIHRvIGFkZC9yZW1vdmUgImhpZGRlbiIgY2xhc3MKICB1bmZvbGQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbSkKICAgIHsKICAgICAgdGhpcy5hZGRfY2xhc3MoaXRlbSwgInVuZm9sZGVkIik7CiAgICAgIHRoaXMucmVtb3ZlX2NsYXNzKGl0ZW0sICJmb2xkZWQiKTsKICAgIH0KCiAgICB2YXIgbm9kZSA9IGl0ZW0gPyBpdGVtLmZpcnN0Q2hpbGQgOiBudWxsOwoKICAgIHdoaWxlIChub2RlKQogICAgewogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIHRoaXMuaXNfYmxvY2sobm9kZSkpIC8vIGVsZW1lbnQKICAgICAgewogICAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImhpZGRlbiIpOwogICAgICB9CgogICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICBpdGVtLnZpc2libGUgPSB0cnVlOwogIH0sCgogIG91dGxpbmVfY2xpY2s6IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgdmFyIHJpZ2h0Y2xpY2sgPSBmYWxzZTsKICAgIHZhciB0YXJnZXQgPSB3M2Nfc2xpZHkuZ2V0X3RhcmdldChlKTsKCiAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldC52aXNpYmxlID09IHVuZGVmaW5lZCkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKCF0YXJnZXQpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmIChlLndoaWNoKQogICAgICByaWdodGNsaWNrID0gKGUud2hpY2ggPT0gMyk7CiAgICBlbHNlIGlmIChlLmJ1dHRvbikKICAgICAgcmlnaHRjbGljayA9IChlLmJ1dHRvbiA9PSAyKTsKCiAgICBpZiAoIXJpZ2h0Y2xpY2sgJiYgdGFyZ2V0LnZpc2libGUgIT0gdW5kZWZpbmVkKQogICAgewogICAgICBpZiAodGFyZ2V0LmZvbGRhYmxlKQogICAgICB7CiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKQogICAgICAgICAgdzNjX3NsaWR5LmZvbGQodGFyZ2V0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHRhcmdldCk7CiAgICAgIH0KCiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgYWRkX2luaXRpYWxfcHJvbXB0OiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgcHJvbXB0ID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICBwcm9tcHQuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJpbml0aWFsX3Byb21wdCIpOwoKICAgIHZhciBwMSA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoInAiKTsKICAgIHByb21wdC5hcHBlbmRDaGlsZChwMSk7CiAgICBwMS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImhlbHAiKTsKCiAgICBpZiAodGhpcy5rZXlib2FyZGxlc3MpCiAgICAgIHAxLmlubmVySFRNTCA9ICJzd2lwZSBsZWZ0IHRvIG1vdmUgdG8gbmV4dCBzbGlkZSI7CiAgICBlbHNlCiAgICAgIHAxLmlubmVySFRNTCA9ICJTcGFjZSwgUmlnaHQgQXJyb3cgb3Igc3dpcGUgbGVmdCB0byBtb3ZlIHRvICIgKwogICAgICAgICAgICAgICAgICAgICAibmV4dCBzbGlkZSwgY2xpY2sgaGVscCBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIjsKCiAgICB0aGlzLmFkZF9saXN0ZW5lcihwcm9tcHQsICJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocHJvbXB0KTsKICAgICAgdzNjX3NsaWR5LnN0b3BfcHJvcGFnYXRpb24oZSk7CiAgICAKICAgICAgaWYgKGUuY2FuY2VsICE9IHVuZGVmaW5lZCkKICAgICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIAogICAgICBpZiAoZS5yZXR1cm5WYWx1ZSAhPSB1bmRlZmluZWQpCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSk7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwcm9tcHQpOwogICAgdGhpcy5pbml0aWFsX3Byb21wdCA9IHByb21wdDsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwcm9tcHQpO30sIDUwMDApOwogIH0sCgogIGFkZF90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgY291bnRlciwgcGFnZTsKCiAgICAgdGhpcy50b29sYmFyID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiZGl2Iik7CiAgICAgdGhpcy50b29sYmFyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidG9vbGJhciIpOwoKICAgICAvLyBhIHJlYXNvbmFibHkgYmVoYXZlZCBicm93c2VyCiAgICAgaWYgKHRoaXMubnNfcG9zIHx8ICF0aGlzLmllNikKICAgICB7CiAgICAgICB2YXIgcmlnaHQgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKTsKICAgICAgIHJpZ2h0LnNldEF0dHJpYnV0ZSgic3R5bGUiLCAiZmxvYXQ6IHJpZ2h0OyB0ZXh0LWFsaWduOiByaWdodCIpOwoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIikKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHJpZ2h0LmFwcGVuZENoaWxkKGNvdW50ZXIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHJpZ2h0KTsKCiAgICAgICB2YXIgbGVmdCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImRpdiIpOwogICAgICAgbGVmdC5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgInRleHQtYWxpZ246IGxlZnQiKTsKCiAgICAgICAvLyBnbG9iYWwgZW5kIG9mIHNsaWRlIGluZGljYXRvcgogICAgICAgdGhpcy5lb3MgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICB0aGlzLmVvcy5pbm5lckhUTUwgPSAiKiAiOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZCh0aGlzLmVvcyk7CgogICAgICAgdmFyIGhlbHAgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJhIik7CiAgICAgICBoZWxwLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRoaXMuaGVscF9wYWdlKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIHRoaXMubG9jYWxpemUodGhpcy5oZWxwX3RleHQpKTsKICAgICAgIGhlbHAuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgiaGVscD8iKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoaGVscCk7CiAgICAgICBoZWxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiOyAKICAgICAgIHRoaXMuaGVscF9hbmNob3IgPSBoZWxwOyAgLy8gc2F2ZSBmb3IgZm9jdXMgaGFjawoKICAgICAgIHZhciBnYXAxID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKTsKICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQoZ2FwMSk7CgogICAgICAgdmFyIGNvbnRlbnRzID0gdGhpcy5jcmVhdGVfZWxlbWVudCgiYSIpOwogICAgICAgY29udGVudHMuc2V0QXR0cmlidXRlKCJocmVmIiwgImphdmFzY3JpcHQ6dzNjX3NsaWR5LnRvZ2dsZV90YWJsZV9vZl9jb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJDb250ZW50cyIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgbGVmdC5hcHBlbmRDaGlsZChnYXAyKTsKCiAgICAgICB2YXIgY29weXJpZ2h0ID0gdGhpcy5maW5kX2NvcHlyaWdodCgpOwoKICAgICAgIGlmIChjb3B5cmlnaHQpCiAgICAgICB7CiAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVfZWxlbWVudCgic3BhbiIpOwogICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJjb3B5cmlnaHQiOwogICAgICAgICBzcGFuLmlubmVySFRNTCA9IGNvcHlyaWdodDsKICAgICAgICAgbGVmdC5hcHBlbmRDaGlsZChzcGFuKTsKICAgICAgIH0KCiAgICAgICB0aGlzLnRvb2xiYXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICIwIik7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQobGVmdCk7CiAgICAgfQogICAgIGVsc2UgLy8gSUU2IHNvIG5lZWQgdG8gd29yayBhcm91bmQgaXRzIHBvb3IgQ1NTIHN1cHBvcnQKICAgICB7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUucG9zaXRpb24gPSAodGhpcy5pZTcgPyAiZml4ZWQiIDogImFic29sdXRlIik7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUuekluZGV4ID0gIjIwMCI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUud2lkdGggPSAiOTkuOSUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmhlaWdodCA9ICIxLjJlbSI7CiAgICAgICB0aGlzLnRvb2xiYXIuc3R5bGUudG9wID0gImF1dG8iOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmJvdHRvbSA9ICIwIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLnRleHRBbGlnbiA9ICJsZWZ0IjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5mb250U2l6ZSA9ICI2MCUiOwogICAgICAgdGhpcy50b29sYmFyLnN0eWxlLmNvbG9yID0gInJlZCI7CiAgICAgICB0aGlzLnRvb2xiYXIuYm9yZGVyV2lkdGggPSAwOwogICAgICAgdGhpcy50b29sYmFyLmNsYXNzTmFtZSA9ICJ0b29sYmFyIjsKICAgICAgIHRoaXMudG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIC8vIHdvdWxkIGxpa2UgdG8gaGF2ZSBoZWxwIHRleHQgbGVmdCBhbGlnbmVkCiAgICAgICAvLyBhbmQgcGFnZSBjb3VudGVyIHJpZ2h0IGFsaWduZWQsIGZsb2F0aW5nCiAgICAgICAvLyBkaXYncyBkb24ndCB3b3JrLCBzbyBpbnN0ZWFkIHVzZSBuZXN0ZWQKICAgICAgIC8vIGFic29sdXRlbHkgcG9zaXRpb25lZCBkaXYncy4KCiAgICAgICB2YXIgc3AgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICBzcC5pbm5lckhUTUwgPSAiJm5ic3A7Jm5ic3A7KiZuYnNwOyI7CiAgICAgICB0aGlzLnRvb2xiYXIuYXBwZW5kQ2hpbGQoc3ApOwogICAgICAgdGhpcy5lb3MgPSBzcDsgIC8vIGVuZCBvZiBzbGlkZSBpbmRpY2F0b3IKCiAgICAgICB2YXIgaGVscCA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGhlbHAuc2V0QXR0cmlidXRlKCJocmVmIiwgdGhpcy5oZWxwX3BhZ2UpOwogICAgICAgaGVscC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSh0aGlzLmhlbHBfdGV4dCkpOwogICAgICAgaGVscC5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJoZWxwPyIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGhlbHApOwogICAgICAgdGhpcy5oZWxwX2FuY2hvciA9IGhlbHA7ICAvLyBzYXZlIGZvciBmb2N1cyBoYWNrCgogICAgICAgdmFyIGdhcDEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDEpOwoKICAgICAgIHZhciBjb250ZW50cyA9IHRoaXMuY3JlYXRlX2VsZW1lbnQoImEiKTsKICAgICAgIGNvbnRlbnRzLnNldEF0dHJpYnV0ZSgiaHJlZiIsICJqYXZhc2NyaXB0OnRvZ2dsZVRhYmxlT2ZDb250ZW50cygpIik7CiAgICAgICBjb250ZW50cy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgdGhpcy5sb2NhbGl6ZSgidGFibGUgb2YgY29udGVudHMiLmxvY2FsaXplKSk7CiAgICAgICBjb250ZW50cy5pbm5lckhUTUwgPSB0aGlzLmxvY2FsaXplKCJjb250ZW50cz8iKTsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb250ZW50cyk7CgogICAgICAgdmFyIGdhcDIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpOwogICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKGdhcDIpOwoKICAgICAgIHZhciBjb3B5cmlnaHQgPSB0aGlzLmZpbmRfY29weXJpZ2h0KCk7CgogICAgICAgaWYgKGNvcHlyaWdodCkKICAgICAgIHsKICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJzcGFuIik7CiAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY29weXJpZ2h0OwogICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjAuNWVtIjsKICAgICAgICAgdGhpcy50b29sYmFyLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgfQoKICAgICAgIGNvdW50ZXIgPSB0aGlzLmNyZWF0ZV9lbGVtZW50KCJkaXYiKQogICAgICAgY291bnRlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICAgICBjb3VudGVyLnN0eWxlLndpZHRoID0gImF1dG8iOyAvLyIyMCUiOwogICAgICAgY291bnRlci5zdHlsZS5oZWlnaHQgPSAiMS4yZW0iOwogICAgICAgY291bnRlci5zdHlsZS50b3AgPSAiYXV0byI7CiAgICAgICBjb3VudGVyLnN0eWxlLmJvdHRvbSA9IDA7CiAgICAgICBjb3VudGVyLnN0eWxlLnJpZ2h0ID0gIjAiOwogICAgICAgY291bnRlci5zdHlsZS50ZXh0QWxpZ24gPSAicmlnaHQiOwogICAgICAgY291bnRlci5zdHlsZS5jb2xvciA9ICJyZWQiOwogICAgICAgY291bnRlci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYigyNDAsMjQwLDI0MCkiOwoKICAgICAgIGNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5sb2NhbGl6ZSgic2xpZGUiKSArICIgbi9tIjsKICAgICAgIHRoaXMudG9vbGJhci5hcHBlbmRDaGlsZChjb3VudGVyKTsKICAgICB9CgogICAgIC8vIGVuc3VyZSB0aGF0IGNsaWNrIGlzbid0IHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwYWdlCiAgICAgdGhpcy50b29sYmFyLm9uY2xpY2sgPQogICAgICAgICBmdW5jdGlvbiAoZSkgewogICAgICAgICAgIGlmICghZSkKICAgICAgICAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDsKCiAgICAgICAgICAgaWYgKCF0YXJnZXQgJiYgZS5zcmNFbGVtZW50KQogICAgICAgICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgICAgICAgICAvLyB3b3JrIGFyb3VuZCBTYWZhcmkgYnVnCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKCiAgICAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPSAiYSIpCiAgICAgICAgICAgICB3M2Nfc2xpZHkubW91c2VfYnV0dG9uX2NsaWNrKGUpOwogICAgICAgICB9OwoKICAgICB0aGlzLnNsaWRlX251bWJlcl9lbGVtZW50ID0gY291bnRlcjsKICAgICB0aGlzLnNldF9lb3Nfc3RhdHVzKGZhbHNlKTsKICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudG9vbGJhcik7CiAgfSwKCiAgLy8gd3lzaXd5ZyBlZGl0b3JzIG1ha2UgaXQgaGFyZCB0byB1c2UgZGl2IGVsZW1lbnRzCiAgLy8gZS5nLiBhbWF5YSBsb3NlcyB0aGUgZGl2IHdoZW4geW91IGNvcHkgYW5kIHBhc3RlCiAgLy8gdGhpcyBmdW5jdGlvbiB3cmFwcyBkaXYgZWxlbWVudHMgYXJvdW5kIGltcGxpY2l0CiAgLy8gc2xpZGVzIHdoaWNoIHN0YXJ0IHdpdGggYW4gaDEgZWxlbWVudCBhbmQgY29udGludWUKICAvLyB1cCB0byB0aGUgbmV4dCBoZWFkaW5nIG9yIGRpdiBlbGVtZW50CiAgd3JhcF9pbXBsaWNpdF9zbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBpLCBoZWFkaW5nLCBub2RlLCBuZXh0LCBkaXY7CiAgICB2YXIgaGVhZGluZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCiAgICBpZiAoIWhlYWRpbmdzKQogICAgICByZXR1cm47CgogICAgZm9yIChpID0gMDsgaSA8IGhlYWRpbmdzLmxlbmd0aDsgKytpKQogICAgewogICAgICBoZWFkaW5nID0gaGVhZGluZ3NbaV07CgogICAgICBpZiAoaGVhZGluZy5wYXJlbnROb2RlICE9IGRvY3VtZW50LmJvZHkpCiAgICAgICAgY29udGludWU7CgogICAgICBub2RlID0gaGVhZGluZy5uZXh0U2libGluZzsKCiAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJzbGlkZSIpOwogICAgICBkb2N1bWVudC5ib2R5LnJlcGxhY2VDaGlsZChkaXYsIGhlYWRpbmcpOwogICAgICBkaXYuYXBwZW5kQ2hpbGQoaGVhZGluZyk7CgogICAgICB3aGlsZSAobm9kZSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIC8vIGFuIGVsZW1lbnQKICAgICAgICB7CiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkgxIiB8fCBub2RlLm5vZGVOYW1lID09ICJoMSIpCiAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gIkRJViIgfHwgbm9kZS5ub2RlTmFtZSA9PSAiZGl2IikKICAgICAgICAgICB7CiAgICAgICAgICAgICBpZiAodGhpcy5oYXNfY2xhc3Mobm9kZSwgInNsaWRlIikpCiAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhub2RlLCAiaGFuZG91dCIpKQogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgICBub2RlID0gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgbm9kZSA9IG5leHQ7CiAgICAgIH0gCiAgICB9CiAgfSwKCiAgYXR0YWNoX3RvdWNoX2hhbmRlcnM6IGZ1bmN0aW9uKHNsaWRlcykKICB7CiAgICB2YXIgaSwgc2xpZGU7CgogICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgc2xpZGUgPSBzbGlkZXNbaV07CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2hzdGFydCIsIHRoaXMudG91Y2hzdGFydCk7CiAgICAgIHRoaXMuYWRkX2xpc3RlbmVyKHNsaWRlLCAidG91Y2htb3ZlIiwgdGhpcy50b3VjaG1vdmUpOwogICAgICB0aGlzLmFkZF9saXN0ZW5lcihzbGlkZSwgInRvdWNoZW5kIiwgdGhpcy50b3VjaGVuZCk7CiAgICB9CiAgfSwKCi8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIHNsaWRlcwogIGNvbGxlY3Rfc2xpZGVzOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGVzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgInNsaWRlIikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgc2xpZGUgdG8gY29sbGVjdGlvbgogICAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gaGlkZSBlYWNoIHNsaWRlIGFzIGl0IGlzIGZvdW5kCiAgICAgICAgdGhpcy5hZGRfY2xhc3MoZGl2LCAiaGlkZGVuIik7CgogICAgICAgIC8vIGFkZCBkdW1teSA8YnIvPiBhdCBlbmQgZm9yIHNjcm9sbGluZyBoYWNrCiAgICAgICAgdmFyIG5vZGUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTsKICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZTEpOwogICAgICAgIHZhciBub2RlMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIik7CiAgICAgICAgZGl2LmFwcGVuZENoaWxkKG5vZGUyKTsKICAgICAgfQogICAgICBlbHNlIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJiYWNrZ3JvdW5kIikpCiAgICAgIHsgIC8vIHdvcmsgYXJvdW5kIGZvciBGaXJlZm94IFNWRyByZWxvYWQgYnVnCiAgICAgICAgLy8gd2hpY2ggb3RoZXJ3aXNlIHJlcGxhY2VzIDFzdCBTVkcgZ3JhcGhpYyB3aXRoIDJuZAogICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfQoKICAgIHRoaXMuc2xpZGVzID0gc2xpZGVzOwogIH0sCgogIC8vIHJldHVybiBuZXcgYXJyYXkgb2YgYWxsIDxkaXYgY2xhc3M9ImhhbmRvdXQiPgogIGNvbGxlY3Rfbm90ZXM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBub3RlcyA9IG5ldyBBcnJheSgpOwogICAgdmFyIGRpdnMgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGRpdiA9IGRpdnMuaXRlbShpKTsKCiAgICAgIGlmICh0aGlzLmhhc19jbGFzcyhkaXYsICJoYW5kb3V0IikpCiAgICAgIHsKICAgICAgICAvLyBhZGQgbm90ZSB0byBjb2xsZWN0aW9uCiAgICAgICAgbm90ZXNbbm90ZXMubGVuZ3RoXSA9IGRpdjsKCiAgICAgICAgLy8gYW5kIGhpZGUgaXQKICAgICAgICB0aGlzLmFkZF9jbGFzcyhkaXYsICJoaWRkZW4iKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubm90ZXMgPSBub3RlczsKICB9LAoKICAvLyByZXR1cm4gbmV3IGFycmF5IG9mIGFsbCA8ZGl2IGNsYXNzPSJiYWNrZ3JvdW5kIj4KICAvLyBpbmNsdWRpbmcgbmFtZWQgYmFja2dyb3VuZHMgZS5nLiBjbGFzcz0iYmFja2dyb3VuZCB0aXRsZXBhZ2UiCiAgY29sbGVjdF9iYWNrZ3JvdW5kczogZnVuY3Rpb24gKCkgewogICAgdmFyIGJhY2tncm91bmRzID0gbmV3IEFycmF5KCk7CiAgICB2YXIgZGl2cyA9IGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGl2cy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgZGl2ID0gZGl2cy5pdGVtKGkpOwoKICAgICAgaWYgKHRoaXMuaGFzX2NsYXNzKGRpdiwgImJhY2tncm91bmQiKSkKICAgICAgewogICAgICAgIC8vIGFkZCBiYWNrZ3JvdW5kIHRvIGNvbGxlY3Rpb24KICAgICAgICBiYWNrZ3JvdW5kc1tiYWNrZ3JvdW5kcy5sZW5ndGhdID0gZGl2OwoKICAgICAgICAvLyBhbmQgaGlkZSBpdAogICAgICAgIHRoaXMuYWRkX2NsYXNzKGRpdiwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CgogICAgdGhpcy5iYWNrZ3JvdW5kcyA9IGJhY2tncm91bmRzOwogIH0sCgogIC8vIHNldCBjbGljayBoYW5kbGVycyBvbiBhbGwgYW5jaG9ycwogIHBhdGNoX2FuY2hvcnM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzZWxmID0gdzNjX3NsaWR5OwogICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgLy8gY29tcGFyZSB0aGlzLmhyZWYgd2l0aCBsb2NhdGlvbi5ocmVmCiAgICAgIC8vIGZvciBsaW5rIHRvIGFub3RoZXIgc2xpZGUgaW4gdGhpcyBkb2MKCiAgICAgIGlmIChzZWxmLnBhZ2VfYWRkcmVzcyh0aGlzLmhyZWYpID09IHNlbGYucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpKQogICAgICB7CiAgICAgICAgLy8geWVzLCBzbyBmaW5kIG5ldyBzbGlkZSBudW1iZXIKICAgICAgICB2YXIgbmV3c2xpZGVudW0gPSBzZWxmLmZpbmRfc2xpZGVfbnVtYmVyKHRoaXMuaHJlZik7CgogICAgICAgIGlmIChuZXdzbGlkZW51bSAhPSBzZWxmLnNsaWRlX251bWJlcikKICAgICAgICB7CiAgICAgICAgICB2YXIgc2xpZGUgPSBzZWxmLnNsaWRlc1tzZWxmLnNsaWRlX251bWJlcl07CiAgICAgICAgICBzZWxmLmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICAgc2VsZi5zbGlkZV9udW1iZXIgPSBuZXdzbGlkZW51bTsKICAgICAgICAgIHNsaWRlID0gc2VsZi5zbGlkZXNbc2VsZi5zbGlkZV9udW1iZXJdOwogICAgICAgICAgc2VsZi5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgICAgIHNlbGYuc2V0X2xvY2F0aW9uKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsc2UKICAgICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihldmVudCk7CgovLyAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0ID09IG51bGwpCi8vICAgICAgICBsb2NhdGlvbi5ocmVmID0gdGhpcy5ocmVmOwoKICAgICAgdGhpcy5ibHVyKCk7CiAgICAgIHNlbGYuZGlzYWJsZV9zbGlkZV9jbGljayA9IHRydWU7CiAgICB9OwoKICAgIHZhciBhbmNob3JzID0gZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5jaG9ycy5sZW5ndGg7ICsraSkKICAgIHsKICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKQogICAgICAgIGFuY2hvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBoYW5kbGVyLCBmYWxzZSk7CiAgICAgIGVsc2UKICAgICAgICBhbmNob3JzW2ldLmF0dGFjaEV2ZW50KCJvbmNsaWNrIiwgaGFuZGxlcik7CiAgICB9CiAgfSwKCiAgLy8gIyMjIENIRUNLIE1FICMjIyBzZWUgd2hpY2ggZnVuY3Rpb25zIGFyZSBpbnZva2VkIHZpYSBzZXRUaW1lb3V0CiAgLy8gZWl0aGVyIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgZm9yIHVzZSBvZiB3M2Nfc2xpZHkgdnMgdGhpcwogIHNob3dfc2xpZGVfbnVtYmVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSB3M2Nfc2xpZHkuZ2V0X3RpbWVyKCk7CiAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gdGltZXIgKyB3M2Nfc2xpZHkubG9jYWxpemUoInNsaWRlIikgKyAiICIgKwogICAgICAgICAgICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICsgMSkgKyAiLyIgKyB3M2Nfc2xpZHkuc2xpZGVzLmxlbmd0aDsKICB9LAoKICAvLyBldmVyeSAyMDBtUyBjaGVjayBpZiB0aGUgbG9jYXRpb24gaGFzIGJlZW4gY2hhbmdlZCBhcyBhCiAgLy8gcmVzdWx0IG9mIHRoZSB1c2VyIGFjdGl2YXRpbmcgdGhlIEJhY2sgYnV0dG9uL21lbnUgaXRlbQogIC8vIGRvZXNuJ3Qgd29yayBmb3IgT3BlcmEgPCA5LjUKICBjaGVja19sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwoKICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID4gMCAmJiAoaGFzaCA9PSAiIiB8fCBoYXNoID09ICIjIikpCiAgICAgIHczY19zbGlkeS5nb3RvX3NsaWRlKDApOwogICAgZWxzZSBpZiAoaGFzaC5sZW5ndGggPiAyICYmIGhhc2ggIT0gIiMoIisodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSsiKSIpCiAgICB7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChsb2NhdGlvbi5oYXNoLnN1YnN0cigyKSk7CgogICAgICBpZiAoIWlzTmFOKG51bSkpCiAgICAgICAgdzNjX3NsaWR5LmdvdG9fc2xpZGUobnVtLTEpOwogICAgfQoKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ICYmIHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgewogICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0ID4gMCkKICAgICAgICB3M2Nfc2xpZHkudGltZV9sZWZ0IC09IDIwMDsKICAgIH0gCiAgfSwKCiAgZ2V0X3RpbWVyOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGltZXIgPSAiIjsKICAgIGlmICh3M2Nfc2xpZHkudGltZV9sZWZ0KQogICAgewogICAgICB2YXIgbWlucywgc2VjczsKICAgICAgc2VjcyA9IE1hdGguZmxvb3IodzNjX3NsaWR5LnRpbWVfbGVmdC8xMDAwKTsKICAgICAgbWlucyA9IE1hdGguZmxvb3Ioc2VjcyAvIDYwKTsKICAgICAgc2VjcyA9IHNlY3MgJSA2MDsKICAgICAgdGltZXIgPSAobWlucyA/IG1pbnMrIm0iIDogIiIpICsgc2VjcyArICJzICI7CiAgICB9CgogICAgcmV0dXJuIHRpbWVyOwogIH0sCgogIC8vIHRoaXMgZG9lc24ndCBwdXNoIGxvY2F0aW9uIG9udG8gaGlzdG9yeSBzdGFjayBmb3IgSUUKICAvLyBmb3Igd2hpY2ggYSBoaWRkZW4gaWZyYW1lIGhhY2sgaXMgbmVlZGVkOiBsb2FkIHBhZ2UgaW50bwogIC8vIHRoZSBpZnJhbWUgd2l0aCBzY3JpcHQgdGhhdCBzZXQncyBwYXJlbnQncyBsb2NhdGlvbi5oYXNoCiAgLy8gYnV0IHRoYXQgd29uJ3Qgd29yayBmb3Igc3RhbmRhbG9uZSB1c2UgdW5sZXNzIHdlIGNhbgogIC8vIGNyZWF0ZSB0aGUgcGFnZSBkeW5hbWljYWxseSB2aWEgYSBqYXZhc2NyaXB0OiBVUkwKICAvLyAjIyMgdXNlIGhpc3RvcnkucHVzaFN0YXRlIGlmIGF2YWlsYWJsZQogIHNldF9sb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgIHZhciB1cmkgPSB3M2Nfc2xpZHkucGFnZV9hZGRyZXNzKGxvY2F0aW9uLmhyZWYpOwogICAgIHZhciBoYXNoID0gIiMoIiArICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyKzEpICsgIikiOwoKICAgICBpZiAodzNjX3NsaWR5LnNsaWRlX251bWJlciA+PSAwKQogICAgICAgdXJpID0gdXJpICsgaGFzaDsKCiAgICAgaWYgKHR5cGVvZihoaXN0b3J5LnB1c2hTdGF0ZSkgIT0gInVuZGVmaW5lZCIgJiYgbG9jYXRpb24ucHJvdG9jb2wgIT09ICJmaWxlOiIpCiAgICAgewogICAgICAgZG9jdW1lbnQudGl0bGUgPSB3M2Nfc2xpZHkudGl0bGUgKyAiICgiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CiAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSgwLCBkb2N1bWVudC50aXRsZSwgaGFzaCk7CiAgICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICAgIHczY19zbGlkeS5ub3RpZnlfb2JzZXJ2ZXJzKCk7CiAgICAgICByZXR1cm47CiAgICAgfQoKICAgICBpZiAodzNjX3NsaWR5LmllICYmICh3M2Nfc2xpZHkuaWU2IHx8IHczY19zbGlkeS5pZTcpKQogICAgICAgdzNjX3NsaWR5LnB1c2hfaGFzaChoYXNoKTsKCiAgICAgaWYgKHVyaSAhPSBsb2NhdGlvbi5ocmVmKSAvLyAmJiAha2h0bWwKICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJpOwoKICAgICBpZiAodGhpcy5raHRtbCkKICAgICAgICBoYXNoID0gIigiICsgKHczY19zbGlkeS5zbGlkZV9udW1iZXIrMSkgKyAiKSI7CgogICAgIGlmICghdGhpcy5pZSAmJiBsb2NhdGlvbi5oYXNoICE9IGhhc2ggJiYgbG9jYXRpb24uaGFzaCAhPSAiIikKICAgICAgIGxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgICB3M2Nfc2xpZHkuc2hvd19zbGlkZV9udW1iZXIoKTsKICAgICB3M2Nfc2xpZHkubm90aWZ5X29ic2VydmVycygpOwogIH0sCgogIG5vdGlmeV9vYnNlcnZlcnM6IGZ1bmN0aW9uICgpCiAgewogICAgdmFyIHNsaWRlID0gdGhpcy5zbGlkZXNbdGhpcy5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICAgIHRoaXMub2JzZXJ2ZXJzW2ldKHRoaXMuc2xpZGVfbnVtYmVyKzEsIHRoaXMuZmluZF9oZWFkaW5nKHNsaWRlKS5pbm5lclRleHQsIGxvY2F0aW9uLmhyZWYpOwogIH0sCgogIGFkZF9vYnNlcnZlcjogZnVuY3Rpb24gKG9ic2VydmVyKQogIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5vYnNlcnZlcnMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChvYnNlcnZlciA9PSB0aGlzLm9ic2VydmVyc1tpXSkKICAgICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7CiAgfSwKCiAgcmVtb3ZlX29ic2VydmVyOiBmdW5jdGlvbiAobykKICB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgKytpKQogICAgewogICAgICBpZiAob2JzZXJ2ZXIgPT0gdGhpcy5vYnNlcnZlcnNbaV0pCiAgICAgIHsKICAgICAgICB0aGlzLm9ic2VydmVycy5zcGxpY2UoaSwxKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0sCgogIHBhZ2VfYWRkcmVzczogZnVuY3Rpb24gKHVyaSkgewogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIGlmIChpIDwgMCkKICAgICAgaSA9IHVyaS5pbmRleE9mKCIlMjMiKTsKCiAgICAvLyBjaGVjayBpZiBhbmNob3IgaXMgZW50aXJlIHBhZ2UKCiAgICBpZiAoaSA8IDApCiAgICAgIHJldHVybiB1cmk7ICAvLyB5ZXMKCiAgICByZXR1cm4gdXJpLnN1YnN0cigwLCBpKTsKICB9LAoKICAvLyBvbmx5IHVzZWQgZm9yIElFNiBhbmQgSUU3CiAgb25fZnJhbWVfbG9hZGVkOiBmdW5jdGlvbiAoaGFzaCkgewogICAgbG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICB2YXIgdXJpID0gdzNjX3NsaWR5LnBhZ2VfYWRkcmVzcyhsb2NhdGlvbi5ocmVmKTsKICAgIGxvY2F0aW9uLmhyZWYgPSB1cmkgKyBoYXNoOwogIH0sCgogIC8vIGhpc3RvcnkgaGFjayB3aXRoIHRoYW5rcyB0byBCZXJ0cmFuZCBMZSBSb3kKICBwdXNoX2hhc2g6IGZ1bmN0aW9uIChoYXNoKSB7CiAgICBpZiAoaGFzaCA9PSAiIikgaGFzaCA9ICIjKDEpIjsKICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoOwoKICAgIHZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaGlzdG9yeUZyYW1lIikuY29udGVudFdpbmRvdy5kb2N1bWVudDsKICAgIGRvYy5vcGVuKCJqYXZhc2NyaXB0Oic8aHRtbD48L2h0bWw+JyIpOwogICAgZG9jLndyaXRlKCI8aHRtbD48aGVhZD48c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj53aW5kb3cucGFyZW50LnczY19zbGlkeS5vbl9mcmFtZV9sb2FkZWQoJyIrCiAgICAgIChoYXNoKSArICInKTs8L3NjcmlwdD48L2hlYWQ+PGJvZHk+aGVsbG8gbXVtPC9ib2R5PjwvaHRtbD4iKTsKICAgICAgZG9jLmNsb3NlKCk7CiAgfSwKCiAgLy8gZmluZCBjdXJyZW50IHNsaWRlIGJhc2VkIHVwb24gbG9jYXRpb24KICAvLyBmaXJzdCBmaW5kIHRhcmdldCBhbmNob3IgYW5kIHRoZW4gbG9vawogIC8vIGZvciBhc3NvY2lhdGVkIGRpdiBlbGVtZW50IGVuY2xvc2luZyBpdAogIC8vIGZpbmFsbHkgbWFwIHRoYXQgdG8gc2xpZGUgbnVtYmVyCiAgZmluZF9zbGlkZV9udW1iZXI6IGZ1bmN0aW9uICh1cmkpIHsKICAgIC8vIGZpcnN0IGdldCBhbmNob3IgZnJvbSBwYWdlIGxvY2F0aW9uCgogICAgdmFyIGkgPSB1cmkuaW5kZXhPZigiIyIpOwoKICAgIC8vIGNoZWNrIGlmIGFuY2hvciBpcyBlbnRpcmUgcGFnZQogICAgaWYgKGkgPCAwKQogICAgICByZXR1cm4gMDsgIC8vIHllcwoKICAgIHZhciBhbmNob3IgPSB1bmVzY2FwZSh1cmkuc3Vic3RyKGkrMSkpOwoKICAgIC8vIG5vdyB1c2UgYW5jaG9yIGFzIFhNTCBJRCB0byBmaW5kIHRhcmdldAogICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuY2hvcik7CgogICAgaWYgKCF0YXJnZXQpCiAgICB7CiAgICAgIC8vIGRvZXMgYW5jaG9yIGxvb2sgbGlrZSAiKDIpIiBmb3Igc2xpZGUgMiA/PwogICAgICAvLyB3aGVyZSBmaXJzdCBzbGlkZSBpcyAoMSkKICAgICAgdmFyIHJlID0gL1woKFxkKStcKS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgIHZhciBudW0gPSBwYXJzZUludChhbmNob3Iuc3Vic3RyaW5nKDEsIGFuY2hvci5sZW5ndGgtMSkpOwoKICAgICAgICBpZiAobnVtID4gdGhpcy5zbGlkZXMubGVuZ3RoKQogICAgICAgICAgbnVtID0gMTsKCiAgICAgICAgaWYgKC0tbnVtIDwgMCkKICAgICAgICAgIG51bSA9IDA7CgogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KCiAgICAgIC8vIGFjY2VwdCBbMl0gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CiAgICAgIHJlID0gL1xbKFxkKStcXS87CgogICAgICBpZiAoYW5jaG9yLm1hdGNoKHJlKSkKICAgICAgewogICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQoYW5jaG9yLnN1YnN0cmluZygxLCBhbmNob3IubGVuZ3RoLTEpKTsKCiAgICAgICAgIGlmIChudW0gPiB0aGlzLnNsaWRlcy5sZW5ndGgpCiAgICAgICAgICAgIG51bSA9IDE7CgogICAgICAgICBpZiAoLS1udW0gPCAwKQogICAgICAgICAgICBudW0gPSAwOwoKICAgICAgICAgcmV0dXJuIG51bTsKICAgICAgfQoKICAgICAgLy8gb2ggZGVhciB1bmtub3duIGFuY2hvcgogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICAvLyBzZWFyY2ggZm9yIGVuY2xvc2luZyBzbGlkZQoKICAgIHdoaWxlICh0cnVlKQogICAgewogICAgICAvLyBicm93c2VyIGNvZXJjZXMgaHRtbCBlbGVtZW50cyB0byB1cHBlcmNhc2UhCiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAiZGl2IiAmJgogICAgICAgICAgICB0aGlzLmhhc19jbGFzcyh0YXJnZXQsICJzbGlkZSIpKQogICAgICB7CiAgICAgICAgLy8gZm91bmQgdGhlIHNsaWRlIGVsZW1lbnQKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgLy8gb3RoZXJ3aXNlIHRyeSBwYXJlbnQgZWxlbWVudCBpZiBhbnkKCiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoKICAgICAgaWYgKCF0YXJnZXQpCiAgICAgIHsKICAgICAgICByZXR1cm4gMDsgICAvLyBubyBsdWNrIQogICAgICB9CiAgICB9OwoKICAgIGZvciAoaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyArK2kpCiAgICB7CiAgICAgIGlmIChzbGlkZXNbaV0gPT0gdGFyZ2V0KQogICAgICAgIHJldHVybiBpOyAgLy8gc3VjY2VzcwogICAgfQoKICAgIC8vIG9oIGRlYXIgc3RpbGwgbm8gbHVjawogICAgcmV0dXJuIDA7CiAgfSwKCiAgcHJldmlvdXNfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZTsKCiAgICAgIGlmICgoaW5jcmVtZW50YWwgfHwgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9PSAwKSAmJiB3M2Nfc2xpZHkubGFzdF9zaG93biAhPSBudWxsKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkuaGlkZV9wcmV2aW91c19pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoZmFsc2UpOwogICAgICB9CiAgICAgIGVsc2UgaWYgKHczY19zbGlkeS5zbGlkZV9udW1iZXIgPiAwKQogICAgICB7CiAgICAgICAgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgIHczY19zbGlkeS5oaWRlX3NsaWRlKHNsaWRlKTsKCiAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgLSAxOwogICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJ2aXNpYmxlIik7CiAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKICAgICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICBpZiAoIXczY19zbGlkeS5uc19wb3MpCiAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgfQogIH0sCgogIG5leHRfc2xpZGU6IGZ1bmN0aW9uIChpbmNyZW1lbnRhbCkgewogICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICB7CiAgICAgIHZhciBzbGlkZSwgbGFzdCA9IHczY19zbGlkeS5sYXN0X3Nob3duOwoKICAgICAgaWYgKGluY3JlbWVudGFsIHx8IHczY19zbGlkeS5zbGlkZV9udW1iZXIgPT0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5yZXZlYWxfbmV4dF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKTsKCiAgICAgIGlmICgoIWluY3JlbWVudGFsIHx8IHczY19zbGlkeS5sYXN0X3Nob3duID09IG51bGwpICYmCiAgICAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IHczY19zbGlkeS5zbGlkZV9udW1iZXIgKyAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgiaGlkZGVuIik7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlIGlmICghdzNjX3NsaWR5Lmxhc3Rfc2hvd24pCiAgICAgIHsKICAgICAgICAgaWYgKGxhc3QgJiYgaW5jcmVtZW50YWwpCiAgICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBsYXN0OwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2xvY2F0aW9uKCk7CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXMoIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgICAgdzNjX3NsaWR5LnJlZnJlc2hfdG9vbGJhcigyMDApOwogICAgIH0KICB9LAoKICAvLyB0byBmaXJzdCBzbGlkZSB3aXRoIG5vdGhpbmcgcmV2ZWFsZWQKICAvLyBpLmUuIHN0YXRlIGF0IHN0YXJ0IG9mIHByZXNlbnRhdGlvbgogIGZpcnN0X3NsaWRlOiBmdW5jdGlvbiAoKSB7CiAgICAgaWYgKCF3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgewogICAgICAgdmFyIHNsaWRlOwoKICAgICAgIGlmICh3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyICE9IDApCiAgICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwoKICAgICAgICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IDA7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSBudWxsOwogICAgICAgICB3M2Nfc2xpZHkuc2V0X3Zpc2liaWxpdHlfYWxsX2luY3JlbWVudGFsKCJoaWRkZW4iKTsKICAgICAgICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgICAgfQoKICAgICAgIHczY19zbGlkeS5zZXRfZW9zX3N0YXR1cygKICAgICAgICAgIXczY19zbGlkeS5uZXh0X2luY3JlbWVudGFsX2l0ZW0odzNjX3NsaWR5Lmxhc3Rfc2hvd24pKTsKICAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgICB9CiAgfSwKCiAgLy8gZ290byBsYXN0IHNsaWRlIHdpdGggZXZlcnl0aGluZyByZXZlYWxlZAogIC8vIGkuZS4gc3RhdGUgYXQgZW5kIG9mIHByZXNlbnRhdGlvbgogIGxhc3Rfc2xpZGU6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICB2YXIgc2xpZGU7CgogICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IG51bGw7IC8vcmV2ZWFsTmV4dEl0ZW0obGFzdFNob3duKTsKCiAgICAgIGlmICh3M2Nfc2xpZHkubGFzdF9zaG93biA9PSBudWxsICYmCiAgICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyIDwgdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxKQogICAgICB7CiAgICAgICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgICAgICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgICAgICB3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyID0gdzNjX3NsaWR5LnNsaWRlcy5sZW5ndGggLSAxOwogICAgICAgICBzbGlkZSA9IHczY19zbGlkeS5zbGlkZXNbdzNjX3NsaWR5LnNsaWRlX251bWJlcl07CiAgICAgICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoInZpc2libGUiKTsKICAgICAgICAgdzNjX3NsaWR5Lmxhc3Rfc2hvd24gPSB3M2Nfc2xpZHkucHJldmlvdXNfaW5jcmVtZW50YWxfaXRlbShudWxsKTsKCiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgfQogICAgICBlbHNlCiAgICAgIHsKICAgICAgICAgdzNjX3NsaWR5LnNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbCgidmlzaWJsZSIpOwogICAgICAgICB3M2Nfc2xpZHkubGFzdF9zaG93biA9IHczY19zbGlkeS5wcmV2aW91c19pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwogICAgICB9CgogICAgICB3M2Nfc2xpZHkuc2V0X2Vvc19zdGF0dXModHJ1ZSk7CiAgICAgIHczY19zbGlkeS5zZXRfbG9jYXRpb24oKTsKICAgIH0KICB9LAoKCiAgLy8gIyMjIGNoZWNrIHRoaXMgYW5kIGNvbnNpZGVyIGFkZC9yZW1vdmUgY2xhc3MKICBzZXRfZW9zX3N0YXR1czogZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBpZiAodGhpcy5lb3MpCiAgICAgIHRoaXMuZW9zLnN0eWxlLmNvbG9yID0gKHN0YXRlID8gInJnYigyNDAsMjQwLDI0MCkiIDogInJlZCIpOwogIH0sCgogIC8vIGZpcnN0IHNsaWRlIGlzIDAKICBnb3RvX3NsaWRlOiBmdW5jdGlvbiAobnVtKSB7CiAgICAvL2FsZXJ0KCJnb2luZyB0byBzbGlkZSAiICsgKG51bSsxKSk7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNsaWRlX251bWJlciA9IG51bTsKICAgIHNsaWRlID0gdzNjX3NsaWR5LnNsaWRlc1t3M2Nfc2xpZHkuc2xpZGVfbnVtYmVyXTsKICAgIHczY19zbGlkeS5sYXN0X3Nob3duID0gbnVsbDsKICAgIHczY19zbGlkeS5zZXRfdmlzaWJpbGl0eV9hbGxfaW5jcmVtZW50YWwoImhpZGRlbiIpOwogICAgdzNjX3NsaWR5LnNldF9lb3Nfc3RhdHVzKCF3M2Nfc2xpZHkubmV4dF9pbmNyZW1lbnRhbF9pdGVtKHczY19zbGlkeS5sYXN0X3Nob3duKSk7CiAgICBkb2N1bWVudC50aXRsZSA9IHczY19zbGlkeS50aXRsZSArICIgKCIgKyAodzNjX3NsaWR5LnNsaWRlX251bWJlcisxKSArICIpIjsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgIHczY19zbGlkeS5zaG93X3NsaWRlX251bWJlcigpOwogIH0sCgoKICBzaG93X3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuc3luY19iYWNrZ3JvdW5kKHNsaWRlKTsKICAgIHRoaXMucmVtb3ZlX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CgogICAgLy8gd29yayBhcm91bmQgSUU5IG9iamVjdCByZW5kZXJpbmcgYnVnCiAgICBzZXRUaW1lb3V0KCJ3aW5kb3cuc2Nyb2xsVG8oMCwwKTsiLCAxKTsKICB9LAoKICBoaWRlX3NsaWRlOiBmdW5jdGlvbiAoc2xpZGUpIHsKICAgIHRoaXMuYWRkX2NsYXNzKHNsaWRlLCAiaGlkZGVuIik7CiAgfSwKCiAgc2V0X2ZvY3VzOiBmdW5jdGlvbiAoZWxlbWVudCkKICB7CiAgICBpZiAoZWxlbWVudCkKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgZWxzZQogICAgewogICAgICB3M2Nfc2xpZHkuaGVscF9hbmNob3IuZm9jdXMoKTsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdzNjX3NsaWR5LmhlbHBfYW5jaG9yLmJsdXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfSwKCiAgLy8gc2hvdyBqdXN0IHRoZSBiYWNrZ3JvdW5kcyBwZXJ0aW5lbnQgdG8gdGhpcyBzbGlkZQogIC8vIHdoZW4gc2xpZGUgYmFja2dyb3VuZC1jb2xvciBpcyB0cmFuc3BhcmVudAogIC8vIHRoaXMgc2hvdWxkIG5vdyB3b3JrIHdpdGggcmdiYSBjb2xvciB2YWx1ZXMKICBzeW5jX2JhY2tncm91bmQ6IGZ1bmN0aW9uIChzbGlkZSkgewogICAgdmFyIGJhY2tncm91bmQ7CiAgICB2YXIgYmdDb2xvcjsKCiAgICBpZiAoc2xpZGUuY3VycmVudFN0eWxlKQogICAgICBiZ0NvbG9yID0gc2xpZGUuY3VycmVudFN0eWxlWyJiYWNrZ3JvdW5kQ29sb3IiXTsKICAgIGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3KQogICAgewogICAgICB2YXIgc3R5bGVzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShzbGlkZSxudWxsKTsKCiAgICAgIGlmIChzdHlsZXMpCiAgICAgICAgYmdDb2xvciA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCJiYWNrZ3JvdW5kLWNvbG9yIik7CiAgICAgIGVsc2UgLy8gYnJva2VuIGltcGxlbWVudGF0aW9uIHByb2JhYmx5IGR1ZSBTYWZhcmkgb3IgS29ucXVlcm9yCiAgICAgIHsKICAgICAgICAvL2FsZXJ0KCJkZWZlY3RpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2V0Q29tcHV0ZWRTdHlsZSgpIik7CiAgICAgICAgYmdDb2xvciA9ICJ0cmFuc3BhcmVudCI7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgICAgYmdDb2xvciA9PSAidHJhbnNwYXJlbnQiOwoKICAgIGlmIChiZ0NvbG9yID09ICJ0cmFuc3BhcmVudCIgfHwKICAgICAgICBiZ0NvbG9yLmluZGV4T2YoInJnYmEiKSA+PSAwIHx8CiAgICAgICAgYmdDb2xvci5pbmRleE9mKCJvcGFjaXR5IikgPj0gMCkKICAgIHsKICAgICAgdmFyIHNsaWRlQ2xhc3MgPSB0aGlzLmdldF9jbGFzc19saXN0KHNsaWRlKTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgICAgewogICAgICAgIGJhY2tncm91bmQgPSB0aGlzLmJhY2tncm91bmRzW2ldOwoKICAgICAgICB2YXIgYmdDbGFzcyA9IHRoaXMuZ2V0X2NsYXNzX2xpc3QoYmFja2dyb3VuZCk7CgogICAgICAgIGlmICh0aGlzLm1hdGNoaW5nX2JhY2tncm91bmQoc2xpZGVDbGFzcywgYmdDbGFzcykpCiAgICAgICAgICB0aGlzLnJlbW92ZV9jbGFzcyhiYWNrZ3JvdW5kLCAiaGlkZGVuIik7CiAgICAgICAgZWxzZQogICAgICAgICAgdGhpcy5hZGRfY2xhc3MoYmFja2dyb3VuZCwgImhpZGRlbiIpOwogICAgICB9CiAgICB9CiAgICBlbHNlIC8vIGZvcmNpYmx5IGhpZGUgYWxsIGJhY2tncm91bmRzCiAgICAgIHRoaXMuaGlkZV9iYWNrZ3JvdW5kcygpOwogIH0sCgogIGhpZGVfYmFja2dyb3VuZHM6IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZHNbaV07CiAgICAgIHRoaXMuYWRkX2NsYXNzKGJhY2tncm91bmQsICJoaWRkZW4iKTsKICAgIH0KICB9LAoKICAvLyBjb21wYXJlIGNsYXNzZXMgZm9yIHNsaWRlIGFuZCBiYWNrZ3JvdW5kCiAgbWF0Y2hpbmdfYmFja2dyb3VuZDogZnVuY3Rpb24gKHNsaWRlQ2xhc3MsIGJnQ2xhc3MpIHsKICAgIHZhciBpLCBjb3VudCwgcGF0dGVybiwgcmVzdWx0OwoKICAgIC8vIGRlZmluZSBwYXR0ZXJuIGFzIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAgcGF0dGVybiA9IC9cdysvZzsKCiAgICAvLyBjaGVjayBiYWNrZ3JvdW5kIGNsYXNzIG5hbWVzCiAgICByZXN1bHQgPSBiZ0NsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIGZvciAoaSA9IGNvdW50ID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykKICAgIHsKICAgICAgaWYgKHJlc3VsdFtpXSA9PSAiaGlkZGVuIikKICAgICAgICBjb250aW51ZTsKCiAgICAgIGlmIChyZXN1bHRbaV0gPT0gImJhY2tncm91bmQiKQoJY29udGludWU7CgogICAgICArK2NvdW50OwogICAgfQoKICAgIGlmIChjb3VudCA9PSAwKSAgLy8gZGVmYXVsdCBtYXRjaAogICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcyBhbmQgcGxhY2UgcmVzdWx0IGluIGFycmF5CiAgICByZXN1bHQgPSBzbGlkZUNsYXNzLm1hdGNoKHBhdHRlcm4pOwoKICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIG5hbWUgaXMgcHJlc2VudCBmb3IgYmFja2dyb3VuZAogICAgZm9yIChpID0gY291bnQgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKQogICAgewogICAgICBpZiAocmVzdWx0W2ldID09ICJoaWRkZW4iKQogICAgICAgIGNvbnRpbnVlOwoKICAgICAgaWYgKHRoaXMuaGFzX3Rva2VuKGJnQ2xhc3MsIHJlc3VsdFtpXSkpCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIHJlc2l6ZWQ6IGZ1bmN0aW9uICgpIHsKICAgICB2YXIgd2lkdGggPSAwOwoKICAgICBpZiAoIHR5cGVvZiggd2luZG93LmlubmVyV2lkdGggKSA9PSAnbnVtYmVyJyApCiAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyAgLy8gTm9uIElFIGJyb3dzZXIKICAgICBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKQogICAgICAgd2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7ICAvLyBJRTYKICAgICBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpCiAgICAgICB3aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7IC8vIElFNAoKICAgICB2YXIgaGVpZ2h0ID0gMDsKCiAgICAgaWYgKCB0eXBlb2YoIHdpbmRvdy5pbm5lckhlaWdodCApID09ICdudW1iZXInICkKICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsgIC8vIE5vbiBJRSBicm93c2VyCiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpCiAgICAgICBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyAgLy8gSUU2CiAgICAgZWxzZSBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgIGhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKCiAgICAgaWYgKGhlaWdodCAmJiAod2lkdGgvaGVpZ2h0ID4gMS4wNSoxMDI0Lzc2OCkpCiAgICAgewogICAgICAgd2lkdGggPSBoZWlnaHQgKiAxMDI0LjAvNzY4OwogICAgIH0KCiAgICAgLy8gSUUgZmlyZXMgb25yZXNpemUgZXZlbiB3aGVuIG9ubHkgZm9udCBzaXplIGlzIGNoYW5nZWQhCiAgICAgLy8gc28gd2UgZG8gYSBjaGVjayB0byBhdm9pZCBibG9ja2luZyA8IGFuZCA+IGFjdGlvbnMKICAgICBpZiAod2lkdGggIT0gdzNjX3NsaWR5Lmxhc3Rfd2lkdGggfHwgaGVpZ2h0ICE9IHczY19zbGlkeS5sYXN0X2hlaWdodCkKICAgICB7CiAgICAgICBpZiAod2lkdGggPj0gMTEwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSA1OyAgICAvLyA0CiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSAxMDAwKQogICAgICAgICB3M2Nfc2xpZHkuc2l6ZV9pbmRleCA9IDQ7ICAgIC8vIDMKICAgICAgIGVsc2UgaWYgKHdpZHRoID49IDgwMCkKICAgICAgICAgdzNjX3NsaWR5LnNpemVfaW5kZXggPSAzOyAgICAvLyAyCiAgICAgICBlbHNlIGlmICh3aWR0aCA+PSA2MDApCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMjsgICAgLy8gMQogICAgICAgZWxzZSBpZiAod2lkdGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gMDsKCiAgICAgICAvLyBhZGQgaW4gZm9udCBzaXplIGFkanVzdG1lbnQgZnJvbSBtZXRhIGVsZW1lbnQgZS5nLgogICAgICAgLy8gPG1ldGEgbmFtZT0iZm9udC1zaXplLWFkanVzdG1lbnQiIGNvbnRlbnQ9Ii0yIiAvPgogICAgICAgLy8gdXNlZnVsIHdoZW4gc2xpZGVzIGhhdmUgdG9vIG11Y2ggY29udGVudCA7LSkKCiAgICAgICBpZiAoMCA8PSB3M2Nfc2xpZHkuc2l6ZV9pbmRleCArIHczY19zbGlkeS5zaXplX2FkanVzdG1lbnQgJiYKICAgICAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ICsgdzNjX3NsaWR5LnNpemVfYWRqdXN0bWVudCA8IHczY19zbGlkeS5zaXplcy5sZW5ndGgpCiAgICAgICAgIHczY19zbGlkeS5zaXplX2luZGV4ID0gdzNjX3NsaWR5LnNpemVfaW5kZXggKyB3M2Nfc2xpZHkuc2l6ZV9hZGp1c3RtZW50OwoKICAgICAgIC8vIGVuYWJsZXMgY3Jvc3MgYnJvd3NlciB1c2Ugb2YgcmVsYXRpdmUgd2lkdGgvaGVpZ2h0CiAgICAgICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAgICAgIHczY19zbGlkeS5hZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnMod2lkdGgsIGhlaWdodCk7CgogICAgICAgaWYgKGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgIT0gdzNjX3NsaWR5LnNpemVzW3czY19zbGlkeS5zaXplX2luZGV4XSkKICAgICAgIHsKICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICAgICB9CgogICAgICAgdzNjX3NsaWR5Lmxhc3Rfd2lkdGggPSB3aWR0aDsKICAgICAgIHczY19zbGlkeS5sYXN0X2hlaWdodCA9IGhlaWdodDsKCiAgICAgICAvLyBmb3JjZSByZWZsb3cgdG8gd29yayBhcm91bmQgTW96aWxsYSBidWcKICAgICAgIGlmICh3M2Nfc2xpZHkubnNfcG9zKQogICAgICAgewogICAgICAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgICAgICB3M2Nfc2xpZHkuaGlkZV9zbGlkZShzbGlkZSk7CiAgICAgICAgIHczY19zbGlkeS5zaG93X3NsaWRlKHNsaWRlKTsKICAgICAgIH0KCiAgICAgICAvLyBmb3JjZSBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRvb2xiYXIKICAgICAgIHczY19zbGlkeS5yZWZyZXNoX3Rvb2xiYXIoMjAwKTsKICAgICB9CiAgfSwKCiAgc2Nyb2xsZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkudG9vbGJhciAmJiAhdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhhY2tfb2Zmc2V0ID0gdzNjX3NsaWR5LnNjcm9sbF94X29mZnNldCgpOwogICAgICAvLyBoaWRlIHRvb2xiYXIKICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCiAgICAgIC8vIG1ha2UgaXQgcmVhcHBlYXIgbGF0ZXIKICAgICAgaWYgKHczY19zbGlkeS5zY3JvbGxoYWNrID09IDAgJiYgIXczY19zbGlkeS52aWV3X2FsbCkKICAgICAgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge3czY19zbGlkeS5zaG93X3Rvb2xiYXIoKTsgfSwgMTAwMCk7CiAgICAgICAgdzNjX3NsaWR5LnNjcm9sbGhhY2sgPSAxOwogICAgICB9CiAgICB9CiAgfSwKCiAgaGlkZV90b29sYmFyOiBmdW5jdGlvbiAoKSB7CiAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKHczY19zbGlkeS50b29sYmFyLCAiaGlkZGVuIik7CiAgICB3aW5kb3cuZm9jdXMoKTsKICB9LAoKICAvLyB1c2VkIHRvIGVuc3VyZSBJRSByZWZyZXNoZXMgdG9vbGJhciBpbiBjb3JyZWN0IHBvc2l0aW9uCiAgcmVmcmVzaF90b29sYmFyOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHsKICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcyAmJiAhdzNjX3NsaWR5LmllNykKICAgIHsKICAgICAgdzNjX3NsaWR5LmhpZGVfdG9vbGJhcigpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHt3M2Nfc2xpZHkuc2hvd190b29sYmFyKCk7fSwgaW50ZXJ2YWwpOwogICAgfQogIH0sCgogIC8vIHJlc3RvcmVzIHRvb2xiYXIgYWZ0ZXIgc2hvcnQgZGVsYXkKICBzaG93X3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3M2Nfc2xpZHkud2FudF90b29sYmFyKQogICAgewogICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAgIGlmICghdzNjX3NsaWR5Lm5zX3BvcykKICAgICAgewogICAgICAgIC8vIGFkanVzdCBwb3NpdGlvbiB0byBhbGxvdyBmb3Igc2Nyb2xsaW5nCiAgICAgICAgdmFyIHhvZmZzZXQgPSB3M2Nfc2xpZHkuc2Nyb2xsX3hfb2Zmc2V0KCk7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUubGVmdCA9IHhvZmZzZXQ7CiAgICAgICAgdzNjX3NsaWR5LnRvb2xiYXIuc3R5bGUucmlnaHQgPSB4b2Zmc2V0OwoKICAgICAgICAvLyBkZXRlcm1pbmUgdmVydGljYWwgc2Nyb2xsIG9mZnNldAogICAgICAgIC8vdmFyIHlvZmZzZXQgPSBzY3JvbGxZT2Zmc2V0KCk7CgogICAgICAgIC8vIGJvdHRvbSBpcyBkb2MgaGVpZ2h0IC0gd2luZG93IGhlaWdodCAtIHNjcm9sbCBvZmZzZXQKICAgICAgICAvL3ZhciBib3R0b20gPSBkb2N1bWVudEhlaWdodCgpIC0gbGFzdEhlaWdodCAtIHlvZmZzZXQKCiAgICAgICAgLy9pZiAoeW9mZnNldCA+IDAgfHwgZG9jdW1lbnRIZWlnaHQoKSA+IGxhc3RIZWlnaHQpCiAgICAgICAgLy8gICBib3R0b20gKz0gMTY7ICAvLyBhbGxvdyBmb3IgaGVpZ2h0IG9mIHNjcm9sbGJhcgoKICAgICAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5ib3R0b20gPSAwOyAvL2JvdHRvbTsKICAgICAgfQoKICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpOwogICAgfQoKICAgIHczY19zbGlkeS5zY3JvbGxoYWNrID0gMDsKCgogICAgLy8gc2V0IHRoZSBrZXlib2FyZCBmb2N1cyB0byB0aGUgaGVscCBsaW5rIG9uIHRoZQogICAgLy8gdG9vbGJhciB0byBlbnN1cmUgdGhhdCBkb2N1bWVudCBoYXMgdGhlIGZvY3VzCiAgICAvLyBJRSBkb2Vzbid0IGFsd2F5cyB3b3JrIHdpdGggd2luZG93LmZvY3VzKCkKICAgIC8vIGFuZCB0aGlzIGhhY2sgaGFzIGJlbmVmaXQgb2YgRW50ZXIgZm9yIGhlbHAKCiAgICB0cnkKICAgIHsKICAgICAgaWYgKCF3M2Nfc2xpZHkub3BlcmEpCiAgICAgICAgdzNjX3NsaWR5LnNldF9mb2N1cygpOwogICAgfQogICAgY2F0Y2ggKGUpCiAgICB7CiAgICB9CiAgfSwKCi8vIGludm9rZWQgdmlhIEYga2V5CiAgdG9nZ2xlX3Rvb2xiYXI6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdzNjX3NsaWR5LnZpZXdfYWxsKQogICAgewogICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpKQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LnJlbW92ZV9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDE7CiAgICAgIH0KICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdzNjX3NsaWR5LmFkZF9jbGFzcyh3M2Nfc2xpZHkudG9vbGJhciwgImhpZGRlbiIpCiAgICAgICAgdzNjX3NsaWR5LndhbnRfdG9vbGJhciA9IDA7CiAgICAgIH0KICAgIH0KICB9LAoKICBzY3JvbGxfeF9vZmZzZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cucGFnZVhPZmZzZXQpCiAgICAgIHJldHVybiBzZWxmLnBhZ2VYT2Zmc2V0OwoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgCiAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0OwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0OwoKICAgIHJldHVybiAwOwogIH0sCgogIHNjcm9sbF95X29mZnNldDogZnVuY3Rpb24gKCkgewogICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCkKICAgICAgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7CgogICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAKICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApCiAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgIGlmIChkb2N1bWVudC5ib2R5KQogICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIDA7CiAgfSwKCiAgLy8gbG9va2luZyBmb3IgYSB3YXkgdG8gZGV0ZXJtaW5lIGhlaWdodCBvZiBzbGlkZSBjb250ZW50CiAgLy8gdGhlIHNsaWRlIGl0c2VsZiBpcyBzZXQgdG8gdGhlIGhlaWdodCBvZiB0aGUgd2luZG93CiAgb3B0aW1pemVfZm9udF9zaXplOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIC8vdmFyIGRoID0gZG9jdW1lbnRIZWlnaHQoKTsgLy9nZXREb2NIZWlnaHQoZG9jdW1lbnQpOwogICAgdmFyIGRoID0gc2xpZGUuc2Nyb2xsSGVpZ2h0OwogICAgdmFyIHdoID0gZ2V0V2luZG93SGVpZ2h0KCk7CiAgICB2YXIgdSA9IDEwMCAqIGRoIC8gd2g7CgogICAgYWxlcnQoIndpbmRvdyB1dGlsaXphdGlvbiA9ICIgKyB1ICsgIiUgKGRvYyAiCiAgICAgICsgZGggKyAiIHdpbiAiICsgd2ggKyAiKSIpOwogIH0sCgogIC8vIGZyb20gZG9jdW1lbnQgb2JqZWN0CiAgZ2V0X2RvY19oZWlnaHQ6IGZ1bmN0aW9uIChkb2MpIHsKICAgIGlmICghZG9jKQogICAgICBkb2MgPSBkb2N1bWVudDsKCiAgICBpZiAoZG9jICYmIGRvYy5ib2R5ICYmIGRvYy5ib2R5Lm9mZnNldEhlaWdodCkKICAgICAgcmV0dXJuIGRvYy5ib2R5Lm9mZnNldEhlaWdodDsgIC8vIG5zL2dlY2tvIHN5bnRheAoKICAgIGlmIChkb2MgJiYgZG9jLmJvZHkgJiYgZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0KQogICAgICByZXR1cm4gZG9jLmJvZHkuc2Nyb2xsSGVpZ2h0OwoKICAgIGFsZXJ0KCJjb3VsZG4ndCBkZXRlcm1pbmUgZG9jdW1lbnQgaGVpZ2h0Iik7CiAgfSwKCiAgZ2V0X3dpbmRvd19oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJIZWlnaHQgKSA9PSAnbnVtYmVyJyApCiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7ICAvLyBOb24gSUUgYnJvd3NlcgoKICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7ICAvLyBJRTYKCiAgICBpZiAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyBJRTQKICB9LAoKICBkb2N1bWVudF9oZWlnaHQ6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBzaCwgb2g7CgogICAgc2ggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDsKICAgIG9oID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7CgogICAgaWYgKHNoICYmIG9oKQogICAgewogICAgICByZXR1cm4gKHNoID4gb2ggPyBzaCA6IG9oKTsKICAgIH0KCiAgICAvLyBubyBpZGVhIQogICAgcmV0dXJuIDA7CiAgfSwKCiAgc21hbGxlcjogZnVuY3Rpb24gKCkgewogICAgaWYgKHczY19zbGlkeS5zaXplX2luZGV4ID4gMCkKICAgIHsKICAgICAgLS13M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgYmlnZ2VyOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodzNjX3NsaWR5LnNpemVfaW5kZXggPCB3M2Nfc2xpZHkuc2l6ZXMubGVuZ3RoIC0gMSkKICAgIHsKICAgICAgKyt3M2Nfc2xpZHkuc2l6ZV9pbmRleDsKICAgIH0KCiAgICB3M2Nfc2xpZHkudG9vbGJhci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250U2l6ZSA9IHczY19zbGlkeS5zaXplc1t3M2Nfc2xpZHkuc2l6ZV9pbmRleF07CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwogICAgdzNjX3NsaWR5LmhpZGVfc2xpZGUoc2xpZGUpOwogICAgdzNjX3NsaWR5LnNob3dfc2xpZGUoc2xpZGUpOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7dzNjX3NsaWR5LnNob3dfdG9vbGJhcigpOyB9LCA1MCk7CiAgfSwKCiAgLy8gZW5hYmxlcyBjcm9zcyBicm93c2VyIHVzZSBvZiByZWxhdGl2ZSB3aWR0aC9oZWlnaHQKICAvLyBvbiBvYmplY3QgZWxlbWVudHMgZm9yIHVzZSB3aXRoIFNWRyBhbmQgRmxhc2ggbWVkaWEKICAvLyB3aXRoIHRoYW5rcyB0byBJdmFuIEhlcm1hbiBmb3IgdGhlIHN1Z2dlc3Rpb24KICBhZGp1c3Rfb2JqZWN0X2RpbWVuc2lvbnM6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7CiAgICBmb3IoIHZhciBpID0gMDsgaSA8IHczY19zbGlkeS5vYmplY3RzLmxlbmd0aDsgaSsrICkKICAgIHsKICAgICAgdmFyIG9iaiA9IHRoaXMub2JqZWN0c1tpXTsKICAgICAgdmFyIG1pbWVUeXBlID0gb2JqLmdldEF0dHJpYnV0ZSgidHlwZSIpOwoKICAgICAgaWYgKG1pbWVUeXBlID09ICJpbWFnZS9zdmcreG1sIiB8fCBtaW1lVHlwZSA9PSAiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giKQogICAgICB7CiAgICAgICAgaWYgKCAhb2JqLmluaXRpYWxXaWR0aCApIAogICAgICAgICAgb2JqLmluaXRpYWxXaWR0aCA9IG9iai5nZXRBdHRyaWJ1dGUoIndpZHRoIik7CgogICAgICAgIGlmICggIW9iai5pbml0aWFsSGVpZ2h0ICkgCiAgICAgICAgICBvYmouaW5pdGlhbEhlaWdodCA9IG9iai5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICBpZiAoIG9iai5pbml0aWFsV2lkdGggJiYgb2JqLmluaXRpYWxXaWR0aC5jaGFyQXQob2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgdyA9IHBhcnNlSW50KG9iai5pbml0aWFsV2lkdGguc2xpY2UoMCwgb2JqLmluaXRpYWxXaWR0aC5sZW5ndGgtMSkpOwogICAgICAgICAgdmFyIG5ld1cgPSB3aWR0aCAqICh3LzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoIndpZHRoIixuZXdXKTsKICAgICAgICB9CgogICAgICAgIGlmICggb2JqLmluaXRpYWxIZWlnaHQgJiYKICAgICAgICAgICAgIG9iai5pbml0aWFsSGVpZ2h0LmNoYXJBdChvYmouaW5pdGlhbEhlaWdodC5sZW5ndGgtMSkgPT0gIiUiICkKICAgICAgICB7CiAgICAgICAgICB2YXIgaCA9IHBhcnNlSW50KG9iai5pbml0aWFsSGVpZ2h0LnNsaWNlKDAsIG9iai5pbml0aWFsSGVpZ2h0Lmxlbmd0aC0xKSk7CiAgICAgICAgICB2YXIgbmV3SCA9IGhlaWdodCAqIChoLzEwMC4wKTsKICAgICAgICAgIG9iai5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIG5ld0gpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCgogIC8vIG5lZWRlZCBmb3IgT3BlcmEgdG8gaW5oaWJpdCBkZWZhdWx0IGJlaGF2aW9yCiAgLy8gc2luY2UgT3BlcmEgZGVsaXZlcnMga2V5UHJlc3MgZXZlbiBpZiBrZXlEb3duCiAgLy8gd2FzIGNhbmNlbGxlZAogIGtleV9wcmVzczogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoIWV2ZW50KQogICAgICBldmVudCA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoIXczY19zbGlkeS5rZXlfd2FudGVkKQogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gIFNlZSBlLmcuIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvanMvZXZlbnRzL2tleXMuaHRtbCBmb3Iga2V5Y29kZXMKICBrZXlfZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIga2V5LCB0YXJnZXQsIHRhZzsKCiAgICB3M2Nfc2xpZHkua2V5X3dhbnRlZCA9IHRydWU7CgogICAgaWYgKCFldmVudCkKICAgICAgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh3aW5kb3cuZXZlbnQpCiAgICB7CiAgICAgIGtleSA9IHdpbmRvdy5ldmVudC5rZXlDb2RlOwogICAgICB0YXJnZXQgPSB3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDsKICAgIH0KICAgIGVsc2UgaWYgKGV2ZW50LndoaWNoKQogICAgewogICAgICBrZXkgPSBldmVudC53aGljaDsKICAgICAgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwogICAgfQogICAgZWxzZQogICAgICByZXR1cm4gdHJ1ZTsgLy8gWWlrZXMhIHVua25vd24gYnJvd3NlcgoKICAgIC8vIGlnbm9yZSBldmVudCBpZiBrZXkgdmFsdWUgaXMgemVybwogICAgLy8gYXMgZm9yIGFsdCBvbiBPcGVyYSBhbmQgS29ucXVlcm9yCiAgICBpZiAoIWtleSkKICAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGF2b2lkIGludGVyZmVyaW5nIHdpdGgga2V5c3Ryb2tlCiAgICAvLyBiZWhhdmlvciBmb3Igbm9uLXNsaWR5IGNocm9tZSBlbGVtZW50cwogICAgaWYgKCF3M2Nfc2xpZHkuc2xpZHlfY2hyb21lKHRhcmdldCkgJiYKICAgICAgICB3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIC8vIGNoZWNrIGZvciBjb25jdXJyZW50IGNvbnRyb2wvY29tbWFuZC9hbHQga2V5CiAgICAvLyBidXQgYXJlIHRoZXNlIG9ubHkgcHJlc2VudCBvbiBtb3VzZSBldmVudHM/CgogICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkpCiAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAvLyBkaXNtaXNzIHRhYmxlIG9mIGNvbnRlbnRzIGlmIHZpc2libGUKICAgIGlmICh3M2Nfc2xpZHkuaXNfc2hvd25fdG9jKCkgJiYga2V5ICE9IDkgJiYga2V5ICE9IDE2ICYmIGtleSAhPSAzOCAmJiBrZXkgIT0gNDApCiAgICB7CiAgICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKHRydWUpOwoKICAgICAgaWYgKGtleSA9PSAyNyB8fCBrZXkgPT0gODQgfHwga2V5ID09IDY3KQogICAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KCiAgICBpZiAoa2V5ID09IDM0KSAvLyBQYWdlIERvd24KICAgIHsKICAgICAgaWYgKHczY19zbGlkeS52aWV3X2FsbCkKICAgICAgICByZXR1cm4gdHJ1ZTsKCiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKGZhbHNlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDMzKSAvLyBQYWdlIFVwCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudmlld19hbGwpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB3M2Nfc2xpZHkucHJldmlvdXNfc2xpZGUoZmFsc2UpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzIpIC8vIHNwYWNlIGJhcgogICAgewogICAgICB3M2Nfc2xpZHkubmV4dF9zbGlkZSh0cnVlKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDM3KSAvLyBMZWZ0IGFycm93CiAgICB7CiAgICAgIHczY19zbGlkeS5wcmV2aW91c19zbGlkZSghZXZlbnQuc2hpZnRLZXkpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMzYpIC8vIEhvbWUKICAgIHsKICAgICAgdzNjX3NsaWR5LmZpcnN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzNSkgLy8gRW5kCiAgICB7CiAgICAgIHczY19zbGlkeS5sYXN0X3NsaWRlKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSAzOSkgLy8gUmlnaHQgYXJyb3cKICAgIHsKICAgICAgdzNjX3NsaWR5Lm5leHRfc2xpZGUoIWV2ZW50LnNoaWZ0S2V5KTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDEzKSAvLyBFbnRlcgogICAgewogICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUpCiAgICAgIHsKICAgICAgICBpZiAodzNjX3NsaWR5Lm91dGxpbmUudmlzaWJsZSkKICAgICAgICAgIHczY19zbGlkeS5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICBlbHNlCiAgICAgICAgICB3M2Nfc2xpZHkudW5mb2xkKHczY19zbGlkeS5vdXRsaW5lKTsKICAgICAgICAgIAogICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgICB9CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg4KSAgLy8gPCBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTkwKSAgLy8gPiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDE4OSB8fCBrZXkgPT0gMTA5KSAgLy8gLSBmb3Igc21hbGxlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuc21hbGxlcigpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gMTg3IHx8IGtleSA9PSAxOTEgfHwga2V5ID09IDEwNykgIC8vID0gKyAgZm9yIGxhcmdlciBmb250cwogICAgewogICAgICB3M2Nfc2xpZHkuYmlnZ2VyKCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4MykgIC8vIFMgZm9yIHNtYWxsZXIgZm9udHMKICAgIHsKICAgICAgdzNjX3NsaWR5LnNtYWxsZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY2KSAgLy8gQiBmb3IgbGFyZ2VyIGZvbnRzCiAgICB7CiAgICAgIHczY19zbGlkeS5iaWdnZXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDkwKSAgLy8gWiBmb3IgbGFzdCBzbGlkZQogICAgewogICAgICB3M2Nfc2xpZHkubGFzdF9zbGlkZSgpOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICBlbHNlIGlmIChrZXkgPT0gNzApICAvLyBGIGZvciB0b2dnbGUgdG9vbGJhcgogICAgewogICAgICB3M2Nfc2xpZHkudG9nZ2xlX3Rvb2xiYXIoKTsKICAgICAgcmV0dXJuIHczY19zbGlkeS5jYW5jZWwoZXZlbnQpOwogICAgfQogICAgZWxzZSBpZiAoa2V5ID09IDY1KSAgLy8gQSBmb3IgdG9nZ2xlIHZpZXcgc2luZ2xlL2FsbCBzbGlkZXMKICAgIHsKICAgICAgdzNjX3NsaWR5LnRvZ2dsZV92aWV3KCk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3NSkgIC8vIHRvZ2dsZSBhY3Rpb24gb2YgbGVmdCBjbGljayBmb3IgbmV4dCBwYWdlCiAgICB7CiAgICAgIHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID0gIXczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkOwogICAgICB2YXIgYWxlcnRfbXNnID0gKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkID8KICAgICAgICAgICAgICAgICJlbmFibGVkIiA6ICJkaXNhYmxlZCIpICsgICIgbW91c2UgY2xpY2sgYWR2YW5jZSI7CgogICAgICBhbGVydCh3M2Nfc2xpZHkubG9jYWxpemUoYWxlcnRfbXNnKSk7CiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA4NCB8fCBrZXkgPT0gNjcpICAvLyBUIG9yIEMgZm9yIHRhYmxlIG9mIGNvbnRlbnRzCiAgICB7CiAgICAgIGlmICh3M2Nfc2xpZHkudG9jKQogICAgICAgIHczY19zbGlkeS50b2dnbGVfdGFibGVfb2ZfY29udGVudHMoKTsKCiAgICAgIHJldHVybiB3M2Nfc2xpZHkuY2FuY2VsKGV2ZW50KTsKICAgIH0KICAgIGVsc2UgaWYgKGtleSA9PSA3MikgLy8gSCBmb3IgaGVscAogICAgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB3M2Nfc2xpZHkuaGVscF9wYWdlOwogICAgICByZXR1cm4gdzNjX3NsaWR5LmNhbmNlbChldmVudCk7CiAgICB9CiAgICAvL2Vsc2UgYWxlcnQoImtleSBjb2RlIGlzICIrIGtleSk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgLy8gc2FmZSBmb3IgYm90aCB0ZXh0L2h0bWwgYW5kIGFwcGxpY2F0aW9uL3hodG1sK3htbAogIGNyZWF0ZV9lbGVtZW50OiBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKHRoaXMueGh0bWwgJiYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgIT0gJ3VuZGVmaW5lZCcpKQogICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwgbmFtZSkKCiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTsKICB9LAoKICBnZXRfZWxlbWVudF9zdHlsZTogZnVuY3Rpb24gKGVsZW0sIElFU3R5bGVQcm9wLCBDU1NTdHlsZVByb3ApIHsKICAgIGlmIChlbGVtLmN1cnJlbnRTdHlsZSkKICAgIHsKICAgICAgcmV0dXJuIGVsZW0uY3VycmVudFN0eWxlW0lFU3R5bGVQcm9wXTsKICAgIH0KICAgIGVsc2UgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKQogICAgewogICAgICB2YXIgY29tcFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgIiIpOwogICAgICByZXR1cm4gY29tcFN0eWxlLmdldFByb3BlcnR5VmFsdWUoQ1NTU3R5bGVQcm9wKTsKICAgIH0KICAgIHJldHVybiAiIjsKICB9LAoKICAvLyB0aGUgc3RyaW5nIHN0ciBpcyBhIHdoaXRlc3BhY2Ugc2VwYXJhdGVkIGxpc3Qgb2YgdG9rZW5zCiAgLy8gdGVzdCBpZiBzdHIgY29udGFpbnMgYSBwYXJ0aWN1bGFyIHRva2VuLCBlLmcuICJzbGlkZSIKICBoYXNfdG9rZW46IGZ1bmN0aW9uIChzdHIsIHRva2VuKSB7CiAgICBpZiAoc3RyKQogICAgewogICAgICAvLyBkZWZpbmUgcGF0dGVybiBhcyByZWd1bGFyIGV4cHJlc3Npb24KICAgICAgdmFyIHBhdHRlcm4gPSAvXHcrL2c7CgogICAgICAvLyBjaGVjayBmb3IgbWF0Y2hlcwogICAgICAvLyBwbGFjZSByZXN1bHQgaW4gYXJyYXkKICAgICAgdmFyIHJlc3VsdCA9IHN0ci5tYXRjaChwYXR0ZXJuKTsKCiAgICAgIC8vIG5vdyBjaGVjayBpZiBkZXNpcmVkIHRva2VuIGlzIHByZXNlbnQKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspCiAgICAgIHsKICAgICAgICBpZiAocmVzdWx0W2ldID09IHRva2VuKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfSwKCiAgZ2V0X2NsYXNzX2xpc3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gZWxlbWVudC5jbGFzc05hbWU7CgogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogIH0sCgogIGhhc19jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9IDEpCiAgICAgIHJldHVybiBmYWxzZTsKCiAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiKF58ICkiICsgbmFtZSArICJcVyoiKTsKCiAgICBpZiAodHlwZW9mIGVsZW1lbnQuY2xhc3NOYW1lICE9ICd1bmRlZmluZWQnKQogICAgICByZXR1cm4gcmVnZXhwLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpOwoKICAgIHJldHVybiByZWdleHAudGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZSgiY2xhc3MiKSk7CiAgfSwKCiAgcmVtb3ZlX2NsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgbmFtZSkgewogICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoIihefCApIiArIG5hbWUgKyAiXFcqIik7CiAgICB2YXIgY2xzdmFsID0gIiI7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50LmNsYXNzTmFtZSAhPSAndW5kZWZpbmVkJykKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5jbGFzc05hbWU7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbHN2YWw7CiAgICAgIH0KICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgY2xzdmFsID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoImNsYXNzIik7CgogICAgICBpZiAoY2xzdmFsKQogICAgICB7CiAgICAgICAgY2xzdmFsID0gY2xzdmFsLnJlcGxhY2UocmVnZXhwLCAiIik7CiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgY2xzdmFsKTsKICAgICAgfQogICAgfQogIH0sCgogIGFkZF9jbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmICghdGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgbmFtZSkpCiAgICB7CiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5jbGFzc05hbWUgIT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gIiAiICsgbmFtZTsKICAgICAgZWxzZQogICAgICB7CiAgICAgICAgdmFyIGNsc3ZhbCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpOwogICAgICAgIGNsc3ZhbCA9IGNsc3ZhbCA/IGNsc3ZhbCArICIgIiArIG5hbWUgOiBuYW1lOwogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsIGNsc3ZhbCk7CiAgICAgIH0KICAgIH0KICB9LAoKICAvLyBIVE1MIGVsZW1lbnRzIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBjbGFzcz0iaW5jcmVtZW50YWwiCiAgLy8gbm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBwdXQgdGhlIGNsYXNzIG9uIGNvbnRhaW5lcnMgbGlrZQogIC8vIHVwLCBvbCwgZGwsIGFuZCBkaXYgdG8gbWFrZSB0aGVpciBjb250ZW50cyBhcHBlYXIKICAvLyBpbmNyZW1lbnRhbGx5LiBVcHBlciBjYXNlIGlzIHVzZWQgc2luY2UgdGhpcyBpcyB3aGF0CiAgLy8gYnJvd3NlcnMgcmVwb3J0IGZvciBIVE1MIG5vZGUgbmFtZXMgKHRleHQvaHRtbCkuCiAgaW5jcmVtZW50YWxfZWxlbWVudHM6IG51bGwsCiAgb2theV9mb3JfaW5jcmVtZW50YWw6IGZ1bmN0aW9uIChuYW1lKSB7CiAgICBpZiAoIXRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMpCiAgICB7CiAgICAgIHZhciBpbmNsaXN0ID0gbmV3IEFycmF5KCk7CiAgICAgIGluY2xpc3RbInAiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInByZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsibGkiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImJsb2NrcXVvdGUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImR0Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJkZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImgzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJoNCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaDUiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbImg2Il0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJzcGFuIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJhZGRyZXNzIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0YWJsZSJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsidHIiXSA9IHRydWU7CiAgICAgIGluY2xpc3RbInRoIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJ0ZCJdID0gdHJ1ZTsKICAgICAgaW5jbGlzdFsiaW1nIl0gPSB0cnVlOwogICAgICBpbmNsaXN0WyJvYmplY3QiXSA9IHRydWU7CiAgICAgIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHMgPSBpbmNsaXN0OwogICAgfQogICAgcmV0dXJuIHRoaXMuaW5jcmVtZW50YWxfZWxlbWVudHNbbmFtZS50b0xvd2VyQ2FzZSgpXTsKICB9LAoKICBuZXh0X2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkubmV4dF9ub2RlKHNsaWRlLCBub2RlKTsKCiAgICAgIGlmIChub2RlID09IG51bGwgfHwgbm9kZS5wYXJlbnROb2RlID09IG51bGwpCiAgICAgICAgYnJlYWs7CgogICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSAgLy8gRUxFTUVOVAogICAgICB7CiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gYnIpCiAgICAgICAgICBjb250aW51ZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgImluY3JlbWVudGFsIikKICAgICAgICAgICAgICYmIHczY19zbGlkeS5va2F5X2Zvcl9pbmNyZW1lbnRhbChub2RlLm5vZGVOYW1lKSkKICAgICAgICAgIHJldHVybiBub2RlOwoKICAgICAgICBpZiAodzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLnBhcmVudE5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiAhdzNjX3NsaWR5Lmhhc19jbGFzcyhub2RlLCAibm9uLWluY3JlbWVudGFsIikpCiAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0sCgogIHByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgYnIgPSB0aGlzLmlzX3hodG1sID8gImJyIiA6ICJCUiI7CiAgICB2YXIgc2xpZGUgPSB3M2Nfc2xpZHkuc2xpZGVzW3czY19zbGlkeS5zbGlkZV9udW1iZXJdOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSB3M2Nfc2xpZHkucHJldmlvdXNfbm9kZShzbGlkZSwgbm9kZSk7CgogICAgICBpZiAobm9kZSA9PSBudWxsIHx8IG5vZGUucGFyZW50Tm9kZSA9PSBudWxsKQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkKICAgICAgewogICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IGJyKQogICAgICAgICAgY29udGludWU7CgogICAgICAgIGlmICh3M2Nfc2xpZHkuaGFzX2NsYXNzKG5vZGUsICJpbmNyZW1lbnRhbCIpCiAgICAgICAgICAgICAmJiB3M2Nfc2xpZHkub2theV9mb3JfaW5jcmVtZW50YWwobm9kZS5ub2RlTmFtZSkpCiAgICAgICAgICByZXR1cm4gbm9kZTsKCiAgICAgICAgaWYgKHczY19zbGlkeS5oYXNfY2xhc3Mobm9kZS5wYXJlbnROb2RlLCAiaW5jcmVtZW50YWwiKQogICAgICAgICAgICAgJiYgIXczY19zbGlkeS5oYXNfY2xhc3Mobm9kZSwgIm5vbi1pbmNyZW1lbnRhbCIpKQogICAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9LAoKICAvLyBzZXQgdmlzaWJpbGl0eSBmb3IgYWxsIGVsZW1lbnRzIG9uIGN1cnJlbnQgc2xpZGUgd2l0aAogIC8vIGEgcGFyZW50IGVsZW1lbnQgd2l0aCBhdHRyaWJ1dGUgY2xhc3M9ImluY3JlbWVudGFsIgogIHNldF92aXNpYmlsaXR5X2FsbF9pbmNyZW1lbnRhbDogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICB2YXIgbm9kZSA9IHRoaXMubmV4dF9pbmNyZW1lbnRhbF9pdGVtKG51bGwpOwoKICAgIGlmICh2YWx1ZSA9PSAiaGlkZGVuIikKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkuYWRkX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogICAgZWxzZSAvLyB2YWx1ZSA9PSAidmlzaWJsZSIKICAgIHsKICAgICAgd2hpbGUgKG5vZGUpCiAgICAgIHsKICAgICAgICB3M2Nfc2xpZHkucmVtb3ZlX2NsYXNzKG5vZGUsICJpbnZpc2libGUiKTsKICAgICAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKICAgICAgfQogICAgfQogIH0sCgogIC8vIHJldmVhbCB0aGUgbmV4dCBoaWRkZW4gaXRlbSBvbiB0aGUgc2xpZGUKICAvLyBub2RlIGlzIG51bGwgb3IgdGhlIG5vZGUgdGhhdCB3YXMgbGFzdCByZXZlYWxlZAogIHJldmVhbF9uZXh0X2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBub2RlID0gdzNjX3NsaWR5Lm5leHRfaW5jcmVtZW50YWxfaXRlbShub2RlKTsKCiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5yZW1vdmVfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiBub2RlOwogIH0sCgogIC8vIGV4YWN0IGludmVyc2Ugb2YgcmV2ZWFsTmV4dEl0ZW0obm9kZSkKICBoaWRlX3ByZXZpb3VzX2l0ZW06IGZ1bmN0aW9uIChub2RlKSB7CiAgICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEpICAvLyBhbiBlbGVtZW50CiAgICAgIHczY19zbGlkeS5hZGRfY2xhc3Mobm9kZSwgImludmlzaWJsZSIpOwoKICAgIHJldHVybiB0aGlzLnByZXZpb3VzX2luY3JlbWVudGFsX2l0ZW0obm9kZSk7CiAgfSwKCiAgLy8gbGVmdCB0byByaWdodCB0cmF2ZXJzYWwgb2Ygcm9vdCdzIGNvbnRlbnQKICBuZXh0X25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgICByZXR1cm4gcm9vdC5maXJzdENoaWxkOwoKICAgIGlmIChub2RlLmZpcnN0Q2hpbGQpCiAgICAgIHJldHVybiBub2RlLmZpcnN0Q2hpbGQ7CgogICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpCiAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nOwoKICAgIGZvciAoOzspCiAgICB7CiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7CgogICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PSByb290KQogICAgICAgIGJyZWFrOwoKICAgICAgaWYgKG5vZGUgJiYgbm9kZS5uZXh0U2libGluZykKICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9LAoKICAvLyByaWdodCB0byBsZWZ0IHRyYXZlcnNhbCBvZiByb290J3MgY29udGVudAogIHByZXZpb3VzX25vZGU6IGZ1bmN0aW9uIChyb290LCBub2RlKSB7CiAgICBpZiAobm9kZSA9PSBudWxsKQogICAgewogICAgICBub2RlID0gcm9vdC5sYXN0Q2hpbGQ7CgogICAgICBpZiAobm9kZSkKICAgICAgewogICAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkKICAgICAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucHJldmlvdXNTaWJsaW5nKQogICAgewogICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICB3aGlsZSAobm9kZS5sYXN0Q2hpbGQpCiAgICAgICAgbm9kZSA9IG5vZGUubGFzdENoaWxkOwoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CgogICAgaWYgKG5vZGUucGFyZW50Tm9kZSAhPSByb290KQogICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlOwoKICAgIHJldHVybiBudWxsOwogIH0sCgogIHByZXZpb3VzX3NpYmxpbmdfZWxlbWVudDogZnVuY3Rpb24gKGVsKSB7CiAgICBlbCA9IGVsLnByZXZpb3VzU2libGluZzsKCiAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT0gMSkKICAgICAgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIG5leHRfc2libGluZ19lbGVtZW50OiBmdW5jdGlvbiAoZWwpIHsKICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9IDEpCiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7CgogICAgcmV0dXJuIGVsOwogIH0sCgogIGZpcnN0X2NoaWxkX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbCkgewogICAgdmFyIG5vZGU7CgogICAgZm9yIChub2RlID0gZWwuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgZmlyc3RfdGFnOiBmdW5jdGlvbiAoZWxlbWVudCwgdGFnKSB7CiAgICB2YXIgbm9kZTsKCiAgICBpZiAoIXRoaXMuaXNfeGh0bWwpCiAgICAgIHRhZyA9IHRhZy50b1VwcGVyQ2FzZSgpOwoKICAgIGZvciAobm9kZSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpCiAgICB7CiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5ub2RlTmFtZSA9PSB0YWcpCiAgICAgICAgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIG5vZGU7CiAgfSwKCiAgaGlkZV9zZWxlY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSAvLyBGaXJlZm94LCBDaHJvbWl1bSwgU2FmYXJpLCBPcGVyYQogICAgewogICAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkKICAgICAgewogICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApOwogICAgICAgIHJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIGVsc2UgLy8gSW50ZXJuZXQgRXhwbG9yZXIKICAgIHsKICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAoKTsKICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlIChmYWxzZSk7CiAgICB9CiAgfSwKCiAgZ2V0X3NlbGVjdGVkX3RleHQ6IGZ1bmN0aW9uICgpIHsKICAgIHRyeQogICAgewogICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikKICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CgogICAgICBpZiAoZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwoKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICByZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dDsKICAgIH0KICAgIGNhdGNoIChlKQogICAgewogICAgfQoKICAgIHJldHVybiAiIjsKICB9LAoKICAvLyBtYWtlIG5vdGUgb2YgbGVuZ3RoIG9mIHNlbGVjdGVkIHRleHQKICAvLyBhcyB0aGlzIGV2YWx1YXRlcyB0byB6ZXJvIGluIGNsaWNrIGV2ZW50CiAgbW91c2VfYnV0dG9uX3VwOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogIH0sCgogIG1vdXNlX2J1dHRvbl9kb3duOiBmdW5jdGlvbiAoZSkgewogICAgdzNjX3NsaWR5LnNlbGVjdGVkX3RleHRfbGVuID0gdzNjX3NsaWR5LmdldF9zZWxlY3RlZF90ZXh0KCkubGVuZ3RoOwogICAgdzNjX3NsaWR5Lm1vdXNlX3ggPSBlLmNsaWVudFg7CiAgICB3M2Nfc2xpZHkubW91c2VfeSA9IGUuY2xpZW50WTsKICB9LAoKICAvLyByaWdodCBtb3VzZSBidXR0b24gY2xpY2sgaXMgcmVzZXJ2ZWQgZm9yIGNvbnRleHQgbWVudXMKICAvLyBpdCBpcyBtb3JlIHJlbGlhYmxlIHRvIGRldGVjdCByaWdodGNsaWNrIHRoYW4gbGVmdGNsaWNrCiAgbW91c2VfYnV0dG9uX2NsaWNrOiBmdW5jdGlvbiAoZSkgewogICAgaWYgKCFlKQogICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudDsKCiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC13M2Nfc2xpZHkubW91c2VfeCkgKwogICAgICAgIE1hdGguYWJzKGUuY2xpZW50WSAtdzNjX3NsaWR5Lm1vdXNlX3kpID4gMTApCiAgICAgIHJldHVybiB0cnVlOwoKICAgIGlmICh3M2Nfc2xpZHkuc2VsZWN0ZWRfdGV4dF9sZW4gPiAwKQogICAgICByZXR1cm4gdHJ1ZTsKCiAgICB2YXIgcmlnaHRjbGljayA9IGZhbHNlOwogICAgdmFyIGxlZnRjbGljayA9IGZhbHNlOwogICAgdmFyIG1pZGRsZWNsaWNrID0gZmFsc2U7CiAgICB2YXIgdGFyZ2V0OwoKICAgIGlmICghZSkKICAgICAgdmFyIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIC8vIHdvcmsgYXJvdW5kIFNhZmFyaSBidWcKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMykKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgaWYgKGUud2hpY2gpIC8vIGFsbCBicm93c2VycyBleGNlcHQgSUUKICAgIHsKICAgICAgbGVmdGNsaWNrID0gKGUud2hpY2ggPT0gMSk7CiAgICAgIG1pZGRsZWNsaWNrID0gKGUud2hpY2ggPT0gMik7CiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS53aGljaCA9PSAzKTsKICAgIH0KICAgIGVsc2UgaWYgKGUuYnV0dG9uKQogICAgewogICAgICAvLyBLb25xdWVyb3IgZ2l2ZXMgMSBmb3IgbGVmdCwgNCBmb3IgbWlkZGxlCiAgICAgIC8vIElFNiBnaXZlcyAwIGZvciBsZWZ0IGFuZCBub3QgMSBhcyBJIGV4cGVjdGVkCgogICAgICBpZiAoZS5idXR0b24gPT0gNCkKICAgICAgICBtaWRkbGVjbGljayA9IHRydWU7CgogICAgICAvLyBhbGwgYnJvd3NlcnMgYWdyZWUgb24gMiBmb3IgcmlnaHQgYnV0dG9uCiAgICAgIHJpZ2h0Y2xpY2sgPSAoZS5idXR0b24gPT0gMik7CiAgICB9CiAgICBlbHNlCiAgICAgIGxlZnRjbGljayA9IHRydWU7CgogICAgaWYgKHczY19zbGlkeS5zZWxlY3RlZF90ZXh0X2xlbiA+IDApCiAgICB7CiAgICAgIHczY19zbGlkeS5zdG9wX3Byb3BhZ2F0aW9uKGUpOwogICAgICBlLmNhbmNlbCA9IHRydWU7CiAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vIGRpc21pc3MgdGFibGUgb2YgY29udGVudHMKICAgIHczY19zbGlkeS5oaWRlX3RhYmxlX29mX2NvbnRlbnRzKGZhbHNlKTsKCiAgICAvLyBjaGVjayBpZiB0YXJnZXQgaXMgc29tZXRoaW5nIHRoYXQgcHJvYmFibHkgd2FudCdzIGNsaWNrcwogICAgLy8gZS5nLiBhLCBlbWJlZCwgb2JqZWN0LCBpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uCiAgICB2YXIgdGFnID0gdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKHczY19zbGlkeS5tb3VzZV9jbGlja19lbmFibGVkICYmIGxlZnRjbGljayAmJgogICAgICAgICF3M2Nfc2xpZHkuc3BlY2lhbF9lbGVtZW50KHRhcmdldCkgJiYKICAgICAgICAhdGFyZ2V0Lm9uY2xpY2spCiAgICB7CiAgICAgIHczY19zbGlkeS5uZXh0X3NsaWRlKHRydWUpOwogICAgICB3M2Nfc2xpZHkuc3RvcF9wcm9wYWdhdGlvbihlKTsKICAgICAgZS5jYW5jZWwgPSB0cnVlOwogICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gdHJ1ZTsKICB9LAoKICBzcGVjaWFsX2VsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICBpZiAodGhpcy5oYXNfY2xhc3MoZWxlbWVudCwgIm5vbi1pbnRlcmFjdGl2ZSIpKQogICAgICByZXR1cm4gZmFsc2U7CgogICAgdmFyIHRhZyA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gZWxlbWVudC5vbmtleWRvd24gfHwKICAgICAgZWxlbWVudC5vbmNsaWNrIHx8CiAgICAgIHRhZyA9PSAiYSIgfHwKICAgICAgdGFnID09ICJlbWJlZCIgfHwKICAgICAgdGFnID09ICJvYmplY3QiIHx8CiAgICAgIHRhZyA9PSAidmlkZW8iIHx8CiAgICAgIHRhZyA9PSAiYXVkaW8iIHx8CiAgICAgIHRhZyA9PSAic3ZnIiB8fAogICAgICB0YWcgPT0gImNhbnZhcyIgfHwKICAgICAgdGFnID09ICJpbnB1dCIgfHwKICAgICAgdGFnID09ICJ0ZXh0YXJlYSIgfHwKICAgICAgdGFnID09ICJzZWxlY3QiIHx8CiAgICAgIHRhZyA9PSAib3B0aW9uIjsKICB9LAoKICBzbGlkeV9jaHJvbWU6IGZ1bmN0aW9uIChlbCkgewogICAgd2hpbGUgKGVsKQogICAgewogICAgICBpZiAoZWwgPT0gdzNjX3NsaWR5LnRvYyB8fAogICAgICAgICAgZWwgPT0gdzNjX3NsaWR5LnRvb2xiYXIgfHwKICAgICAgICAgIHczY19zbGlkeS5oYXNfY2xhc3MoZWwsICJvdXRsaW5lIikpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICBlbCA9IGVsLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0sCgogIGdldF9rZXk6IGZ1bmN0aW9uIChlKQogIHsKICAgIHZhciBrZXk7CgogICAgLy8ga2x1ZGdlIGFyb3VuZCBOUy9JRSBkaWZmZXJlbmNlcyAKICAgIGlmICh0eXBlb2Ygd2luZG93LmV2ZW50ICE9ICJ1bmRlZmluZWQiKQogICAgICBrZXkgPSB3aW5kb3cuZXZlbnQua2V5Q29kZTsKICAgIGVsc2UgaWYgKGUud2hpY2gpCiAgICAgIGtleSA9IGUud2hpY2g7CgogICAgcmV0dXJuIGtleTsKICB9LAoKICBnZXRfdGFyZ2V0OiBmdW5jdGlvbiAoZSkgewogICAgdmFyIHRhcmdldDsKCiAgICBpZiAoIWUpCiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7CgogICAgaWYgKGUudGFyZ2V0KQogICAgICB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGVsc2UgaWYgKGUuc3JjRWxlbWVudCkKICAgICAgdGFyZ2V0ID0gZS5zcmNFbGVtZW50OwoKICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkKICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7CgogICAgcmV0dXJuIHRhcmdldDsKICB9LAoKICAvLyBkb2VzIGRpc3BsYXkgcHJvcGVydHkgcHJvdmlkZSBjb3JyZWN0IGRlZmF1bHRzPwogIGlzX2Jsb2NrOiBmdW5jdGlvbiAoZWxlbSkgewogICAgdmFyIHRhZyA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICByZXR1cm4gdGFnID09ICJvbCIgfHwgdGFnID09ICJ1bCIgfHwgdGFnID09ICJwIiB8fCB0YWcgPT0gImRsIiB8fAogICAgICAgICAgIHRhZyA9PSAibGkiIHx8IHRhZyA9PSAidGFibGUiIHx8IHRhZyA9PSAicHJlIiB8fAogICAgICAgICAgIHRhZyA9PSAiaDEiIHx8IHRhZyA9PSAiaDIiIHx8IHRhZyA9PSAiaDMiIHx8CiAgICAgICAgICAgdGFnID09ICJoNCIgfHwgdGFnID09ICJoNSIgfHwgdGFnID09ICJoNiIgfHwKICAgICAgICAgICB0YWcgPT0gImJsb2NrcXVvdGUiIHx8IHRhZyA9PSAiYWRkcmVzcyI7IAogIH0sCgogIGFkZF9saXN0ZW5lcjogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyKSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpCiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgZmFsc2UpOwogICAgZWxzZQogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCJvbiIrZXZlbnQsIGhhbmRsZXIpOwogIH0sCgogIC8vIHVzZWQgdG8gcHJldmVudCBldmVudCBwcm9wYWdhdGlvbiBmcm9tIGZpZWxkIGNvbnRyb2xzCiAgc3RvcF9wcm9wYWdhdGlvbjogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBldmVudCA9IGV2ZW50ID8gZXZlbnQgOiB3aW5kb3cuZXZlbnQ7CiAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgLy8gZm9yIElFCgogICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikKICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAgY2FuY2VsOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGlmIChldmVudCkKICAgIHsKICAgICAgIGV2ZW50LmNhbmNlbCA9IHRydWU7CiAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KQogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdzNjX3NsaWR5LmtleV93YW50ZWQgPSBmYWxzZTsKICAgIHJldHVybiBmYWxzZTsKICB9LAoKLy8gZm9yIGVhY2ggbGFuZ3VhZ2UgZGVmaW5lIGFuIGFzc29jaWF0aXZlIGFycmF5Ci8vIGFuZCBhbHNvIHRoZSBoZWxwIHRleHQgd2hpY2ggaXMgbG9uZ2VyCgogIHN0cmluZ3NfZXM6IHsKICAgICJzbGlkZSI6InDDoWcuIiwKICAgICJoZWxwPyI6IkF5dWRhIiwKICAgICJjb250ZW50cz8iOiLDjW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6InRhYmxhIGRlIGNvbnRlbmlkb3MiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiVGFibGEgZGUgQ29udGVuaWRvcyIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZWluaWNpYXIgcHJlc2VudGFjacOzbiIsCiAgICAicmVzdGFydD8iOiJJbmljaW8iCiAgfSwKICBoZWxwX2VzOgogICAgIlV0aWxpY2UgZWwgcmF0w7NuLCBiYXJyYSBlc3BhY2lhZG9yYSwgdGVjbGFzIEl6ZGEvRGNoYSwgIiArCiAgICAibyBSZSBww6FnIHkgQXYgcMOhZy4gVXNlIFMgeSBCIHBhcmEgY2FtYmlhciBlbCB0YW1hw7FvIGRlIGZ1ZW50ZS4iLAoKICBzdHJpbmdzX2NhOiB7CiAgICAic2xpZGUiOiJww6BnLi4iLAogICAgImhlbHA/IjoiQWp1ZGEiLAogICAgImNvbnRlbnRzPyI6IsONbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YXVsYSBkZSBjb250aW5ndXRzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhdWxhIGRlIENvbnRpbmd1dHMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVpbmljaWFyIHByZXNlbnRhY2nDsyIsCiAgICAicmVzdGFydD8iOiJJbmljaSIKICB9LAogIGhlbHBfY2E6CiAgICAiVXRpbGl0emkgZWwgcmF0b2zDrSwgYmFycmEgZXNwYWlhZG9yYSwgdGVjbGVzIEVzcS4vRHRhLiAiICsKICAgICJvIFJlIHDDoGcgeSBBdiBww6BnLiBVc2kgUyBpIEIgcGVyIGNhbnZpYXIgZ3JhbmTDoHJpYSBkZSBmb250LiIsCgogIHN0cmluZ3NfY3M6IHsKICAgICJzbGlkZSI6InNuw61tZWsiLAogICAgImhlbHA/IjoibsOhcG92xJtkYSIsCiAgICAiY29udGVudHM/Ijoib2JzYWgiLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoib2JzYWggcHJlemVudGFjZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJPYnNhaCBwcmV6ZW50YWNlIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6Inpub3Z1IHNwdXN0aXQgcHJlemVudGFjaSIsCiAgICAicmVzdGFydD8iOiJyZXN0YXJ0IgogIH0sCiAgaGVscF9jczoKICAgICJQcmV6ZW50YWNpIG3Fr8W+ZXRlIHByb2Now6F6ZXQgcG9tb2PDrSBrbGlrbnV0w60gbXnFoWksIG1lemVybsOta3UsICIgKwogICAgIsWhaXBlayB2bGV2byBhIHZwcmF2byBuZWJvIGtsw6F2ZXMgUGFnZVVwIGEgUGFnZURvd24uIFDDrXNtbyBzZSAiICsKICAgICJkw6EgenbEm3TFoWl0IGEgem1lbsWhaXQgcG9tb2PDrSBrbMOhdmVzIEIgYSBTLiIsCgogIHN0cmluZ3Nfbmw6IHsKICAgICJzbGlkZSI6InBhZ2luYSIsCiAgICAiaGVscD8iOiJIZWxwPyIsCiAgICAiY29udGVudHM/IjoiSW5ob3VkPyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbmhvdWRzb3BnYXZlIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IkluaG91ZHNvcGdhdmUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiaGVyc3RhcnQgcHJlc2VudGF0aWUiLAogICAgInJlc3RhcnQ/IjoiSGVyc3RhcnQ/IgogIH0sCiAgaGVscF9ubDoKICAgICAiTmF2aWdlZXIgZC5tLnYuIGhldCBtdWlzLCBzcGF0aWViYXIsIExpbmtzL1JlY2h0cyB0b2V0c2VuLCAiICsKICAgICAib2YgUGdVcCBlbiBQZ0RuLiBHZWJydWlrIFMgZW4gQiBvbSBkZSBrYXJha3Rlcmdyb290dGUgdGUgdmVyYW5kZXJlbi4iLAoKICBzdHJpbmdzX2RlOiB7CiAgICAic2xpZGUiOiJTZWl0ZSIsCiAgICAiaGVscD8iOiJIaWxmZSIsCiAgICAiY29udGVudHM/Ijoiw5xiZXJzaWNodCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJJbmhhbHRzdmVyemVpY2huaXMiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoiSW5oYWx0c3ZlcnplaWNobmlzIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IlByw6RzZW50YXRpb24gbmV1IHN0YXJ0ZW4iLAogICAgInJlc3RhcnQ/IjoiTmV1c3RhcnQiCiAgfSwKICBoZWxwX2RlOgogICAgIkJlbnV0emVuIFNpZSBkaWUgTWF1cywgTGVlcnNjaGxhZywgZGllIEN1cnNvcnRhc3RlbiBsaW5rcy9yZWNodHMgb2RlciAiICsKICAgICJQYWdlIHVwL1BhZ2UgRG93biB6dW0gV2VjaHNlbG4gZGVyIFNlaXRlbiB1bmQgUyB1bmQgQiBmw7xyIGRpZSBTY2hyaWZ0Z3LDtnNzZS4iLAoKICBzdHJpbmdzX3BsOiB7CiAgICAic2xpZGUiOiJzbGFqZCIsCiAgICAiaGVscD8iOiJwb21vYz8iLAogICAgImNvbnRlbnRzPyI6InNwaXMgdHJlxZtjaT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoic3BpcyB0cmXFm2NpIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlNwaXMgVHJlxZtjaSIsCiAgICAicmVzdGFydCBwcmVzZW50YXRpb24iOiJSZXN0YXJ0dWogcHJlemVudGFjasSZIiwKICAgICJyZXN0YXJ0PyI6InJlc3RhcnQ/IgogIH0sCiAgaGVscF9wbDoKICAgICJabWllbmlhaiBzbGFqZHkga2xpa2FqxIVjIG15c3rEhSwgbmFjaXNrYWrEhWMgc3BhY2rEmSwgc3RyemHFgmtpIGxld28vcHJhd28iICsKICAgICJsdWIgUGdVcCAvIFBnRG4uIFXFvHlqIGtsYXdpc3p5IFMgaSBCLCBhYnkgem1pZW5pxIcgcm96bWlhciBjemN6aW9ua2kuIiwKCiAgc3RyaW5nc19mcjogewogICAgInNsaWRlIjoicGFnZSIsCiAgICAiaGVscD8iOiJBaWRlIiwKICAgICJjb250ZW50cz8iOiJJbmRleCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJ0YWJsZSBkZXMgbWF0acOocmVzIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IlRhYmxlIGRlcyBtYXRpw6hyZXMiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmVjb21tZW5jZXIgbCdleHBvc8OpIiwKICAgICJyZXN0YXJ0PyI6IkTDqWJ1dCIKICB9LAogIGhlbHBfZnI6CiAgICAiTmF2aWd1ZXogYXZlYyBsYSBzb3VyaXMsIGxhIGJhcnJlIGQnZXNwYWNlLCBsZXMgZmzDqGNoZXMgIiArCiAgICAiZ2F1Y2hlL2Ryb2l0ZSBvdSBsZXMgdG91Y2hlcyBQZyBVcCwgUGcgRG4uIFV0aWxpc2V6ICIgKwogICAgImxlcyB0b3VjaGVzIFMgZXQgQiBwb3VyIG1vZGlmaWVyIGxhIHRhaWxsZSBkZSBsYSBwb2xpY2UuIiwKCiAgc3RyaW5nc19odTogewogICAgInNsaWRlIjoib2xkYWwiLAogICAgImhlbHA/Ijoic2Vnw610c8OpZyIsCiAgICAiY29udGVudHM/IjoidGFydGFsb20iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoidGFydGFsb21qZWd5esOpayIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJUYXJ0YWxvbWplZ3l6w6lrIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6ImJlbXV0YXTDsyDDumpyYWluZMOtdMOhc2EiLAogICAgInJlc3RhcnQ/Ijoiw7pqcmFpbmTDrXTDoXMiCiAgfSwKICBoZWxwX2h1OgogICAgIkF6IG9sZGFsYWsga8O2enRpIGzDqXBrZWTDqXNoZXoga2F0dGludHNvbiBheiBlZ8OpcnJlbCwgdmFneSAiICsKICAgICJoYXN6bsOhbGphIGEgc3rDs2vDtnosIGEgYmFsLCB2YWd5IGEgam9iYiBuecOtbCwgaWxsZXR2ZSBhIFBhZ2UgRG93biwgIiArCiAgICAiUGFnZSBVcCBiaWxsZW50ecWxa2V0LiBBeiBTIMOpcyBhIEIgYmlsbGVudHnFsWtrZWwgdsOhbHRvenRhdGhhdGphICIgKwogICAgImEgc3rDtnZlZyBtw6lyZXTDqXQuIiwKCiAgc3RyaW5nc19pdDogewogICAgInNsaWRlIjoicGFnLiIsCiAgICAiaGVscD8iOiJBaXV0byIsCiAgICAiY29udGVudHM/IjoiSW5kaWNlIiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6ImluZGljZSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiJJbmRpY2UiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoiUmljb21pbmNpYXJlIGxhIHByZXNlbnRhemlvbmUiLAogICAgInJlc3RhcnQ/IjoiSW5pemlvIgogIH0sCiAgaGVscF9pdDoKICAgICJOYXZpZ2FyZSBjb24gbW91c2UsIGJhcnJhIHNwYXppbywgZnJlY2NlIHNpbmlzdHJhL2Rlc3RyYSBvICIgKwogICAgIlBnVXAgZSBQZ0RuLiBVc2FyZSBTIGUgQiBwZXIgY2FtYmlhcmUgbGEgZGltZW5zaW9uZSBkZWkgY2FyYXR0ZXJpLiIsCgogIHN0cmluZ3NfZWw6IHsKICAgICJzbGlkZSI6Is+DzrXOu86vzrTOsSIsCiAgICAiaGVscD8iOiLOss6/zq7OuM61zrnOsTsiLAogICAgImNvbnRlbnRzPyI6Is+AzrXPgc65zrXPh8+MzrzOtc69zrE7IiwKICAgICJ0YWJsZSBvZiBjb250ZW50cyI6Is+Azq/Ovc6xzrrOsc+CIM+AzrXPgc65zrXPh86/zrzOrc69z4nOvSIsCiAgICAiVGFibGUgb2YgQ29udGVudHMiOiLOoM6vzr3Osc66zrHPgiDOoM61z4HOuc61z4fOv868zq3Ovc+Jzr0iLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoizrXPgM6xzr3Otc66zrrOr869zrfPg863IM+AzrHPgc6/z4XPg86vzrHPg863z4IiLAogICAgInJlc3RhcnQ/IjoizrXPgM6xzr3Otc66zrrOr869zrfPg863OyIKICB9LAogIGhlbHBfZWw6CiAgICAizqDOu86/zrfOs863zrjOtc6vz4TOtSDOvM61IM+Ezr8gzrrOu86vzrogz4TOv8+FIM+Azr/Ovc+EzrnOus65zr/PjSwgz4TOvyBzcGFjZSwgz4TOsSDOss6tzrvOtyDOsc+BzrnPg8+EzrXPgc6sL860zrXOvs65zqwsICIgKwogICAgIs6uIFBhZ2UgVXAgzrrOsc65IFBhZ2UgRG93bi4gzqfPgc63z4POuc68zr/PgM6/zrnOrs+Dz4TOtSDPhM6xIM+AzrvOrs66z4TPgc6xIFMgzrrOsc65IEIgzrPOuc6xIM69zrEgzrHOu867zqzOvs61z4TOtSAiICsKICAgICLPhM6/IM68zq3Os861zrjOv8+CIM+EzrfPgiDOs8+BzrHOvM68zrHPhM6/z4POtc65z4HOrM+CLiIsCgogIHN0cmluZ3NfamE6IHsKICAgICJzbGlkZSI6IuOCueODqeOCpOODiSIsCiAgICAiaGVscD8iOiLjg5jjg6vjg5ciLAogICAgImNvbnRlbnRzPyI6IuebruasoSIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67mrKHjgpLooajnpLoiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5qyhIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IuacgOWIneOBi+OCieWGjeeUnyIsCiAgICAicmVzdGFydD8iOiLmnIDliJ3jgYvjgokiCiAgfSwKICBoZWxwX2phOgogICAgICLjg57jgqbjgrnlt6bjgq/jg6rjg4Pjgq8g44O7IOOCueODmuODvOOCuSDjg7sg5bem5Y+z44Kt44O8ICIgKwogICAgICLjgb7jgZ/jga8gUGFnZSBVcCDjg7sgUGFnZSBEb3du44Gn5pON5L2c77yMIFMg44O7IELjgafjg5Xjgqnjg7Pjg4jjgrXjgqTjgrrlpInmm7QiLAoKICBzdHJpbmdzX3poOiB7CiAgICAic2xpZGUiOiLlubvnga/niYciLAogICAgImhlbHA/Ijoi5biu5YqpPyIsCiAgICAiY29udGVudHM/Ijoi5YaF5a65PyIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiLnm67lvZUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi55uu5b2VIiwKICAgICJyZXN0YXJ0IHByZXNlbnRhdGlvbiI6IumHjeaWsOWQr+WKqOWxleekuiIsCiAgICAicmVzdGFydD8iOiLph43mlrDlkK/liqg/IgogIH0sCiAgaGVscF96aDoKICAgICLnlKjpvKDmoIfngrnlh7ssIOepuuagvOadoSwg5bem5Y+z566t5aS0LCBQZyBVcCDlkowgUGcgRG4g5a+86IiqLiAiICsKICAgICLnlKggUywgQiDmlLnlj5jlrZfkvZPlpKflsI8uIiwKCiAgc3RyaW5nc19ydTogewogICAgInNsaWRlIjoi0YHQu9Cw0LnQtCIsCiAgICAiaGVscD8iOiLQv9C+0LzQvtGJ0Yw/IiwKICAgICJjb250ZW50cz8iOiLRgdC+0LTQtdGA0LbQsNC90LjQtT8iLAogICAgInRhYmxlIG9mIGNvbnRlbnRzIjoi0L7Qs9C70LDQstC70LXQvdC40LUiLAogICAgIlRhYmxlIG9mIENvbnRlbnRzIjoi0J7Qs9C70LDQstC70LXQvdC40LUiLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoi0L/QtdGA0LXQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/RgNC10LfQtdC90YLQsNGG0LjRjiIsCiAgICAicmVzdGFydD8iOiLQv9C10YDQtdC30LDQv9GD0YHQuj8iCiAgfSwKICBoZWxwX3J1OgogICAgItCf0LXRgNC10LzQtdGJ0LDQudGC0LXRgdGMINC60LvQuNC60LDRjyDQvNGL0YjQutC+0LksINC40YHQv9C+0LvRjNC30YPRjyDQutC70LDQstC40YjRgyDQv9GA0L7QsdC10LssINGB0YLRgNC10LvQutC4IiArCiAgICAi0LLQu9C10LLQvi/QstC/0YDQsNCy0L4g0LjQu9C4IFBnIFVwINC4IFBnIERuLiDQmtC70LDQstC40YjQuCBTINC4IEIg0LzQtdC90Y/RjtGCINGA0LDQt9C80LXRgCDRiNGA0LjRhNGC0LAuIiwKCiAgc3RyaW5nc19zdjogewogICAgInNsaWRlIjoic2lkYSIsCiAgICAiaGVscD8iOiJoasOkbHAiLAogICAgImNvbnRlbnRzPyI6ImlubmVow6VsbCIsCiAgICAidGFibGUgb2YgY29udGVudHMiOiJpbm5laMOlbGxzZsO2cnRlY2tuaW5nIiwKICAgICJUYWJsZSBvZiBDb250ZW50cyI6IklubmVow6VsbHNmw7ZydGVja25pbmciLAogICAgInJlc3RhcnQgcHJlc2VudGF0aW9uIjoidmlzYSBwcmVzZW50YXRpb25lbiBmcsOlbiBiw7ZyamFuIiwKICAgICJyZXN0YXJ0PyI6ImLDtnJqYSBvbSIKICB9LAogIGhlbHBfc3Y6CiAgICAiQmzDpGRkcmEgbWVkIGV0dCBrbGljayBtZWQgdsOkbnN0cmEgbXVza25hcHBlbiwgbWVsbGFuc2xhZ3N0YW5nZW50ZW4sICIgKwogICAgInbDpG5zdGVyLSBvY2ggaMO2Z2VycGlsdGFuZ2VudGVybmEgZWxsZXIgdGFuZ2VudGVybmEgUGcgVXAsIFBnIERuLiAiICsKICAgICJBbnbDpG5kIHRhbmdlbnRlcm5hIFMgb2NoIEIgZsO2ciBhdHQgw6RuZHJhIHRleHRlbnMgc3Rvcmxlay4iLAoKICBzdHJpbmdzOiB7IH0sCgogIGxvY2FsaXplOiBmdW5jdGlvbiAoc3JjKSB7CiAgICBpZiAoc3JjID09ICIiKQogICAgICByZXR1cm4gc3JjOwoKICAgICAvLyB0cnkgZnVsbCBsYW5ndWFnZSBjb2RlLCBlLmcuIGVuLVVTCiAgICAgdmFyIHMsIGxvb2t1cCA9IHczY19zbGlkeS5zdHJpbmdzW3czY19zbGlkeS5sYW5nXTsKCiAgICAgaWYgKGxvb2t1cCkKICAgICB7CiAgICAgICBzID0gbG9va3VwW3NyY107CgogICAgICAgaWYgKHMpCiAgICAgICAgcmV0dXJuIHM7CiAgICAgfQoKICAgICAvLyBzdHJpcCBjb3VudHJ5IGNvZGUgc3VmZml4LCBlLmcuCiAgICAgLy8gdHJ5IGVuIGlmIHVuZGVmaW5lZCBmb3IgZW4tVVMKICAgICB2YXIgbGcgPSB3M2Nfc2xpZHkubGFuZy5zcGxpdCgiLSIpOwoKICAgICBpZiAobGcubGVuZ3RoID4gMSkKICAgICB7CiAgICAgICBsb29rdXAgPSB3M2Nfc2xpZHkuc3RyaW5nc1tsZ1swXV07CgogICAgICAgaWYgKGxvb2t1cCkKICAgICAgIHsKICAgICAgICAgcyA9IGxvb2t1cFtzcmNdOwoKICAgICAgICAgaWYgKHMpCiAgICAgICAgICByZXR1cm4gczsKICAgICAgIH0KICAgICB9CgogICAgIC8vIG90aGVyd2lzZSBzdHJpbmcgYXMgaXMKICAgICByZXR1cm4gc3JjOwogIH0sCgogIGluaXRfbG9jYWxpemF0aW9uOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgaTE4biA9IHczY19zbGlkeTsKICAgIHZhciBoZWxwX3RleHQgPSB3M2Nfc2xpZHkuaGVscF90ZXh0OwoKICAgIC8vIGVhY2ggc3VjaCBsYW5ndWFnZSBhcnJheSBpcyBkZWNsYXJlZCBpbiB0aGUgbG9jYWxpemUgYXJyYXkKICAgIC8vIHRoaXMgaXMgdXNlZCBhcyBpbiAgdzNjX3NsaWR5LmxvY2FsaXplKCJmb28iKTsKICAgIHRoaXMuc3RyaW5ncyA9IHsKICAgICAgImVzIjp0aGlzLnN0cmluZ3NfZXMsCiAgICAgICJjYSI6dGhpcy5zdHJpbmdzX2NhLAogICAgICAiY3MiOnRoaXMuc3RyaW5nc19jcywKICAgICAgIm5sIjp0aGlzLnN0cmluZ3NfbmwsCiAgICAgICJkZSI6dGhpcy5zdHJpbmdzX2RlLAogICAgICAicGwiOnRoaXMuc3RyaW5nc19wbCwKICAgICAgImZyIjp0aGlzLnN0cmluZ3NfZnIsCiAgICAgICJodSI6dGhpcy5zdHJpbmdzX2h1LAogICAgICAiaXQiOnRoaXMuc3RyaW5nc19pdCwKICAgICAgImVsIjp0aGlzLnN0cmluZ3NfZWwsCiAgICAgICJqcCI6dGhpcy5zdHJpbmdzX2phLAogICAgICAiemgiOnRoaXMuc3RyaW5nc196aCwKICAgICAgInJ1Ijp0aGlzLnN0cmluZ3NfcnUsCiAgICAgICJzdiI6dGhpcy5zdHJpbmdzX3N2CiAgICB9LAoKICAgIGkxOG4uc3RyaW5nc19lc1toZWxwX3RleHRdID0gaTE4bi5oZWxwX2VzOwogICAgaTE4bi5zdHJpbmdzX2NhW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfY2E7CiAgICBpMThuLnN0cmluZ3NfY3NbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9jczsKICAgIGkxOG4uc3RyaW5nc19ubFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX25sOwogICAgaTE4bi5zdHJpbmdzX2RlW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfZGU7CiAgICBpMThuLnN0cmluZ3NfcGxbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9wbDsKICAgIGkxOG4uc3RyaW5nc19mcltoZWxwX3RleHRdID0gaTE4bi5oZWxwX2ZyOwogICAgaTE4bi5zdHJpbmdzX2h1W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfaHU7CiAgICBpMThuLnN0cmluZ3NfaXRbaGVscF90ZXh0XSA9IGkxOG4uaGVscF9pdDsKICAgIGkxOG4uc3RyaW5nc19lbFtoZWxwX3RleHRdID0gaTE4bi5oZWxwX2VsOwogICAgaTE4bi5zdHJpbmdzX2phW2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfamE7CiAgICBpMThuLnN0cmluZ3NfemhbaGVscF90ZXh0XSA9IGkxOG4uaGVscF96aDsKICAgIGkxOG4uc3RyaW5nc19ydVtoZWxwX3RleHRdID0gaTE4bi5oZWxwX3J1OwogICAgaTE4bi5zdHJpbmdzX3N2W2hlbHBfdGV4dF0gPSBpMThuLmhlbHBfc3Y7CgogICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJsYW5nIik7CgogICAgaWYgKCF3M2Nfc2xpZHkubGFuZykKICAgICAgdzNjX3NsaWR5LmxhbmcgPSBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpOwoKICAgIGlmICghdzNjX3NsaWR5LmxhbmcpCiAgICAgIHczY19zbGlkeS5sYW5nID0gImVuIjsKICB9Cn07CgovLyBoYWNrIGZvciBiYWNrIGJ1dHRvbiBiZWhhdmlvcgppZiAodzNjX3NsaWR5LmllNiB8fCB3M2Nfc2xpZHkuaWU3KQp7CiAgZG9jdW1lbnQud3JpdGUoIjxpZnJhbWUgaWQ9J2hpc3RvcnlGcmFtZScgIiArCiAgInNyYz0namF2YXNjcmlwdDpcIjxodG1sIisiPjwvIisiaHRtbD5cIicgIiArCiAgImhlaWdodD0nMScgd2lkdGg9JzEnICIgKwogICJzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDotODAwcHgnPjwvaWZyYW1lPiIpOwp9CgovLyBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzIGZvciBpbml0aWFsaXphdGlvbgp3M2Nfc2xpZHkuc2V0X3VwKCk7CgovLyBoaWRlIHRoZSBzbGlkZXMgYXMgc29vbiBhcyBib2R5IGVsZW1lbnQgaXMgYXZhaWxhYmxlCi8vIHRvIHJlZHVjZSBhbm5veWluZyBzY3JlZW4gbWVzcyBiZWZvcmUgdGhlIG9ubG9hZCBldmVudApzZXRUaW1lb3V0KHczY19zbGlkeS5oaWRlX3NsaWRlcywgNTApOwoK"></script>
  <script>(function() {
  if (!window.w3c_slidy) return;
  if (!window.Shiny) return;
  if (!window.$) return;
  // whenever a slide changes, tell shiny to recalculate what is displayed
  window.w3c_slidy.add_observer(function (slide_num) {
    // slide_num starts at position 1
    $(w3c_slidy.slides[slide_num - 1]).trigger("shown");
  });
})()
</script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Natural Language Processing (NLP)</h1>
  <p class="author">
Farid Tayari
  </p>
  <p class="date">5/14/2020</p>
</div>
<div id="nlp-predicting-the-next-word" class="slide section level2 smaller">
<h1>NLP: Predicting the Next Word</h1>
<p>This application can suggest the next word based on six predictive models that user can choose from. These models are based on two methods of <a href="https://en.wikipedia.org/wiki/Katz%27s_back-off_model">Katz Back-off</a> and <a href="http://www.cs.columbia.edu/~mcollins/lm-spring2013.pdf">Linear Interpolation</a>.</p>
<ul>
<li>Katz Back-off Bigrams</li>
<li>Katz Back-off Trigrams</li>
<li>Katz Back-off 4-grams</li>
<li>Linear Interpolation Bigrams</li>
<li>Linear Interpolation Trigrams</li>
<li>Linear Interpolation 4-grams</li>
</ul>
<h4 id="train-set">Train set</h4>
<p>Train set used in this application is a small (can be changed by the user 0.2% to 20%) subset of three data sets:</p>
<ul>
<li>en_US.blogs.txt</li>
<li>en_US.news.txt</li>
<li>en_US.twitter.txt</li>
</ul>
<p>These text file can be downloaded <a href="https://d396qusza40orc.cloudfront.net/dsscapstone/dataset/Coursera-SwiftKey.zip">here</a></p>
</div>
<div id="predictive-models" class="slide section level2">
<h1>Predictive models</h1>
<p>After n-grams are built, we can see many word combinations with zero frequency in the train set. Consequently, these word combinations will receive zero probability in the model. Two of methods used to fix this problem are:</p>
<ul>
<li>Katz Back-off</li>
<li>Linear Interpolation</li>
</ul>
<p>Katz Back-off method estimates the probabilities of n-gram based on the lower order n-gram.<br />
Linear Interpolation method estimates the probabilities by considering the weighted average of all previous order n-grams. For example, Trigram Linear Interpolation uses weighted average of Trigram, Bigram, and Unigram probabilities.</p>
<p>More detailed information about these methods can be found in:<br />
<a href="https://web.stanford.edu/~jurafsky/slp3/ed3book.pdf">Speech and Language Processing by Daniel Jurafsky and James H. Martin</a></p>
</div>
<div id="steps-to-run-the-model" class="slide section level2 smaller">
<h1>Steps to run the model</h1>
<ul>
<li>Loading the data and creating the n-grams</li>
<li>Choosing the model and model parameters</li>
<li>Entering the text and running the application</li>
</ul>
<p>The text has to be at least two words for Bigram, three words for Trigram, and four words for 4-gram models.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5QAAAKxCAYAAAAsION5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAKWsSURBVHhe7P0LdNX1ne//v4MoCgjRgNxTEEJb01aml/ArVFqbtqfBNbSZk9H/VH92ONPCyTkdYldj10rtmrazanNWZZYmM7+TA+0cpszoOTpZk5ZZkjltU1sQekhtcRyjjkkFQ4JoCIarXBT+n/fn+/nu/d07+559yU6eD9fXfG/7873shOxXPpdvyRVDAAAAAABI0xT3FQAAAACAtBAoAQAAAAAZIVACAAAAADJCoAQAAAAAZIRACQAAAADICIESAAAAAJARAiUAAAAAICMESgAAAABARgiUAAAAAICMECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAAAAAMhIyRXDzSf0zjvvyJkzZ+TcuXN2HgDG6qqrrpLp06fLzJkz7TwAAACKS0qBUgPk0NCQlJSUyJQpU+xXABgr/efn8uXL9uvcuXMJlQAAAEUmpUB58uRJOX/+vEybNo1ACSBr/EB58eJFueaaa6S0tNRtAQAAQDFIKVC+9tprNkzqBz4NkwRKANmg//zopIHywoULsmDBArcFAAAAxSClQXm0yevVV19NmASQVf6/KfrvC32zAQAAik/Ko7wSJgHkAv+2AAAAFC8eGwIAAAAAyAiBEgAAAACQEQIlAAAAACAjBEoAAAAAQEYIlAAAAACAjBAoAQAAAAAZIVACAAAAADJCoAQAAAAAZIRACQAAAADICIESAAAAAJARAiUAAAAAICMESgAAAABARgiUAAAAAICMECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAAAAAMgIgRIAAAAAkBECJQAAAAAgIwUKlD3Sum6drDNTa49bZQ1LZ6Oub5TOYV3292s1c3EMd0qjKyt6iiy7AHpa7Xk0eheTVE/rODlvAAAAAEhBwWso2+sThMUxaq8nnAEAAABAroyDJq/tUp+N1FfVJB179sgeN3U0VdnV/f0xagf9Ws3GTul0tYKhWtFgjWf0ebkaR38aXfMYrnmNV6s63NkYKMOviY0j6nh6vsHdqdEEAAAAUEjjow9l+47EwSpXupulud3NS7c0NzdKY22zmXPa68NhTcNdfWhnq7u5NhA6tbluvYnHPhOUo/bXMFnbHCrdMMesjVNDq8E26vV6vrWkRwAAAADjRIEDZZ20tdWZrxrmImvf0qZhK1Cb5wW3KqmuKvO2x1QlTR1ao9lmzsToNq9p6rA1nPa0DK+G04TFHV64q2vza0Hda/ww3POoeFnRXJOrJfXL8AxLd5fuEN6+x+7QLjsSpem6Nnc8N22pdBtEKrd46wKrAAAAACBvCl9DWXm32NapWlvYecxblxUaFrdKTcI8WS1e3pwvFbaFbDiAzvdWeIa7xWbBqia5OxTeKuVu78Sl15z2cH+/XVvVdLfZ4qmsDibKY9JrA2e71PvB19VAdmsB0cr0XMzX9vpQSE51cB8AAAAAyIdx0OS1TGqamkyU00y5Q7q8lemL6kO5Z0+SMJmOsnIpd7M5YcLo6Kho7stWvQ5XE2rYJrZR/SgBAAAAoFDGRx/KshppcrV92up0/HE1mN3N8mioC2OPPOqa1VbM18zpRc7u5kddn8hwM1mPXwsaaPLqT1trTHyMp1K22P06XE1ul3STKAEAAACMA+MjUBplNU1eYIop0Ew0NOXucSOjlUnNRq+eUB9F4h3fDcBTt9GrCfWb7obOtdb1qfSVSZXXhnXUtcQcZyd6hFe/vFAzXUZ5BQAAAFBY4yZQBkPbuFS5xQ2iE1alA/iERsTRJqrh5qlac9nUFLl/Wc3W0ONMfFpGzEF1YhzP1m4mrM0EAAAAgPwpuWK4+bgGBgaktLRUpkwZR/kTwIRx+fJlGRkZkcWLF7s1AAAAKAYkRAAAAABARgiUAAAAAICMECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAIjQ17JWSkpK4k5r126Wzj63c770tchaPf7mTn+FtKzV8zHn4takp89cQw4uYtR5Fqlxfx1jff/HqHOz/VlIfnsKfJ5Z0ymb9fthbYu5okzl6GcuZ8by3sV7beHuQedmPZ8Up6Tf2BPl+3ocG9O/wfl/fwiUAIC07N+/XdZXrJWWYvpsGNRnPhyvrZD1D/W6FQByip857gEmNAIlACCmTbuviD6qOHLqld2b1pit++W+hwr5t+kV0rBPz2eb1Lg1qXtZnt/vZlGkxvL+51OxnGeuTbafuVjve2HvQc02PZ/gtFs26YY1j0hvxHozbUv23cr3NSIRKAEAaVhhPpj8SB7RTLn9xzR3AgBgkiNQAgDStEJWvs/NOl6/S+2voc26XD8csxxuFtsnnZuDfTPXyuaWTrM2Bts0LLzv2s2x9ovTR2TUa6P6fGnft4r7xFYUbF9v94nsopLt84wlfv8Wv5/T2uj2xK4/TeR671xtPxs7mfkY55D0vUn5OqKP593f1PrTxrtmc2wtK6JvXirHiS7PLWs55l6Fr1PfvxgnaK85ap+c9Bsd43m6e+Hfh3S+H+201rzPUW9Q8p/VVKV4LVn6mUt03t7PjW6LLCt+f+/o77HYPzsxpXSfo973FO9B4vNJ93tn7OLf8+jvayfFn6t0/02yU8J7HPW+h45l9olan/xOZavcNL7Hoq438XlGnpN3n1O5rtwiUAIA0tQnLz/vZqP8ePN62e4361pzi9yxQmfML8uSClkf2qD2y/b71ktFRJAw9MNHhZYR3ne/+QD2xYdecEsJxHztfaOPEVeeztME8jvutFW88uOoD5X+fd3/xJORx+t9wX4Yfd9Ke0MN/QDinWvgDOw5VOiHaLcmKOZ7k8Z1dG6OPp7ue5+sr4h9vEyN6Tj7zfttPriH30J9/yoig3jomt2yv09K712WpHKe6Xw/2sAS+T5a+7fLfesrYg4eFPtnNQMpXUs8aVyjk+i8f+y+d3yx+3un/7MTksF9Ti7N8xnT/c5MSt8rGfxcxSw3o+/lqPfd3LvNJny2mPt6X9T6L6ZxnzIvN433NK3fJen/vOQLgRIAkDr9y7T5JXuf/j7b9Pmo/jPbZfv2NfJIr+uHs6/BRCf9fGB+WZqvazbtDvTVcX0xzYej4C/izoe8v+IH9+3dvckUvT3wizm2Ua/t3e01zTXHCHX3rNlm1j8iulrMflq+310oX+epVtxxpz2H7cFE2fekPOG/eP8LEhy6o/PHemab5PPBc7Un8Ijs9u936HrNh+hRn7rivDcpX0en2FNYsyl8PHtvdFt0MB6LLBwndE/M6+wNMbckFNDN9+8XY1/z/hTfu6xJeJ7uPTZfk38/mmv6rt1THtnd6/bz9/X2iPg+s2J/P2Qs0bVk6WfOk+i8vW2bQvfAv/7I/t7p/+z4MrnPTrJ7kO75JPneya5Uvlcy+bmKVW6m38vhfy/sv1+61oTP+yR8T3sf8danfp8yLzed9zSd3yXp/7zkD4ESABDT9vV+k5rAVKF/mdWt5hf+/ZFxUq155EfSEPFpwwUE8wtwn/kEFd4U7osZ+kXc1yLeZ4lH5EeBfVeYD2M/ch+a4vODSOC1K2qk4ZveL/vnX072izZf5+msuENsJeXzL4c/3NhaSHNf7QeUYHjyz80P8G7ZBMzd5kNYTfgEpGGfG2gjRv/WUe9NOtfR97LYytOITzh6b7wPNebl2THm45j79yP/npjXNXzTux8+P7THuObeVN+7rEhynul8P5p13gAp+6Qh9M2gzL6fjyw1aPTPaqaSXUs86VxjWKLz3rR7n/ke8TdqOb3eh/jQz0NmPzuezO5zYpmcT6b3O3NJv1cy/LkaXW5m93jT7m2he7ei5n7vPY+4T2Z9w+e9+xT1x7pEMis3jfc0rd8lmf285EvBA+WxY8fk4MGDsnfvXjvpvK4DAIxHa2TNJv2rq/mFH/6NFhJukun4AWG7128ocnI1nf4vYtesc82ddwR+WXr8Gr24/OO8b2Xka80vZg0i+5J9cs7XeYa4fqj7n5An3ScAWwu55k65445bbBmhv8R3/tj+VXqTXz3pn+uoGmJVI97nruclOkOPem/SuQ4/AJszWV/h3RevX2OWP76M+Tjvk+jLjJCV9y4bkpxnOt+PQeY+9XV2SmdLi2zW/lvr7SfbmEZ9P2QsybXEk+E1xj/vcA1+mN/f2/08ZPizM0oa9zmhjM4nw/s9Bkm/VzL8uUpYbsr3eI3cUuFmI0Tfpwq5Ja0f8AzLTec9Tee+ZfpvQp4ULFDqL/gXX3xRhoeHZcGCBXLrrbfaaf78+TI0NCQvvfSS3Sc1w9LZuE5ae9xiSI+0rlsn69a1mrlk4pWRCu+16+yxIqfMyovmXUd2ylLB8zX3pqc1dL6NncNuH19q19bTatZl7wQBjAOxHxuyT/ZtC/zVNRn3C3PcK8B5en9x3y8v2E8Arv+kBuKo2ss+uyHeh5t80ZqDXnlEm1Y5Xr/GCm+wjGQfwFOWr+OMc+l+P/qDoZj7VLF+vay/7z7Zvj3Yf2scytPPXIX9tO//nI1RMd7nYpP2Pc5VwM5/cE9onP8uLVig1DB5+fJlWbZsmcyaNUumTp1qp9mzZ8vy5cvl0qVLdp/MaQirl/a6NtmzZ4tUurW5VNe2xxwrMLXVSXt9o4zKaIU23C1d3XXSZs9zi0hXu1Q1ddhz3lpT5naKlOzaKreYdVvycZcBFJUKr7ZNm+mMDqf+NA6eZVaI86zxmkrZmkjXZMyrhQzWXvbJk7pBay4L/uHGhL1t+8x90H5bj8imNS706WAZX8zmgBD5Os44ltb3o/Zf8/tsbZJN2oJg927Z3dsrV/yOZ+NRnn7mel+wNyYLf5Ap0vtcVLjHcY3z36UFCZSDg4Ny7tw5WbhwoVy4cCHmtHjxYjlz5ozdN30uTFY1SUdEyBld2+bVyOn6WmnuFhOS3LpArd3o/VNUWS11btYT7/g+v0bVTfFq/IY7pTHRdiuyrNBx9Lpqm6Vb2qXerP/in66T+naR7uZas18qNblO1LVF1lBGXmdrp55vOHzqvt463e7Wj7rf4XMZ7my0ZdtjuO16KLve3z94L/z746a03jMA2bVipdgWZ3H7JQW4gBWrH0jfk08k/uusf5xgn0RLR8Ur8Ybad2tiytd5RnDNn/SY9q/P4Q+9odrLJ72gGdEkKuG5+v13UvjresbXof22GmTbPg19u03gM6sybWrlN+OKKYvH8bkPZWN/73Isne9Hv/+aftDct022aQuCmhqpWbHC1W6PU+lcY0piDdoU9fMwlp+dXNznbP0sF1q2fq6K9Xs5KJ33NJ1/g7P+85JdBQmUhw4dsrWSFy9eTDhpbeXhw4fdq1KlYcaFya01Eq5vc6GxXGssvVq2jqYqE6SaTaApk5qtHWIWbU2craWr3BJRI6f7mq2yMU4NXkw9XdJet1G8lyQ6vr+9XvpdTeGePeZ8+utHhyENSyYQlmuNYdwaQS9Qh8tqk3ITGG1Zel0dTVJlrkVrKH/0d3ukzSRDr4YyjZrciGuL1NNqrlPM/XfXUdGlATZSe3OvbLTbt0rNMRMm6/ulqUOXvfOt08AbDInt9dJV7W3X+6bBv7Z3o7e/Xk/7DncfzbX798eVpdceLApAPvl9RrbLehPqgo8R6+vc7D2jKxT23L7775OKzeHnavV1tsgXbQeRRMKv/WLotfq8LjcqXow+KpHhM1/nGclrjrddvqsjMwRrId0HtO336QiAa+TOiOrJOOfa1ykta73rjd1/J1oa16FD+bt7EHlvTCDUXdfcIokrgPy+bOZa/Xarer5uZMiQMR8nCb85sR0RMXjNm9N+73Irne9HRz9ohlZ4z6qrGFfXZGT8M5ea7evXhp9VGPPnIQs/O2O9z6ncg7R/lgss2z9XxfC9HFc676nbN6XfJdn/ecmmggTK06dPy/Tp091SfLrPqVOn3FIqXGgz6aVuYzBMKg2NJmAEQlhZVbUJVikwIc7kPhN4EgcuDTmhGjOdtOqvv9+clUpy/J5HzXkHA6u3f2QTVC8smRORRK1Lhzt32EDdFHptpWwxqbG7+dHUayCjJL62oB7paq+Spib//pvr2BhZT2vVVYfvpQ3vJliGLrVSqqNfYq7nbvcC776ZY4RXSHVVt/TGHMvJXLsJlonuF4DcqtnmRrYzvzT9gVZ0qlivw6J7I+b5cSm07/b1UhHa7z7zC3iTDViJ1NzvDctvn/VlX6vP69Itm+SbwUF5/L/06i9xs58+V0zl6zyD/IEX7CPIggMKhQanUaNrKGKea8V6b2AGs2X3ttQ+gqZ8Hf4Ih6PujRcIN30z1qMEIvmjNO6/ryJ8vu97xI2c6GThOImtkIYfue8TfXZbqPzMHhkScyRkN5nPh2OS8vdjjIGMvO/9wBWNqrnPsyz8zCW3Rtas2W+fVWjLifPzkPHPzljvczr3IIOf5cLK0s9VMXwvpyCd9zS0bwq/S7L785JdBetDmSptE5yq9nqvZqzN1mDFb74Zajppm34m44e4ppi1cUGj+hlqzVl3szwadSKxjj9swplUVch8txxLe329tJsgVV2V+ESO9ZpSy8tdoHPmV6QWnuNI9drMhUi/lEt58OCpHjvQVFXzamJRxwiplLtdDaa9x1RNAuNAjWy74g20EvwFGXu0WLOvPq8rMCiLPnNr3/23uKUEVjTIPvPaUJ87Q4/RO6pfSY3c/0j4l7X5fOLk6TyDAsExNIqrtULuCG+IOn/lnas+fyxwBvYcRl9vIqlehzdYTuTxjDWb7PPiUvrMax8hEL7v9r3Zdodb8mXhOMmEvk/csjLl797tfSBeU9jRjwJS/X707lnwPTR7uf38D6CFG/3Rk42fueTu/FHkfYj985Dpz85Y73PiezD2n+UCy8rPVTF8L6cinffU7GuuLfr7Nvbvkuz+vGRTiQlsSRPbwMCAlJaWypQp2cmfGkjmzZtny0xkZGREXn/9dRsMEnM1k9rM0jZzjV72aJCzQcVvDmubj3ZJdYfWjnmv6d0YrM1y5Wgz1YRVXLFe67HHFO/1iY5f1d0otV3VUc10feEmrE3mqoL7aT/CWq2SdTT4VXeFjxlij6XNTLdIZXDebNLz2lHREWdAnjSuTefv7o8o24q4z5GvC2/3wrWev64O7mOvMXhvos4/7jlqv0yXTLVJb7wBh1B4OkCX/rxr32kAKIjOzVKyfruseaQ3+WNmMK50bi6R9fYh+YX9UI0Y+LmaFApSQ6mPCTlx4oRbiu/48eN231SFm7mWSU2TV4PWHOqD6Jpiaj+9mKFttOFO83odDTUipaSvqkLrHRMfv6y8XKS7VxI9gbO8vEzKajZKXeC6ymq2RtQc6qnOr6ga3Rz1WG8KtbHp864toKxcyqVf+oMHT3Ls4e4u6baj8Y4OrWPi+sHavqpd3ZH3AwAw+fS1eH2NSjZH9EHS/k2bvSeMR/VXBZAUP1eTXkECZbkJT1dddZUdnCeeV155Ra6++mq7b0bKamSr7TcYHJAl2M/Oa8oaN+j0tIpt6Zqk32RCw52yw4TIcBPVBMevvFuaqtplR2AQHq2lG91k0+8P6Q/mM1p06LTHqtdHg9yd+bVEG3VtPu3/2C3NzZ0uwA1L546k7VcjArDWSCZv8hqP1uYGn5E5bMNkVXVVSn9EAABMYDH7aJmpYr19VMGaTd+khgtIFz9Xk15BAuW0adNk5cqV9putr6/PNnXzR3bVeV2ngVP30X0zVrnFjmCq/elae7wgFh5cZodUdOhoovpMRo0yZTZ02O0mjfR0aaIxwajW399NCfrkjRq4xgTG8jZ/sJnkx6/Z6o1I6r++vr8p6rEnjr2uYGiLpgPRBMvymsuOpcln4muLVLnFNc21+9ZKb7WOKhuvz6MG4KbA/t7orXZU3fYuEw/TFX2fvSbLNHcFAPh9tEb30Vwjm3b3yr6iGAAFGG/4uZrsCtKHUulhdQRXfc7k0NCQnD171q6fMWOG3HTTTfYZlfpoEQ2dKHKj+jwCkehDCQAAUJwKFih9Fy5ckPPnz8vbb79tl6dOnSrXXnvt2GomUUDeAELiBtexa6IH4QGiECgBAACKU8EDJSagwOiqlg64Q5hEAgRKAACA4kSgBFBwBEoAAIDiRKAEUHAEysLRxzPlypw5c3Jafi4U4zkrzjt/uNf5w73OH+51/hT6nPX42UZCBAAAAABkhEAJAAAAAMgIgRIAAAAAkBECJQAAAAAgIwRKAAAAAEBGCJQAAAAAgIwQKAEAAAAAGSFQAgAAAAAyQqAEAAAAAGSk4IHy2LFjcvDgQdm7d6+ddF7XAQAAAADGt4IFyitXrsiLL74ow8PDsmDBArn11lvtNH/+fBkaGpKXXnrJ7pOaYelsXCetPW4xpEda162TdetazVwy8cpIhffadfZYkVNm5UXzriM7Zang+Zp709MaOt/GzmG3j6enNXwto6dGidrdGu5slHWNneYoAAAAACayggVKDZOXL1+WZcuWyaxZs2Tq1Kl2mj17tixfvlwuXbpk98mchrB6aa9rkz17tkilW5tLdW17zLECU1udtNfHDl0FNdwtXd110mbPc4tIV7tUNXXYc95aU+Z28lRuibwes6N0+Mt7tkrU7lZZzVbZs7VGYmwCAAAAMIEUJFAODg7KuXPnZOHChXLhwoWY0+LFi+XMmTN23/S5MKnhZ0swSo6uSfRq5HR9rTR3iwmAbl2g1m70/imqrBYTwQLiHd/n16i6KV6V5HCnNCbabkWWFTqOXldts3RLu9Sb9V/803VS3y7S3Vxr9kulJjeaHqdVOrVWUo/V2Cl90TWUwXtp1ndqrac7d63NbOzsDJ2rtzrRfdLjmZDe4+6BTvZYwesNhvgU7ykAAACAtBUkUB46dMjWSl68eDHhpLWVhw8fdq9KlYYRFyYjaslcaCzXGkuvhq2jqcoEqWYTPsqkZmuHmEVby2hr6Sq3hPbz9zVbZWOsKrl4erqkvW6jq8VLdHx/e730u5rCPXvM+fTXjw6wGiZNICzX2tCIsBykISpYVpuUm8Boy9Lr6miSKnMtWkP5o7/bI17Fo+6baU1uuzT3bvSOZe75DW6tpedrEmuo9nZjrzSbABvU3dwlFR3e9i2Vye6T6pbmHSJNdnub1HU3S+26HaEy2urM9kc1OKZ4TwEAAABkpCCB8vTp0zJ9+nS3FJ/uc+rUKbeUChdGuk302xjd5FJDowkVgRBWVlVtglUKTCgyeUaaOhIHLq3dDNWE6aRVf/395qxUkuP3PGrOOxhYvf0jm6CaoGjCpDkRE7zcqhiGO3fYQN0Uem2lbDGpsbv5UVNCbtRVxz6h4e4u6a5rC59v5d02uEfQ+xC6zNTep/D7WynVWg0cCu5mja4I3fegWPcUAAAAQKZKrqQw8s3AwICUlpbKlCnZyZ+dnZ3y/ve/X66++mq3Jjatpfy3f/s3Wb9+vVsTTzhIah+/tuouqW8ul7Y4NW460IxmPU+VyWfaF9Aro3ej1pK5TVa4ti9+EInz2kBtYnB9rONXdTdKbVd1VK2qzzsH7yX++dqFmGz50hZZg2nPpVc26j0JzptNuv+OikTX52jT1R0VUefonZu52aFr1Gas/rUci1F28PyC+0YfPfb7NPp4o84/eJ467xcyqtYa44X2px4ZGbFN3ZFfx48fd3PZN3fuHDcHAADSMTSUm9/Pc+Zk/3dzQQKlNj+cN2+eLTMR/YD5+uuv29q+xFygFD8wRC97QgHFDxY2WHVJddxA6crR5pfBcDZKnEBpBMNTouOnEig11DaZqwruZwOZTdIebVpa3RU+ZkgRBcrE71OagdJb465f+44aOlBT8N6g4AiUhZPrQPmZv3zSLQEAgFT89C/uKKpAWZAmr/qYkBMnTril+PSDju6bqnAzyDKpaWoyIa1ZmkP95Xqkq11rufakPALpcKd5vY6GOsbwUVUx3/w/8fHLystFunsl0RM4y8vLpKxmo+0z6F+XHVHV9g/0Jj3V+RVVo5t8Huv1wlSe6bl09wavalhPLYH036eUlNXIVr1H2mG0vcscBQAAAMBYFSRQlpvwdNVVV9nBeeJ55ZVXbJNY3TcjGiBsv8HawPMbuyWcbXpsf8S4IaunVbzuirGbzaZkuFN2mHBUHeogmOD4tm9hu+wIDBijNW+jRyX1+0MGB6mJFB067bHq9dEgd2d+LRmy/R/b68Pvge0r6ubjSuN9SkhrjiNH0u3pahepq877fQAAAAAmooIEymnTpsnKlSulpKRE+vr6bFM3f2RXndd1Gjh1H903Y5Vb7AimOlhOa48XxMID5+iooG1iopl0dWvgKJOq6ipvu0k/NniYbc21/v5uSvDYiVGD8pggVN7m93dMfvyard5orP7r6/uboh574tjrMufWHHg0RwRzLDeyq1dWsj6gOeSCfei6d1RIk44qa2ttY0l2n9Lh1VSbN9GVleCeAgAAAEhbQfpQKj2sjuCqz5kcGhqSs2fP2vUzZsyQm266yT6jUh8toqETE0vKfTYxadCHsnDoQwkAwPhCH8oUaVDU50wuX75cVq1aJatXr7aTzt988812G2Gy+OmgO+saAzWpo5oBAwAAAChWBQuUPm3SquGxrKzMTjo/pmauGFfKapq8kWldk9N1odFa3Q4AAAAAilbBAyUmOu0bGh6Fds8ewiQAAAAwURAoAQAAAAAZIVACAAAAADJCoAQAAAAAZIRACQAAAADICIESAAAAAJARAiUAAAAAICMESgAAAABARgiUAAAAAICMECgBIBcG26VhQ4O0D7plAACACYhACQAAAADISMED5bFjx+TgwYOyd+9eO+m8rgMAAAAAjG8FC5RXrlyRF198UYaHh2XBggVy66232mn+/PkyNDQkL730kt0nNcPS2bhOWnvcYkiPtK5bJ+vWtZq5ZOKVkQrvtevssSKnzMqL5l1HdspSwfM196anNXS+jZ3Dbp847L6p3E8A1q8flg0bNoSmhw+49dagtDeEt20IbvSbzB7Qr+F9GrQNrd0WXpewzA0PS8RmAACALCpYoNQwefnyZVm2bJnMmjVLpk6daqfZs2fL8uXL5dKlS3afzGkIq5f2ujbZs2eLVLq1uVTXtsccKzC11Ul7faMky2h5N9wtXd110mbPc4tIV7tUNXXYc95aU+Z2isXc0/p2Nw8guUOyc+8Sadu1S3aZqe3eZfLUg37A0+BXLzuXPmC37drVJvcefjAyVOrrHxP5euD1h3bWy4bvR66LX6ZuPywPNrSbLWEf/vCHQ9OcOXNyNgEAgMzE+r2ajSkXChIoBwcH5dy5c7Jw4UK5cOFCzGnx4sVy5swZu2/6XJisapKOLcEoObom0auR0/W10twtJgC6dYFau9H7p6iyWurcrCfe8X1+jaqb4lVJDndKY6LtVmRZoePoddU2S7e0S71Z/8U/XSeaEbuba81+iWsee1rrTWqOvKLYIq+ztVPPNxyse1r9dbrdrR91v8PnMtzZaK9VXxcq02y06/39g/fCvz9uSus9A7Ls9i/UySI3v+ijt8kyOSxH9J+1A0/IzkO3ywNfXe1tNHvVfeF2kaf2R9Qojn59OmWa7XVfkNsP7ZQnAoU+88wzoen48eM5mwAAQGZi/V7NxpQLBQmUhw4dsrWSFy9eTDhpbeXhw4fdq1KlYcaFya01Eq5vc6GxXGssvRrEjqYqE6SaTaApk5qtHWIWbS2jraWr3BLaz9/XbJWNCWvwovR0SXvdRvFekuj4/vZ66Xc1hXv2mPPprx8dhjQsmUBYrrWhEWE5yAvU4bLapNwERluWXldHk1SZa9Eayh/93R5pMxnRq6FMUJNrAl+9tMmWarecQE+ruU4x999dR0WXBthI7c29stFu3yo1x0yYrO+Xpg5d9s63TgNvMCS210tXtbdd75sG/9rejd7+ej3tO9x9NNfu3x9Xll57wuwN5MwyWbLYzcaybIlEbF68JBwOrVivj1/m4BH99/IpeTDQHHbDhgfNGpHD4UIBAACypiCB8vTp0zJ9+nS3FJ/uc+rUKbeUChfaTHqp2xgMk0pDowkYgRBWVlVtglUKTIgzuc8EnsRNZzXkhGrMdNKqv/5+c1YqyfF7HjXnHQys3v6RTVC9sGROROJmSWO4c4cN1E2h11bKFpMau5sfTVgDGZ+5rztM4Ls70dX7eqSrvUqamvz7b65jY4xazbrq8L204d0Ey9ClVkp19EvM9fiH9+6bOUZ4hVRXdUtvzLGczLWbYJnofgETyrJ7Q01sg1NLnV+nCQAAkD0F60OZqtQH5tFA59WMtdkarPjNN0NNJ23Tz2T8ENcUCDyxjepDqTVn3c3yaNSJxDr+sAmeUlUh891yLO319dJuglR1VeITOdZrSi0vd4HOmV+RWniOYbizWbqqk1+/Ndwv/VIu5cF9Uz12oKlq8q6aUccIqZS7XQ2mvcdUTWI8O7RXfh2sOBw4IodkqSzJMPstWrJ0dJkAAAA5VJBAOWPGDDl79qxbik/7Wc6cOdMtpcA1c62saZKmqnapb+x0tYMeP8jV97vmmLbpZyJeM1Qd2CfxYDVxlNWIVs61d3mhJv3jR9JmqeYl0twcvq6IfoRmynp+0trZrupAbWekYL9G2x/yTbchHX6QDDRV1Wa4mSqr2eoFei2kvd6eG/0oMe6svlPuXXZIdoY6Nw5K+2NPidy+RsI9INPkl/n9wCA8B3SU2QbRwWEBAACyrSCBUh8TcuLECbcUn3Yc1X1TFW7mWiY1TV7tYHMoSLimmNpPL6JvZXxaM6fNUNvG2F6yqkLrHRMfv6y8XKS7VxI9gbO8vMyEpY1SF7iuUHhyk57q/AoTU0NNbZ1jvSnUxo423N0l3eZ4tX5otFWHOqCPN5hO5ZbwsW2z1RXlUi790h88eJJj22PY0Xiz3DTV9YO1fVW7uiPvB1Bwi6SuxY3savs6utFZAwPqpM+VKTul3u9D+eBhubetRWjxCgAAcqEggbLchKerrrrKDs4TzyuvvCJXX3213TcjZTWy1fYbDA7IEuxn5zVljRt0elrFtnRN0m8yoeFO2WFCZLiJaoLjV95ta1V3BGrSbO3fqCpHvz+kP5jPaNGh0x7LBMGqprvTvpbowGpr/eyAPsE+j0Ha/7E7UIuq/S9TeNRIIABrrWvyJq/xmGs1wTd824ZtmKyqrkrpjwhA1iyqk5ZdUUFu1DoNgIG+jsEwmdLrjWRlRu8PAACQRQUJlNOmTZOVK1dKSUmJ9PX1ycjISGhkV53XdRo4dR/dN2OVW2zTSe1P19rjBbHwwDk7pKJDRxPVZzJqlCmzocNuN2mkp0sTjQlGtf7+bkrQpnTUoDy2CacfvJIfv2arNyKp/3rbNDZWlZ29rmBoi6YD0QTL8kZ8zajZbgYqt3RIk/i1mrXSW61Ne+P1edTQ2hTY3xu91Y6q295l4mG6ou+zN7Juvq4dAAAAmExKrqQw6s3AwICUlpbKlCnZy596WB3BVZ8zOTQ0FOpTqf0rb7rpJvuMSn20iIZOFDntI1mrjwkZQ20vJrTLly/bPybp82eRX7l6JpWaO3eOfOYvn3RLAAAgFT/9iztMPsrN7+c5c+a4uewpSA2l0qCoz5lcvny5rFq1SlavXm0nnb/55pvtNsJkMYpucmrWPNos3cHHhAAAAACYEAoWKH3apFXDY1lZmZ10fkzNXFFg0U1O10m9tEU8fxMAAADAxFDwQIkJyI2uGpoIkwAAAMCERKAEAAAAAGSEQAkAAAAAyAiBEgAAAACQEQIlAAAAACAjBEoAAAAAQEYIlAAAAACAjBAoAQAAAAAZIVACAAAAADJCoAQAAAAAZKTkiuHm4xoYGJDS0lKZMoX8CSD7Ll++LCMjI7J48WK3Bvly/PhxN5d9c+fOcXMAACAdQ0O5+f08Z072fzcXPFAeO3ZMXnvtNTlz5oxdnjlzpixYsEDmz59vlwFMfATKwslloNRfWrksPxeK8ZwV550/3Ov84V7nD/c6fwp9znr8bCtYlaPm2BdffFGGh4dtgLz11lvtpEFyaGhIXnrpJbtPaoals3GdtPa4xWjDndK4rlE6h91yQfVI67oE5xqtp1XWNXaaKyyM4c7GlI/f07pO1vkXltPz9u7hulFT8D1O8z4DAAAASFvBAqWGSa2VWLZsmcyaNUumTp1qp9mzZ8vy5cvl0qVLdp+sKKuRrXu2Sk2ZW0ZOVG7ZI3u2VLqlXKuSpg5zvD3hqaNJpLm21URJVSlbzLq8nQ4AAAAwCRUkUA4ODsq5c+dk4cKFcuHChZiTNn3TZrC675hF1FBqzZWZ72wN1Gz5IcQXVQMWVc1la+LibNdtrZ16PN2WQq2oPbdWcz6N4fL8mj2t5atvF+lultrAOdpaQ3/fqGOMOn6fV36PluW/JrraLrgtyTknu3a7nNJ5B+95Ku9JcmVV1SZm+qJrKL1abL987x7516r7Bt6D4P13+3tT1LWYwoP3Q48VcY2Be5PoPQMAAACKVUEC5aFDh2yt5MWLFxNOWlt5+PBh96ps6pbmrgrpsDVbHdJU1S71oQ//Gi7qRdr8mi+zvb9eGl0C0ABR39/kXmumtjqR9vqIppXtzb2y0W5PtVa0XZp7N7rjtUmdCWLNerzKLV75VXq8LaKVbRpMaruqA8cvD9TKeSKOf4NdI/U7AtdrricUdmz46w/X9tnyYgeeVK7dinfezeXmtnqv7Wjql/qI0JjoPUnNcHeXSNPd9njRelprpVn8c++Qiq5mc8SgwHuwtUbKou+Lvi96HyPe6Hrpqva2dzRVmcV1UuuX0dEkVe07vPtoygpee6z3DAAAAChGBQmUp0+flunTp7ul+HSfU6dOuaXsqttoQoOdK5Oq6iqR/n5bKzXcuUPa69oCTSXLpKZJ21I+agOAbdapgcPbaFZUm6ARpa46ZqiJr8rkIP8VlVJtCuzuPeaWg3rk0WaTmZqCx98ibXXtsiOYAEcd35Qfeo25no0aBLtMacPSuaPd5L6mcPC15Zlw9+jouJPStcek590tdW1euFRlNU02NAbPO957Eps5x1q/xs+bas0x4t23rvYY9yBKXXXgrmkojviDgPe+RDCB2X/bvNrRwPtYViXVVd0S83Rs2eF7AQAAABSrgvWhTFXqA/Nkx7HeblvzFAwq62qja7OCTRjrpd2ty7nhfumPEaS0dWli5VIeCkbG/AoTfUxZw8dEL7c8YqNuDjccjSXta7fnXSUVEQP3lpnjutmMjO5D6dWYulrBIHv8WPcgBbZJcob32Vd5t1fj6spJs+IVAAAAGLcKEihnzJghZ8+edUvxaT9LfYxI3tW1RQYVO4WbbmooCDdh1KaQ+RQjSJlpax5GHCr8tSdhg1u3dHXHr9dMmR8ka5ul3DV/1ryamTKp2RouQ5vG0o8SAAAAE0FBAqU+JuTEiRNuKT59Rovum0+2di5uU8th6e7SppsaDgrQZLGsXMolTjPKhLQ20s2qY72mFK1Nmy/e5UZera2lHWUM1x7zvIf1NudEdI2rd/xY9yA+7Y/Z7f6wkM2RYm2zYdtHNEvBFwAAACigggTK8vJyueqqq+zgPPG88sorcvXVV9t986msZmN4UBzH1swFnqkYDmA6cmgem7yaGHe3HfwlOKBL9GimsQT7RPr9JnXwGq8vYXdzc7i2rKdV6rW/YahPZ6TMrn30eQ93mnvcXScbs1mz2vOoLTPYFdKj/R/NPWj230PvHiQV+MOCfg8kb/Iahx0tNvCeDWuY1D6Wua9VBgAAAHKpIIFy2rRpsnLlSikpKZG+vj4ZGRkJjeyq87pOA6fuo/umymtKGDml31+tUrZ4DzQMlWFHVbWD0fgD9PjbaqV3o9Y26Rg3aR8oNTrwjX38htdEsqxmqx2Ex++Pp/0YdUTaxLVoVVInO0Ln3FzeFm4ia0dk1VFHXXl2ZNNYo9Omee0xztsb2dU7jtdsdiy1vKP7knrnHrvMyi3mXEXPR/c1517dZO5KnD6Phh00KLS/Od/ejXYkV28wozS5gZNC75ltRstzUQEAAFD8Sq6kMOrNwMCAlJaWypQp2cufelgdwVWfMzk0NBTqU6n9K2+66Sb7jEp9tIiGToyB9gWs7ZLqmCFxErP3RR+vUoCmyxjl8uXL9o9J+vxZ5Jd2LciVOXPm5LT8XCjGc1acd/5wr/OHe50/3Ov8KfQ56/GzrSA1lEqDoj5ncvny5bJq1SpZvXq1nXT+5ptvttsIk8iO0c2Cex5tlu60H+8CAAAAIKhggdKnTVo1PJaVldlJ59Np5gokVylb2uoimkTXS5vsyeZoOwAAAMAkVPBAiRwrq5GtEQ/on6S0r6h91ImbCJMAAADAmBEoAQAAAAAZIVACAAAAADJCoAQAAAAAZKRgjw0BAB+PDSmcXA5dPndu9ocmB4BCGxpK/O8mj7LIH+51+nLx2BACJYCCI1AWTq4D5Wf+8km3BADF76d/cQeBchzhXqcvF4GShAgAAAAAyAiBEgAAAACQEQIlAAAAACAjBEoAAAAAQEYIlAAAAACAjBQ8UB47dkwOHjwoe/futZPO6zoAAAAAwPhWsECpTyt58cUXZXh4WBYsWCC33nqrnebPny9DQ0Py0ksv2X1SMyydjeuktcctRhvulMZ1jdI57JYLqkda1yU412g9rbKusdNcYWEMdzamfPye1nWyzr+wnJ23916vM/cw9tRq7vBo6VwHAAAAgNQULFBqmNRnzy1btkxmzZolU6dOtdPs2bNl+fLlcunSJbtPVpTVyNY9W6WmzC0jJyq37JE9WyrdUq6USc1Wc5w93tTRVCVS1xZa3rNni8Q6g7KarbJna415NQAAAIBsKUigHBwclHPnzsnChQvlwoULcuDAAfn7v/972b59u3R3d9t1+oDzM2fO2H3HLKKGUmsIzXxna4JaLa8WMbQ9qjrR1sTF2a7bWjv1eLothVpRe26t5nwaw+X5NWlay1ffLtLdLLWBc7S1bf6+UccYdfw+r/weLct/TXT1aHBbknNOdu12OaXzDt7zVN6TNOg9Nfew0z9Xc07RNZTB62g09ytYaxzzPbTvU/g1EffJvYej7nHEa6Kv11/v9gUAAACKUEEC5aFDh2yt5MWLF+WZZ56RXbt22Saur776qvzkJz+x63Sb1lYePnzYvSqbuqW5q0I6bI1WhzRVtUt96EO9ftivF2nza7zM9v56Ezq89KBho76/yb3WTG11Iu31EU1Y25t7ZaPdnmqtaLs09250x2uTOhPEmvV4lVu88qv0eF7Nmwaj2q7qwPHLpbk2MnxFHP8Gu0bqdwSu11xPKMTY8NcvTR3B8mKHylSu3Yp33s3l5rZ6r+1o6pf6iJCV6D3JgLmHXRUd3nlG1ZrqudS314XOZWNvs7lDkSLuoZhgWNss5cHviSpzvs3BJrTmfM37Yrd3NEmVuS/rav0yvOvZ4SVT6Wysl/4md25R318AAABAMSlIoDx9+rRMnz7dzv/bv/2b/RrU29trv+o+p06dsvPZVrfRb/5YJlXVVSL9/TYcDHfukPa6NglnkDKpaWoSaX7Uhh/brDPYdLKyWkx0ilRXHbPZZXxV0nS3/4pKqTYFdvfGGpioRx5tFmlqCh5/i7TV+WHFGXV8U37oNeZ6NmoQ7DKlmXCzo93kvqZw8LXlmbD06Ogwl9K1x6Tn3S11beHmqGU1TYGQ5Yn3nmSmSqqrQmcaMCzdXZHnUnm3CYBuPiR4D22T6T0R3xP2/CIE3sMyPbbm6btdGd7+sd9TrwnvVtpjAwAAoAgVrA9lqlIfmCc7jvV221q3UHNEnWqbxayNEG6+WT+qditnhvulX2vyagPnZiZtXZpYuZQH88r8ChN/TFnDx0Qvtzxio24eFa8ipH3t9ryrpGK+W7bKzHHdbF7pNUedS5m5P242sXBT1VoTkJOJvq8eL9B3N9d695CBggAAAFDEChIoZ8yYIWfPnrXz73//++3XoIqKCvtV+1nOnDnTzudVxCAv/hRuuukFCr/5ZluKtXTZUhVunhqY8lHDVfhrLxQ/SIabqtrBgDKlTYL1/mnTWNvP1JQ9lua9AAAAQIEUJFDqY0JOnDhh5z/wgQ/I+vXrbYhcsmSJndd16vjx43bffLK1c3GbWvrNJTVMhZtM5o2tSeuWmC0nE9LaSDerjvWaUrTWcr54lxt5tbaWdpQxXHvM8x7W21wAes1R52JrUBPo6ZJ22x80y8HdNaX1+qJqE2QAAACguBQkUJaXl8tVV11lB+dRGiD/43/8j3L33XeHwuQrr7wiV199td03n8pqNoYHxXFszVygaWI4gHkDrOStyauJcXc3VUl7/egRQxNXcAX7RPr9JrV/n9/8sjk8CE9Pq9S3B/t0Rsrs2kef93CnucfddbIx730Hvf6MwXPpeXR0k+ZRunsllEHNPUqlyWtset90ZNnw91dPl7mLafe7BQAAAAqvIIFy2rRpsnLlSikpKZG+vj4ZGRmxo7rqpPO6TgOn7qP7pqq93uvfFpzSb0lYKVs6dBAe18fNTHZUVTsYjT9Aj7+tVno36gieWsGU9oFSowPf2GaR3sir+jxFHYSn3p2bNsPUEWkTP/6xSupkR+icm8vbwjVtdkRWHdnVlWdHfI01Om2a1x7jvL2RXb3jeM1mC1DLa0Tfwx0VTeb+RPfxDHADH4XuuY6Yq7WK3V3SHc6FKYq+j27k3Jw/vxMAAADIvpIrKYx6MzAwIKWlpTJlSvbypx5WR3DV50wODQ2F+lRq/8qbbrrJPqNSHy2ioRNjoM9CrO2S6pghER6t5d0hFdyjgrl8+bL9Y5I+fxb5pV0LcmXu3Dnymb980i0BQPH76V/cYT63Jv53c86cOTn9tzUXivGcFfc6fXr8bCtIDaXSoKjPmVy+fLmsWrVKVq9ebSedv/nmm+02wiSyb3STU/uomKpqifmUEQAAAABxFSxQ+rRJq4bHsrIyO+l8Os1cgfSMbnIabtIMFMBguzRsaJD2A/p1g2xw08MH3HZrUNobwts2bHhYvM3e+ob2QbtkHXh41OsPPGxeE1kgAABAVhSsySsA+CZ1k1cNlPU75dCye6WtpU4W2VUNUr9zqTyw66uy2obGetm59AHZ9dXV7iVm+97b7P5mY2heX6vh8bHDy0Ru+7q01NnS7OuPfGGXuJfLhz/8YW/GeOaZZ9xc9mkjE5q8AphItMlrnh+RDox7BEoABUeg3ClLHwgHPm/dXrmtrUXqBh6WDQ+KC5e+A/Kwt1K+ulj3PSJfCIXP75swuVR27l3ihUxblr99NPpQAkDq6EM5vnCv0zeh+lACAHzLZEmcLD145LD5/1PyYKi5q04PmjUih48Miiz6qNy27CnZry1aB38tJobKR+vWyO2HjsiAXbVXDi1bIgx3BAAAcoFACQDjnTaH3bVLdkVNXpPWRbJkqYmcmigHjsihpUvMmsWyxIbMQfn13kOy7LaP2uawAAAA2UagBIBxbJGmxUN75deBcXeirV5zu1ZXSvv+p+T2NdqwdZF89LZlJmQ+IUcOLZPbPkqcBAAAuUGgBIDxbPWdcu+yQ7Lz++0SypR2JNcGCQ3uulqbuO6UnU+Fm87aIPrUU/LUstuEPAkAAHKFQAkA49oiqWtpk3tlp9T7fSgfPCz36oA9oaC4WrSSUoLhUUOm+UJzVwAAkEuM8gqg4Cb1KK8FxiivAJA6RnkdX7jX6WOUVwAAAADAuEGgBAAAAABkhEAJAAAAAMhIwQPlsWPH5ODBg7J371476byuAwAAAACMbwULlDoW0IsvvijDw8OyYMECufXWW+00f/58GRoakpdeesnuk5ph6WxcJ609bjHacKc0rmuUzmG3XFA90rouwblG62mVdY2d5goLY7izMeXj97Suk3X+heXxvNM5RwAAAADZU7BAqWFSR3ZctmyZzJo1S6ZOnWqn2bNny/Lly+XSpUt2n6woq5Gte7ZKTZlbRk5Ubtkje7ZUuqU8Ge6U5uZutwAAAAAgnwoSKAcHB+XcuXOycOFCuXDhQsxJHx9w5swZu++YRdRQag2hme9slXXr1rmp1awN8moRQ9ujqhNtTVyc7bqttVOPp9tSqBW159ZqzqcxXJ5f26a1fPXtIt3NUhs4R1sj5+8bdYxRx+/zyu/RsvzXRFePBrclOedk126XUzrv4D1P5T2JZVg6m7ukvK7KLSfi1WL75Xv3yL9WPX7gPQje/9D56BR1LeZag/dDLz3iGgP3JtF7BgAAABSrggTKQ4cO2VrJixcvJpy0tvLw4cPuVdnULc1dFdKxZ4/s2dMhTVXtUh/68K/hol6kTbe57f310ugSgAaI+v4m91oztdWJtNdHNGFtb+6VjXZ7qrWi7dLcu9Edr03qTBBr1uNVbvHKr9LjbRGt+9NgUttVHTh+uTTXRoaviOPfYNdI/Y7A9ZrrCYUdG/76pakjWF7swJPKtVvxzru53NxW77UdTf1SHxEaE70nsQ13NktXdZPcXeFWJNDTWivN4p97h1R0NZsjBgXeg601UhZ9X/R90fsY8UbXm+N72zuaqsziOqn1y+hokqr2Hd59NGUFrz3WewYAAAAUo4IEytOnT8v06dPdUny6z6lTp9xSdtVtNKHBzpVJVXWVSH+/rZUa7twh7XVtEm65WSY1TU0izY/aAGCbdWrg8DaaFdUmaESpq7YhKnVV0nS3/4pKqTYFdvfGGpioRx5tFmlqCh5/i7TVtcuOYAIcdXxTfug15no2ahDsMqUNS+eOdpP7msLB15Znwt2jo+NOStcek553t9S1eeFSldU02dAYPO9470lsWma5bEwpsfdIV3uMexClrjpw1zQUR/xBwHtfIpjA7L9tZVXV5i4H3seyKqmu6paYb6MtO3wvAAAAgGJVsD6UqUp9YJ7sONbbbWuews0TzVQbXZsVbMJYL+1uXc4N90u/1uTVBs7NTNq6NLFyKQ/mrvkVJvqYsoaPiV5uecRG3Zy4CWna127Pu0oq5rtlq8wc181moKdVa5FTDGX2+LHuQQpsk+QM77Ov8m6vxtWVk6TiFQAAACgaBQmUWvN49uxZtxSf9rOcMWOGW8qjujavaWLEFG66qaEg3IRRm0LmU1WgGWZ42pqHEYcKf+1OT6vUS7AWOSiq/2umo7/6QbK2Wcpd82dtxZuZMqnZGi5Dm8bSjxIAAAATQUECpT4m5MSJE24pvuPHj9uBe/LJ1s7FbWo5LN1d2nRTw0EBmiyWlUu5xGlGmZDWRrpZdazXlKK1afPFu9zIq7W1tKOM4dpjnvew3uaM9HS1R9Qi1+oor6EBgCpliwvZdtImuvb4se5BfMPdXdLt/rCQzYFrbbNh20e0W7q6SZQAAAAobgUJlDqC61VXXWUH54nnlVdekauvvtrum09lNRvDg+I4tmYuUNMVDmA6cmgem7yasHS3HfwlOKCLVyOXuBllsE+k32/yblOa15ewu7k5XFumtX/a3zDUpzNSZtc++rx1QJ3m7roU+0BG8kJZeNIBcYIDAI2m/R/NPWj230PvHiQV+MOCfg8kb/Iahw7wExyAaFjDpPaxzH2tMgAAAJBLBWvyWlFRISUlJdLX1ycjIyOhkV11Xtdp4NR9rrvuOveq5LymhJFT+v3VKmVLhw7CUxsqw46qagej8Qfo8bfVSu9GrW3SMW7SPlBqdOAbW/vmNZEsq9lqB+Hx++NpP0YdkTZxLVqV1MmO0Dk3l7eFm8jaEVl11FFXnh3ZNNbotGlee4zz9kZ29Y7jNZvNXy1v5RZzrqLn4869usnclTh9Hg07aFBof3O+vRu94GoHM0qTGzgp9J7ZZrQ8FxUAAADFr+RKCqPeDAwMSGlpqUyZkr38qYfVEVz1OZNDQ0OhPpXaZ/Kmm26yTV310SIaOjEG2hewtkuqY4bESczeF328SgGaLmOUy5cv2z8m5btFAryuBbkyd+4cNwcAE8fQUOJ/N+fMmZPTf1tzoRjPWXGv06fHz7aCBUrfhQsX5Pz58/L222/b5alTp8q1114r06ZNs8sYIwKlEX62qF+Ta5+pKW2yJ5sdJJExAmXh5PKXGr/o84fzzh/udf5wr/OHe50/hT5nPX62FaTJa5AGx9mzZ0tZWZmddJ4wieyqlC1tdRFNogmTAAAAwNgVPFAix8pqZGvEA/onKe0rGhjIhzAJAAAAjB2BEgAAAACQEQIlAAAAACAjBEoAAAAAQEYIlAAAAACAjBAoAQAAAAAZIVACAAAAADJCoAQAAAAAZIRACQAAAADICIESAAAAAJARAiUAAAAAICMESgAAAABARgiUAAAAAICMECgBAAAAABkpuWK4+bgGBgaktLRUpkwhfwLIvsuXL8vIyIgsXrzYrcmWTtm89rvyvFtKz/vkm/u2SY1bmqiOHz/u5rJvzpw5OS0/F4rxnBXnnT/c6/zhXucP9zp/Cn3OevxsI1ACKLicBsqS9bLdLaVnk+y+QqAci7lzs/9LC0BhDA3l/wMwISd/uNf5U+hz1uNnG4ESQMHlLlDG0iedm78o603K3LT7R3J/zQpZ4W/p3Cxf9DbIj7bVhNZPZLn8paaB8jN/+aRbAlCsfvoXdxAo00DIyR/udfr0+NlGQgQwqXRurjBhcr/JjPtkWyBMqhU122Tf7k2yf/t6qdjc6dYCAAAgHgIlgEmkU35s279uks/Ha8ta83mz1dj+Y7M3AAAAEiFQApiEnpeX+9xstL6XMxzEBwAAYPIhUAKYRGrk87b6cb/c91Cs+sc+6XzoPrPV2PT5CT8gDwAAwFgRKAFMKjX3PyJrdGb7eilZu1Y2b94cmtaWaP9K3bhJdm8jTgIAACRToEDZI63r1sm6OFNj57DbLxXD0tnYKGm9JCV6jq3m/26p1Tu3Vn9FNvS0yrrsFhhxzgBiWNEg+3p3y6Y1Jlbu3y/bt28PTVozuWbTI7K7d+I/LgQAACAbiryGUsNkrTR3u8Ws0WBWL+1uKSc0TNZn8wh5OGdgolhRI9v27RN9alJvb6/s3r3bftXlfdsapGYyPC8EAAAgCwocKOukbc8e2RM1ba0ps1tDtYKdndIYqsH0a+CCYbJbmmvDNZvDnY1uX50iay9DZbaaQBdRni8YzNqlXveN2EGP65cd67X+NjPFq30Mhsn2+ohy/PMbVb6+JmKdfyy9vmTnDMDTJy2b18razZ1mzrNixQqpqamxXwEAAJCeoqihbG9uNpHRZwJTgrSkYbI2ospSw2Z08DOltLtAV1ctld5cStrrgzWiwXOJUUNowmI6zXc1TEZWWpryGztNhDUqt0hbnbduhymzp9U7VlVTk7j8DSCpXnlh+37Zv/3HZg4AAABjVeBA6dWmhWvk/Bo3t9lX1+bVXnqJSqS/34SsMqnZ2iFNVbqiSpo6tGbTxMcuTXuBmk/7Gi+ERfDL3BIdJytly542U4LyyonYxX9dR5M5qmHPxejpcgGvw9u+xzu37uZHR4VZDYeha7HlbTFH7ZEurwDpsK/fIx1eAfKoK6Byi3de3c21XvA0+zbZNJnknAE4FXKLHZEnwWNDAAAAkLKiqKGsq3bpqLLahaZ4jkmvrT0MBFVX5dfde8x+9YXKTFPodWXlUu7NWcMmWCoNe14w9msy+6U/lUrKYbOffjUBstadu1/T2h8qoFLu9hK0YUJ0U42J1QBSt0IafqQD8uyX+764WVo6O6Wvry/O5F4CAACAuMZhH8qtuWnC6dck5l23RGXZtAXD8DEvMRvd0tVdmCsCilenbK5YL9t1ONf92+W+9euloqIizrTZ7A0AAIBEiqKGMnXzpcJW4MUIqltzW5tXVu7VV4abvIanlJqf+jWegSavockvoKc1oo9lzOa0ABKokFs2bZJNKU23mL0BAACQyDjsQ2mmtIco9UZ5Xdd6TKqqNVGOLjezUU+9clIaWMc1xw03eXWTP6hOPHaUV+03WinVXgGhJq/e5PcpHZbOHV6arGtz/Sv1/EZdWBrnDEw6K6Rh2zbZltLUYPYGAABAIkVeQ1kmNRsje1WW1Wx1YStMaw3TG6Qm2FcxVcGBcXx10havZrTybjegUFjllj1uJNewujavCfBwZ7PXJ7OuzV5LWc1G71gmkHqZMpNzBiY7r79kp9+X0q0FAABAakqu6JO8kxgYGJDS0lKZMmWCtZAFMC5cvnxZRkZGZPHixW5NjvV1SstD35X7bGfKKGs2ye4fbZOaSVI9efz4cTeXfXPnzpHP/OWTbglAsfrpX9whQ0O5+7cinjlz5uT036hcKcbz5l7nT6HPWY+fbSREAJOMNzCPFybXRPSbtE8U2b9d1udyQJ7BdmnY0CDtg24523JdPgAAQACBEsCk0rl5vWzXmU27pffKvoh+k/uu9MruTbrRhMrNjPEKAACQDIESwCTSKT+2aXKNPHJ/TYxBd1ZIzf2PeDWVz79Mn0oAAIAkCJQAJqH3ycp4fSRXrDRbjf0vSK9dkSO/flg2bNjgTQ3tEtlCdVDaG9w2nR4+4Nb7km0POOCOk2gfAACADDEoD4CCy9+gPH3SsrZC7tu/Rh7p3ScNsUJlX4usrbhP9q95RHr35eDRIdrHsX6nHFp2r7S11MkiGw7rZefSB2TXV1frDmNbtuXvldvaWqROvGMtfWCX2F2dD3/4w25O5JlnnnFz2VdSIgzKA0wAOihP8k+LACYrAiWAgsvnKK99LWul4r79IjEDox84zeym3XJlW423OptcoIwIecEQOPCwbHhQ5IFdX5VQBtRaRn9dcN5tjtjul/XAbbL3wZ0i97ZJS90it+NouRxpjlFegYmBUV7Tw8ij+cO9Tp8eP9tIiAAmlRUN35RN2kly/31SUVIia9duls2bzbR2rZSUuDCpjw7JRZgMuV3WBGoMZdESWSqH5MiAW162RCKi9eIlskwOyxG/XWyy7aasnSZMHjJzS5fED5MAAABjRaAEMMnUyLZ9OpqrHXpH9u/fLtu3m2m/90zKNTr6675tZq/idvsDu+SB20Weeiy6fyYAAED2ECgBTEIrpGbbPtEW/1d6e6XXTmbeLO/bFmv012wL1iYag0fMmmWyxK92PLRXfh3cPnBEDslSCVU2Jtvuylr91Qfk9kM75fs8lBIAAORIwfpQXrp0SU6ePCmnTp2SCxcuuLUAxrNp06bJrFmzZPbs2XL11Ve7tWOXuz6UndKy9sci3/y83FFhgmLuk2Jy+RyUxwTMwfYGMYeTe91ytFz246APJTAx0IcyPfTryx/udfr0+NlWkECpYXJwcFBmzJgh06dPl2uuucZtATCeXbx4Uc6dOydnz56VRYsWZS1U5jJQbi5ZL/bRk9YaWbPpfXLn5++XO2pW5KEmMgY/8N27VHbufMpbd7sfDn0uJGonSJXO9qhAGdpX/AAbKZe/1AiUwMRAoEwPISd/uNfp0+NnW0ECpd5EPexNN90kV111FaPHAkVCg98777xjPlgM2eVs/aOU01Fe+/qks/dJ+fGPn5Dnt+8Xr6ekTwPmnSZg3lG4gFlgufylRqAEJgYCZXoIOfnDvU6fHj/bChIoX3nlFfvB8frrrydMAkVGw9/p06ftvws333yzWzs2OQ2Uo/RJX2evPPnjH8sTz28XNxaP4wXMb5qAWTFJAmYuf6kRKIGJgUCZHkJO/nCv06fHz7aCpDntM6nNXTVMlpSUMDExFdGkP7f681u8fZ9NUKypkYZt22TfPm8gnt7e3bL7kUfs40T2b79P1q+vkIqSzdLpXgEAAIDYClY9qB9MARSnifXz2yfSK/LyCy/I82bJe5gIAAAAUkGgBJC2Yv/57evrlJaWzbJ2rda6VkjF+vVy33bX/HXTI7J7d69cuVL8z6IEAADINTowApj4dGCelhbZvHatDcMVFSZA3qcBUvtMbpJHTIDsvaLNX/fJvm0NUlMzGYfnAQAASB+BEsAEpo8NKZGSigpZf999sn3/flmzxgTIR3ZLb68fILdJwyQd4RUAAGCsCJQAJoE1sklD5JUrsm+fCZANNbKCBAkAADBmBEoAE1iF3LJpjYmT+2X7feulQmsrS9bK2s0t0tLZp8PxAAAAYAwIlAAmsBXSsG2f7LP9I3sjHg1yn300iAmYa9fK5pYW6ewjXgIAAKSriALlG/LTB+6UB376hlsukJ4fyJ0P/NScTWxv/PQBufMHPW4pTW/8VB648wEp9CUCE9MKqWlokG379tlnT16xz57c5Gov75P1FRV2wB4vYHaagOleBgAAgLiooQQwOa2oMQFzm+zbp7WXV6R39255ZJMfMNebgLlZOt2uAAAAiG2CBMoe+cGdd0qwYrDnB3dG1hRq7Z9fs2hrAs320BSoFbTbfiA/1ZpGf7v/Oq2d/M7PRHp/KF8x+0TXQ2rt5Fd+2Cvys+9E1GLaWsvQsUa/LtqrPwnsH7gGW05E7WjgumPVbur5xj2eV+MbPq9xUPsLFEJfn/R1tsiTP/6uPPG8exYlAAAAUjJBAmWlrPm0yOFBPxD1yH6T+8yKcKh79lciH18lN2nw+soPZem3npAnntDpb+RLFb3yw5ZgUPuZ/PDVL7jt35JPmwDZomGr8svyxLfMgSq+JH/zxJfNUSPd9JkH5W++VCHy6W/JEw9+Rm4y67yQuVS+Zct6wmw/LN9JGCp75WeHP27Kd+d22ITTVJrQ3rRKPm6u41fPhq+ix9yEii99btR5emHyK/LDpeY8Q+dVYXJyC81tMfFFPZNSHylSsf4+uW/7ftnvRoPdbR8psk1q3EsAAAAQ24Rp8lppEmXvr571QuEbg3K44tPyafmVePnqDfHypIl4N31GHjQB6suhlHWTrPq4CYERKuRLn/N38MJq76tDbjkdPfKTH/aafBkOnzd9psEE2J/JY3GTmzl2gxdG9dw+8wVz8J/tTxBAfd51hO6BDdUV3jWPYsp90ATJ8E0wefTj5sjAxNPX1yktLZtl7Vod4dULkP4zKWWNBshHTIDs9fpV7tsn2xpqpIZHigAAAKSkxHyIuuLm4xoYGJDS0lKZMiU7+fPFF1+UVatW2fL0A15qvFq1X338b+TBz8QISbbm8VX5whNflrk/fUBapEG+8OpXZP8aEx7nmm0tIg2u1tCjzUW/I1qRaWmto2635fxKPv43D4p/GG0++x35lhfAtBnpY+/y9vU2R7A1klq7qfvGKEtpeY+9K8Z1BK4hFPUCZax61pT9q48Hju1dg3zLBeTg63V+1DWPZq8tfBPkS1HnCkTTfzIuX74szz77rLz3ve91a8dGyxsZGZHFixe7NdnSKZtL1st2t2SfR7npTvn85++QGlKjdfz4cTeXfXPnznFzAIrd0FDu/q2IZ86cOTn9NypXivG8udf5U+hz1uNn28QJlG77q194Qtbsv9MLkmLC3/418sSa/fLA4Ofc68JBsuJLXlk2BPpBLUYILJpAGbgHnxv0QnXse+WuybsJca8biKXYAmXL5pdFTIC8wwRIIuRoufylxi/6/OG884d7nT/c6/zhXudPoc9Zj59tE6bJq9/k8/DgT2X/zz4tazRgzX2XVBwelJ/uPxxu+tmzX35m+0A+ETdsZc1Ni2Sp9Epka9k3ZPCwm43psIS6gqqhV00JS2VRSqfq3YOf7f9puIlvTF5z2C/9zROhvp7AxFQjDdsapIEwCQAAkBMTKFBqfjPx7Yc/NIHxXTLXWyFLe38oPzz8cYnIVr2vSijj9fzAG5k1Jyrlc18yAe874UF43vhpi/yw99Pyhbhhtld++BN/7x75wXfCA+vo9Umv3y9Uy3os3GTXsX0hf2auWaKueZRg0DXH+coPzRoAAAAASN2ECpRSuUY+bb5U6Giu3go7oI4sXRSuhav8snzr0z+T7/iPy9DmqzpyayCoJaTHsI8NiXpEh+MFuu+EHtfhjfyqI7t6x/NGfB09QmzYp+VL73rMPcrjO/KzT38rXJNqz90Ezq94ZbXIF0QHlY1gR3sN3oNYKuXL5pp/9h13D+58TN71N98yR44cJRYAAAAAEimiPpRIjfajtKPx0BcSOVFcfSiRTC77cdC3JX847/zhXucP9zp/uNf5U+hz1uNn28SqoYTJk8/Kr5I2dwUAAACAsSNQTiA6cuudOlJr6DmWAAAAAJA7BMoJpPLLT8gTT9DUFQAAAEB+ECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAAAAAMhIQQLltGnT5Pz5824JQLHRn1/9OQYAAMDkVpBAOXv2bHnzzTfdEoBiMzIyIrNmzXJLAAAAmKwKEij1g+jp06fl6NGjcu7cObly5QoTE1MRTPrzqj+3p06dsn8YAgAAwORWYj4kXnHzcQ0MDEhpaalMmZK9/Hnp0iU5efKk/WB64cIFtxbAeKbNXPUPQhomr776ard27C5fvmxrPRcvXuzWIF+OHz/u5rJvzpw5OS0/F4rxnBXnnT/c6/zhXucP9zp/Cn3OevxsK1igBAAfgbJwcvlLjV/0+cN55w/3On+41/nDvc6fQp+zHj/bCJQACo5AWTi5/KU2d272f2kByI+hocJ/SCfk5A/3On8Kfc56/GwjUAIoOAJl4eTyl5oGys/85ZNuCUCx+Olf3EGgHANCTv5wr9Onx882EiIAAAAAICMESgAAAABARgiUAAAAAICMECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAAAAAMgIgRIAAAAAkBECJQAAAAAgIwRKAAAAAEBGCJQAAAAAgIwQKAEAAAAAGSFQAgAAAAAyQqAEAAAAAGSkIIGyp/VTsm7dVjlwwa0I8Latk3VbD8iozRcOyFaz7VOtPW5FKnqkVctL6zUqjdcNH5RHW7tk2C0CAAAAwGRQkEC5YvVnzf//RQ72ecthvfLs0xflmmuuMZsPyKjN/X3Sbb58dvUKb3mc6Hm0Qbb1X3RLAAAAADA5FCRQTrtltXxSLkp336tujfPqC9J1bL5s/PONMv/i0/Jsr1vvvNZ3QI6ZV66+ZZpbk4pK2bJnj+zZUumWAaDIDbZLw4YGaR90y4mksy8AAECaCtOH8voVsnqVSN/BfjntVqnhF/ZK3zUfk1WfWyUfu+aYdL0QDJynpe/AsyJVq+WW690q43Rvp2z9z5+XT2nz1E99Xv7zt/9RDka0PY3VdPWCvNrVKo2f95rXrv/PW6Xz1VelszFWE9eL8tqBwL73fEMeDR1g2L6mvt3MdjdLrdne2Om2aTPYb/wn+fynTJnrPiWf/0/B1wHAGCyqk5ZdLVK3yC0DAAAUSIEG5VkgK1bPF3n6oPS7NRoYXzjQre1ZZYX5T1vF9u19IdAvsV8OPi2y4rZbpMytGe76htz1Z38lL8y/W5paWqSl6W6Z379NGu5qlM7X3E4xvNb5gPzZd3bJiVWb5VstD8mf39Ivf/1nD8ij4ZMJ23W//Nm2E7L6zx+Sloe+ZoJut2xreEB+YsufKas2tsiff8zMrqgzZbXIxlUzTV41Iba+QXacWCEbm8x5tTTJ3fP7zevukq0Hwz1DhzsbbUhNu3snAAAAAIwDBQqUIhWrPibXXHxWQq1eL7wgB34h8snVt8g0898tqz8p0n1AXvCrMHuflacvzpfqW97lLV84KDuan5byP/9b+Z/f/mOp/oM/kD+o/mP59v/8W/naim75q0cPjh7UR53ukr9u7pb5dS3SZl+3Wmq2tMrffm2+HDvm9onwWflW27flj6tN+as/J9948M/lFnlBup7VRDlNFlT+gdxisrHcWCGrzDlULphmknCXtB9bJV/71jfkc/q6P6iWP/7eg/LnK66RZw/0xT4vAMXFNiXdIBsC08MHgtsapL394fD2hnaJbHU6KO0Nwdc/LP7LPVHbQ4Ub0c1YY5xLA21cAQBAHpRcMdx8XAMDA1JaWipTpmQxf+qIrZ++X848+KR8+7brdXhX+VR9v3ytY6vUaBXkcKc01jbL/Id+Jo2rp9navNq/Kpe2n28R2xvyYKusa/iFfPZr35Kacl0R1vePDfLXT9dJ2x7dV5u81kt7XZvtR3l677fljgfMcf7+f8rnXDb1HDT7mQ9obj+vqay+rsUs/4G3ixVZnl3Tuk7q+5ukY2uNV3v62k/kP9/1V3Lms1+Tpo2f9UImgLguX74sIyMjsnjxYrdmnNMAV79XbmsLNDu163bK0gd2yVcXe/OH5HZ5YNdXZbUNh/Wyc+kDsuurq3XnqGV9eYPU771N2lrqZNGo7Qfk4Q0PiilMvJcHjx+1zW42Ze1c6h07xrl++MMf9maMZ555xs1lX0mJyGf+8km3BKBY/PQv7pDknw4BwFO4QCnD0tVYK98p9wJb76N3yp913S1//z8/J17Oe1V+8p/+X/nrVW3y8y0r5MDWT8v98pD8rHG1aDyzAbNZx3yNp0q+ZcJpdVlkAHytc4vc1bxCWkzYDMZEPZ9Ocz7N5dGBMhwcPSkESrkgvf94vzT89bNyRhdnlsuqqs/J5+7+pFRX+A12AfiKM1AekS/YsBhDMFz6OwSD3cDD4mXA4OsDwdAG0qjAGhQsy4TPwUWLTAgNiNieuKzjx4+7ueybO3cOgRIoQhooh4Zy929DqubMmZPTf6NypRjPm3udP4U+Zz1+thWsyauY6LXithUiz/ab6PiqvNB1TOZX3+LCpHqX3FI9Xy4+22e29snBfzER8Q9W2DAZViVNHXtkj47iOmrSMOl2C7h40Ua8HJsmFX/cKrt/9rj87be+JhtWXSP9T/+1fOfPauWe1h6avALFblGdfOH2p+RBv4lpsDlqyDJZEszHi5bIUjkkRwZM3jty2KwIvN5OD5o1IoePDIoMHDF7LpUlscJkND9MHgg0r7W1owAAALlXwEBpIuMt1TK/b6/0vdovB/uukY+tqnBbPLafZd9B6e/pk+6LK+S2FeGEOPNG7bjYLT196cWzG2/U9rHPSn/UE0tEjmk3zeyatkAqqj8njd/7n/Ljnz8pD9XNl/72f5Tu4NC2AIrS6q/ukl27dHpAbn/qQRfmovtBJrDsXmmzr4+cWtIeulVrNs2xHzws97a5ctruNXEWAAAg9woaKE1itKOmHvzHA/IL+aysXuHW+1asNmuflr0/OSh986vFH49HTVtVLRuuEdn1j7+QyAFdX7OP8lj/n38iozKjcf2q2+Rj0if/+JPImsILBzpl10W3MEavdX1b7ln/DemKCI7Xy/wFM908gIljtXzVhkETLOUp2R9KlF5tZMjgETls9lizWisrl5rNe+XX8cbNWbzEBMLDopWVSR3YL0/ZcBpo0mprOAEAAHKvsIFSyuUPPmZCofkwJp9cLbdEj10z7RZZ/cmL8otfPC3XfGyVRNRfTvsDuftrVXJNd7P8v//pe/KTAwflYNdPZOuWP5Pm7nL57J9/NtB8NuD6atn8tVVyTAet+PY/StfBg9L16BapfeBf3A7pu6Zsvkj3T+TRroPS89oFWWBC6/yLT0tzw7flf3QekIMHD0jn//iGPPDXfVL+hT+WKvccTR4bAhQp27w0qjbSBsbIZq5PPejvMyjt398ph25f4/WZXH2n3LvskOz8fmDkV1umG7l10UflNt3+hH8EN+JrzKa1RjCcav/JB7XxLAAAQO4VOFBeL7esrrJzVatvMUvRrpcVq1fJxYsX5bOjqi9FFtRslcdb/tzWcv71/Q3S8J1t8qx8Upr+tk22VMYfWfVdn3tI/rbps3LNs9vkOw0N8ld7y+XP//ZB2eC2p6vik38uG27pl/bvmHP4SZ9IWbVs/fuHZMP8fvmXv7pfGhrul7/6lxOyqulvpe0/V0b1AwVQdFZ/VXY9IJF9IEcNfLNM7r3X3ydyRFeTGKWupU3ulZ1S77/eNln1X++2H/ab0ka/PsCcywO3m/BZ78qx56G1pVE1pAAAADlQwFFexxvvsSF9TY9La80Ctw5APhTdKK/JBEdZTbdLZJ7lcqQ5RnkFihOjvI4NI4/mD/c6fXr8bJvICTG23kflns//J3k0qpnphYN75Wm5RlaUEyYBAAAAIBWTL1BWVEnNzD7Zdv8WabX9Gw9K1z9+W+rvb5cTVV+TPw4+chIAAAAAENfkC5RSIXe3/a00fVKk+6+1f2ODND96TMo3t8jjW2uE+kkAY7aoTlqCo64CAABMUJMwUBrXV0hNY6v8w+49smfPHvn5j/+HfPuP/0DCT7kEAAAAACQzOQMlAAAAAGDMCJQAAAAAgIwQKAEAAAAAGSFQAgAAAAAyQqAEAAAAAGSEQAkAAAAAyAiBEgAAAACQEQIlAAAAACAjBEoAAAAAQEZKrhhuPq6BgQEpLS2VKVPInwCy7/LlyzIyMiKLFy92a5Avx48fd3PZN3fuHDcHoNgMDeXu34ZUzZkzJ6f/RuVKMZ439zp/Cn3OevxsI1ACKDgCZeHk8pcav+jzh/POH+51/nCv84d7nT+FPmc9fraREAEAAAAAGSFQAgAAAAAyQqAEAAAAAGSkQIGyR1rXrZN161rNXNCwdDbq+kbpHHarkhnulEYtq7HTvBoAAAAAkC/FX0NZViNb9+yRPVtrpMytAgAAAADk3jgPlOGazM7ORvNV583UGqjXjFFDORzYt7XHr/X0a0PDZba2evt45fn7hafGUDVpoOa0szVqe/B10TWuAAAAADBxFUkNZbs0N3e7eaO93gRFNx+tp1VqA/u21zdLl5uP1C7t7d5cXXWleVmtBA+hupubo5redpvzcC8ydHtjY/B17VIf98QAAAAAYGIpmiavdW17ZM+ePdJW5y3398fqMTksnTu8wFfV1GH339NWLt1RQdHnl7mlUqRyizfvT95xuqX3mN01xC/X394tTdKhrwmfWKimFAAAAAAmsiIJlHVSbUKfqqx2wS2mY9Jrw2OdbKxxPSor75amKm82UrjMIL+5bH24IjKgSqqrvHLnV3iFVlVXeX0351eYrQAAAAAweRT/oDxZ0uP6Uz5avjVQAwkAAAAAiKdAgXK+eBV87bIj2Emx51HXH7FcyjMasjVGuaEyE+mRLlsj6ddaDmvLVQAAAABAAgUKlGW2qajqbq51I6SayW9nWlctMVqjpqBMajZ6VYuhcuv7pSrltqjtUm/PZfQAPQAAAACASAVr8lpWszU8kE2AHfRGR8nJVOUW6Qh1mqySpo4mqXZL8VXKluC5VDVJh3mdltLexaitAAAAABBLyRXDzcc1MDAgpaWlMmXK+O9yqX0hbUVnXZsLpvrcyXpplzpp27Mlw5pPALl0+fJlGRkZkcWLF7s1yJfjx4+7ueybM2dOTsvPhWI8Z8V55w/3On+41/nDvc6fQp+zHj/bJtygPP7oq/qsSq8prYZJI+NmtAAAAACAWCZcoNSmtKNa0moT1rE0owUAAAAAjDLhAqWq3LLHPvojNG2t8Z4VCQAAAADImgnXhxJA8aEPZeHksh/H3LnZ76cBIHeGhsZXXzT69eUP9zp/Cn3OevxsI1ACKDgCZeHk8peaBsrP/OWTbgnAePbTv7iDQJklhJz84V6nT4+fbSREAAAAAEBGCJQAAAAAgIwQKAEAAAAAGSFQAgAAAAAyUpBBefSQJ0+elAsXLtjBOOK57rrrZPbs2VJSUuLWFMaZC+/ID58+Jv/38Gk5a+bHqvrdpfKlj82XmdOucmuA8aFQP5sMylM4uRwYgEF5gOLBoDzZw0Ax+cO9Tp8eP9sKUkOpHxzfeuuthB9Yle6jH24L7ZFfDErXv49kJUwqLesHJqAC402x/WwCAACgsAoSKM+fP+/mktOakkI7cOi0m8ueA4ezXyYwVsX2swkAAIDCGvd9KJPVlBSrbNV2AoUyUX82AQAAkLpxESh7/+4uuesunb4nvxxxK8e1efJXX/mIdDXq9D75ulsbaZnssNu96Sd3zXPrgSIz8kv53vd+KUXxowkAAIC8Knyg7P07+aZ8Vx5//HF5fNsa2f/fx/8H1z+6a6GsOntcqrf+Rv7P8HWyNkZY/PrGOXLjkX67T/UvToksKZcdn3UbgWJhfj7v2twm/+oWAQAAgKCCB8qRwaNSs7bCWyhdJWvksAx5S+PUPFk7d6qcOXfOLn3/tbdk5txS+SO7FPb9Hb+Rzz3+urfwuxHpS71rGjBOjMgvB9fK49vq5Va3BgAAAAgah30oj8pgEbStO3HShUV17dWyws3G9MFSWXHtW/Liv7hloCiUyic+4f7YAwAAAMQwDgPlQllU6mYnhGWy45PTpe8Xz8v33RoAAAAAmAgKHihLFy2Uzn293sLIs7Jflspcb2lcu3F2oN/k+UvS52YjfPDd8pPGGfLi1oPytd+5dQAAAAAwQRS+hrLiT+W78k1vlNfN+2XNf/mEjO8Kytdl39DbMnP6dLv09QXXyZmhEfknuxSgYXKNyI+2UjMJAAAAYGIaF01eK/70cW+U18e/IZ8oguau//T4UXl2xhz7OJD/MOOU/MgNvvNHd/2BezzIPPmrNbNk5rWz5L8GHh3CKK8oSqWfkG98Y7z/oafIDB6QA4P+fLs0bGiQdn85WrLtAAAABTQO+1BGmjJlPJ7i6/K1v/mN90iQv/n3UO3kPz1+0I3sGtgemDYyKA8mkPH5s1kENCDWPyZH3GJSi+qkZVeL1C1yywAAAONIQT4RXnvttW4uuWnTprm5iWXGNVe5OWD84GcTAAAA6ShIoCwtLbUfXJPVcFx33XUye/Zst1Q4q5dd7+ayJxdlAmNVbD+bRcfWTu6UQ+a/nfUbpCHYjvXXD8uGDRtC08MH3Ppgk1d//oB+jbGvdUAeDm3z933YrAUAAMi+kiuGm49rYGDAftCcrE3czlx4Rx75xaA8P3hOzl58x60NMrcw3l0sKXEzYZ98d6l8+WPzZeY0aikBdfnyZRkZGZHFixe7NROYDZV75bY214zVD5nL7pW2ljrxVjVI/c6l8sCur8rq4P6SZF8bJh+Uw/e2SYst3Ft+Sm532z0f/vCH3ZzIM8884+ayT//5+8xfPumWAIxnP/2LOyT5J0IAGI1AmSH/tukHYZ10Wb/6SswnKZ30nvlf/fUAIhEod8rSB3bJV/3ENypERgbKuPsOPCwmP0aEx8jAOdrx48fdXPbNnTuHQAkUCQ2UQ0O5+/cgE3PmzMnpv1G5Uoznzb3On0Kfsx4/20iIGfDD48WLF+XIkSPywgsvSHd3t/zqV7+y029+8xvp6emRw4cPy9mzZ+XChQty6dKlUPAEgEjLZEnKWTr+voNHDpvNSyS4edFHbzOvAAAAyA0CZZo0FL799tvy+uuv2/B49OhRu27u3Llyyy232Ommm26yNZFDQ0Pyf//v/5XBwcFQsNTX6v4AAAAAUOwIlGnww+Tzzz8vvb29NjzefPPNsmDBAjtAydVXX20nndd1y5cvt/tok+EXX3xRTp06JefPnydUAsiJRUuWihw6IgNu2Ro4IofcLAAAQLYRKFPkh8mDBw/a2sd3v/vdMnXqVLc1Pg2Y733ve+2omBpCCZXAJLdoiSw1Ee9IROrLktVr5HZ5Sh4LjR57QB5+8Ck3DwAAkH0EyhRov8d33nnH9ovUZ+/Nnz/fbUmd1ljOnDlTXnnlFTl9+rRt/qpl0qcSmGxWy5rbRZ56cINsiHzeRxaslq/uekCW7qx3jw15TJbcaw4GAACQI4zymoTeHq1J1D6TWsOoNZNjoU1f9V5qwJw1a5YNqP5IsMBkpT9jk2aU13w78LBseGxJ6DEj0XI50hyjvALFg1Fes4eRR/OHe50+PX62UUOZAr/fpPaJHKsVK1bYcHrmzJlQLSUAZIWGxw0NEmrxKoPS/thTIkuXxAyTAAAAY0WgTEJrTl577TXbXDWVPpPJaJ9KLUv/MkFfSgBZtfqr0navyM56be6qU73sXPqA7Ao9tBIAACC7Ctbk9eneN+XxZ96QgZNvy9vjNk9dkSvvvCMfmT0sG95/g22mmg0aUF999VUbLHVE2GuvvVauuuoqmr1i3LvmmmtsU23990D/OJItNHktnFw2u6HJK1A8aPKaPTTDzB/udfr0+NlWkECpYfK//eyojPv4ZPtPvi13Lj4u/88tS2z4y4aTJ0/K4cOHpayszL6pM2bMsB/OCZQY7y5duiRvvfWW/bpkyZKshUoCZeHk8pcagRIoHgTK7CHk5A/3On16/GwrSJPX//2bN0yYLJLwZEJl6dWXZPr06W7F2GlZ+gHab+qqQV1rKJmYxvuktek33HCDHUxKAyAAAAAmt4IEyldH3jb/L5LHZSSvwB0TrZXUQEmoZCqmSZtr6zNVAQAAMLkxKE8KRi5NlXPnzrmlsdOy/A/mBEmmYp0AAACAggTKd5XqaKlF0uS1pEQOnfRCYLb4ZWn/M5109FidYn1oZ2Iaj5N+D+vgPAAAAJjcChIo/38fuUnHTzVzRRAqTaA8fn6qHB8541aMnT6DUoOk9kPzA2WsD+1MTONt0sfcnDhxwgZKHagLAAAAk1tBHxuig/McPfm2XBq33Sm9x4a8c+m8bF45LB+69f1jHtXy4sWL8vzzz8vZs2ft4CY8NgTFhMeGTDy5HGmOUV6B4sEor9nDyKP5w71Onx4/2woWKFP1mAmdX/jITW4p0nPPPScf+MAH3FKkRNtUquW+YwLlhQsX7D04evSovOc977HrM/XCCy/Y4KiPDJk7d64NlFpTqYEy0Tlneh8U5XoyLVcleu1kKjdXCJSFk8tfagRKoHgQKLOHkJM/3Ov06fGzjUF5ktAQrU1SNfxp7cyxY8fclvQNDg7agKojZOqzJ7VmUssuRFAHAAAAgLEiyaRAaw+1FvHmm2+2/R+1pjJd+hoNlBom/UDp10wCAAAAQDEiUCbhPydS+4tpCFy2bJm89tpr8uKLL8qlS5fcXvFpn0lt5jo8PGyf23f99dfbPmhalpapZdN3EgAAAEAxKuo+lGORbrnax0tHuDx//rycPn1a3njjDTtpMNRp+vTpdlI6AqZOWpupkzZt9WsmNUxqqEy3uet4uQ+polwP5aaGPpSFk8t+HNqHEkDxoA9ldtCvL3+41+nT42cbgTINfqjUQXp0lFYNi/oN8dZbb9m+kVpj+c7lKzLtGm/0Sw2MGiK1aasfPHXS5XT7ThJMPJTrKbZykyFQFk4uf6nxiz5/OO/84V7nD/c6f7jX+VPoc9bjZxtNXtOgAVCDoNYuak2jjtT6rne9S5YuXSpLliyxU8+p6TJv3jxZsGCBLFy40L5pOqDPjTfeaF/DQDwAAAAAJgpSTZr8UOnXOupjPzQsanDUIDnrxrn2q066TrfpPpnWTAIAAADAeDXum7yOV/5t06Z6Ou9/9dfrQDv+gD7+V389gEg0eS2cXDa7KXSznkwU4zkrzjt/uNf5w73OH+51/hT6nPX42UZCzJAfGPWxHzrpiK36nMrgpOv87f7+AAAAADBRECizwA+LOmlNpF8r6U8AAAAAMBERKAEAAAAAGSFQAgAAAAAyMo4H5fm9/KzjZXldZ29YKfd8Yrldm5GX98s/9Jy0s/Mqa+TTK+1shBPdXfLb0uqY2+JKWG7g/KctkPXrV8mNdn0KEpY7LAd2d0vvBTOb7n1J4T7I0LPS8RuRj6dzvkneK723uwcv2vkZi6qktqrMzieXarnXSMXHqmX1XG99cgnK1et/+jU56xbTe+9ydb6B9zzW+YTe13TLjcVcw+7T8qG03v+xY1CewsnlwAAMlpA/nHf+cK/zh3udP9zr/Cn0Oevxs23c1lCe6D4sZ0z4uKe2SirOHZYDQ25D2syH8b63zAftGrnnYwvkTN+zcsJt8f3+l52hwJO6xOXq+YsJbffU1sj6OcPy25fdhqSSnO/L/y5H5+h9qZGPSjr3Jfl9sPv8JhCmUpTsvXrz3HXyUXO+es6ph8kk5Zrg96tzS22Z93ysTI72/N5tSC5huXNXSa0713sqZ8u8FakHq8T34ffy20F3Hyqvk940zlff897pJqCa1350+mtR30smAPaIu79L5dRvYr2vKdIw7QdiAAAAIAXjNlC+eU5k4TINH2VSYYL0qTe99ekbkVNahtbazF0iC+WcRBZlPtgvNKFv0TVuOVWJy72xKs3azpAk57tyjQtlw3LcBLU5KddGJbsPGoieNWF1gcxzy6lK/F7peZ6UX3d0yj90dKURgJOUazbONNHnH7Tcp4dlYWXqNbWpfW+ZoNY3XT6UxnuYuNxSmTXNzRozppe6ueROjLwl8xZ617d84Ww5MzJs50OmTZcb7Iw5Roz3NVUn3rxePl67Mu33HwAAAJMXfShluSzPKPilSGvSjpelFUyS06aV3dI7fZ45+yxx5/nxquvdimwxQfbCbK8GTWsSx1KDFuV1E31CNZRZLNd6+XWRNGonkyuT1R+ZLs9pADZB9eNp1NQmdcEPkXqv7UxGbly5PK/NXAEAAFD8CJS5pH3b0u6PmIrl8mkNUgtfl47uqNqqDJ04NCxnL7wmu7XJo/n6qyyV653rGi/4zr1eZtp12eHX2mW7XK95sMjN2fwjgDYn1e8Ffd8+IvKr3dkKwOb+VoqrATYh2KuqBAAAAPJi3AbKG6aLHDUhRz/c9x4XmZXxB2VtBmjK0KaWQ0fkqPjNA8cqSbkaII7Ok3vSDpOJy9WBXfwQqU0hU5e4XG2ia2v7tMnjtAVp1aAlfK/0Pvjhaei0nJl+fcr3I2G5ZmOoH2g2y7W0eXD63ydJy/XPMc0AfGPpdfL6Ua/P5e+PnpSZpcH3xgu/Xh/KeSLnsvX9DQAAACRXFKO8pjcyaAwxRsH8/S+75HhleETMsY3yOrrcOT2d8utAZ7a0riHh+ZoAkWjEz0RSuA/2vqc9ymeM98ocq2Pk3XY+PLqpNn11tZUpSbXcdEc3TVyuDcE910ttOiPoWonL1cGf/O+JuKPsxhR4z/3RY4PnGON9zVwm7//YMcrrxPThD39YnnnmGbeEXOJe5w/3On+41/nDvc6fiXivx3GgBDBZECgnJj6g5A/3On+41/nDvc4f7nX+TMR7TUIEAAAAAGSEGkoABUcNJQAAQHEiIQIAAAAAMkKgBAAAAABkhEAJAAAAAMgIfSgBFBx9KIvDgYc3yINPuYVl90pbS50scouxJNs/3fImk2zfa88BeXjDY7KkrUXquNEh2b3Xeo8fFH+zyO3ywK6vymq3NNll914PSntDvew85C0tu7dNWvjGDsnuvQ4YbJeG+r1yG/+OhGT1Xtv7u1Pct7UnhTILjYQIAEhqsL1BHjxsfqnt2iW7drXJvbJT6h8+4LaOlmz/dMubTLJ9r30HHg4GHajs3msXJm9/wGzT7bvkgdufkgcb2k30Qba/rw88bMLkUv9ePyBLd9ZLQzt3WmX7XoeZEP/9qLAzyWX9Xg8ckUMaIO12N43zMKkIlACAJA7IEzsPye1f8H+pLZK6L9wu8tR+syWWZPunW95kku17rTToBP4iDifL9/rAfhPYl8m9d4brI1ffea8sO7RXfj3pc06W7/Vguzz2VPBer5Y7710mh/b+mvCe7XsdMNj+fRN/lpn/4Mn+vR48clhk6RK3vXgQKAEAiQ0ekcPmI8SSYIvk1WvkdvPxeX+s35rJ9k+3vMkk2/daadDRWrM2E27cKhjZvtervyq7dtEMMKZs3+tFddLCvY4t2/faZ0L893culQe+fptbgVzc64Ejh2RZxA7FgUAJAEhMm+DIUlmS6oe3ZPunW95kku17rTTofJVefKPk4l5HOfDETjm07Db56GT/Xs/5vY6u+ZnEcnKvvaauSx+gP3CErN/rA7JfW5Ls/b5s2LDBTQ/Hqe0cXwiUAICMHT6SXgOzZPunW95kku17jfiyca9tXyltlvl1Qk4iY7vXOjCPfuh+UJ5adq8EWhsjhkzvtW3quvQB4e9SqcvoXtsaTOO2r4f7T7YtkceKIFQSKAEAGVuaehWClWz/dMubTLJ9rxHfWO+1hsl6rTF7gGaZyYztXi+Suhb3wfsLR6S+SGpzCiWje+03dSVNpiWje22bcu+KHK140RJZGq8J7ThCoAQAJLZ4iSyTw5LyH1yT7Z9ueZNJtu814svRvdZHAtTvFLm3bRc1Or58fF8n6rs2mWT5Xg/+eq8cMvf1Qb8Jpn2kxSHZWb9BEgxmOjnk4/u6SBAoAQCJ2b+QHpIjA25Z2REtb5c1sT4wJ9s/3fImk2zfa8SXg3vtNXPVZ09SMxkh2/f6wMNF07cs77J8rxfVtYSbX9ommDq41zL+YKLy9n0dNZDPOESgBAAksVrW6Mjmj/nP0xuU9seeErl9TZwBGpLtn255k0m27zXiy/K9tk0DtWaSgUtGy/K9Xn2n3LssqjZSP5jTj9LI8r1GAvn6vh7/A3uVXDHcfFwDAwNSWloqU6aQPwFk3+XLl2VkZEQWLy6+obInE23KF3qWoT6GIvTnafNLsaFe9t7WFtH3I/7+nmTbJ7Ns32vLBJ6G+r1yWxu1Z0HZutd+v8lYbn+A2hyV3e9r7zWhW64Pgy+CB8DnS3bvdQD/joyS3Xutzw1+UPzNxfJ9TaAEUHAESgAAgOJEQgQAAAAAZIRACQAAAADICIESAAAAAJARAiUAAAAAICMESgAAAABARgiUAAAAAICMECgBAADGoK9lrZSUlMSd1q7dLJ19bucs69ysx1grLVkuP/Vy+6Rlre5rrjGlZV+fuSc5uikA8opACQAAkEP792+X9RXZD31Fq69TNq+tkPUP9boVAIoZgRIAACALNu2+IleuRE+9snvTGrN1v9z3UGQd3cSwQhr26XVukxq3JlKs7S/L8/vdLICiV6BA2SOt69bJuphTq9nq8/cLrgMAACgWK6Rm24/kEc2U238c1ewTAIrfOKyhbJf6xk4ZtvOVsmXPHtmzZ4uZAwAAKEYrZOX73Kzj9bvUfoXa/FP7GHr9DMPNYvukc/NaWRvqi2nmN3eatfF4+yftt2mbm0b1+TT7tsTt5Jms3Hh9JH1R2zs3S0nFfWIrKLevt2Way/LWa/mx2gX3tdj7EHMbgIIrcKCskzYbGP2pzawxuruk2ybKWDWUgdpNDZ49rXa+sdOLoMOdjd5ya6s02v0axW5y+4WnQJn+tlbzz3pj1PbA6/xjAAAApK5PXn7ezUb58eb1st1v/rnmFrljhc64PoZmQ7hlqJk3AaxCA51bE/TEF739fTH7bdowp8eLam9q9r1vfYUX7KKkVG421HxeNpkv+5940tytSH1PPmGufo3c6d0cAOPMOO1DWS7lZW42wrAJfPXS7paku1mad/S7hUjd7e3SrTNV1VJl/ultrA+9ymmX+taohrTtpjz7IqU1pY0Rr+tubvbCKQAAQCr6+qRlc4Xcp5ls0+ej+hlul+3b18gjva6/5b4G0cjU6YfMNY/Ibn9b726v2awGulHJz4TN/aac3b3evrbfprc+3G/TnMd3t5uvwf2C+2qL3EzKTVPNNnMtj5izMDbttuVuszelRj7vJUp5MiJR9smTT5ibseZOF7YBjDcFDpQmtLnaP2/ywmJdW5wmrj2PusDn12x2SLUXG0erapIO3WdrjZSV1cjWYE1oR5MJmUZ/v2ta63Pl+tu7u6W8TV/TIU3eCuk9pl8BAAAibV/vmpAGpwoTJjXHaZC7f/SwNWse+ZE0RASlTvmx3X+T7DYBs8bftqJGGvbttrV4sfpibtq9TxrCO5vc1hvVb9MfHCe4nzL72iQXW/Jys6fmfg2a++WJYKLse1K8PHmHDdsAxp9xWUPZXu+aqUYZNgFQVTXd7QJnmdRstI1kR6mqrjJbo7nmsrXNsWNoXbVXblm5lHsrpNpbIeXeCgAAgDSskTWbtKbRBLMYieh9K6NW9r0stnXsqNpM5WrxzB4vR9TibZLPj9rZ77cZva/R1yd9nZ3S2dIim7Wf5nqbYGNIs9yxWnGH3GnCarDZK81dgfFvnPWh3CNtXidK6fI6UWbHcKfXn7KxX+4O1kACAABkSezHhuyTfdsCNY15VHGLbSMrL/iPe7QD8ni1phXr18v6++6T7RH9NFMzqtysWSF3eInSNXuluStQDMZpH8rYylw1YXfzo25AnWHp3BHdN3K0YR3kx3wN1Voe643XUBYAAGBC6H3BdsSUWyp0qU9avuj3zdwkm7TWdPdu2d3bK1f8TpQpiiw3u1bccWe42SvNXYGiMM76UK4TbwycKqmuijEqT+Xdri+j/7pa6UqjrrG7udY7zqgBegAAAMaBFSvFtiiN2UfR71/5PolsKbtdRo2nE72vC2d2IJx922Sb1prW1EjNihXSF28I2lTKzbZAs9dOmrsCRWEc1lBWSVPHVqmJOcprmdRsdY8WUXVtsnVj8s6NZTVNLoh66tpc09rQ40kAAADGA7+f5HZZv7Yl/MzHvk5pWbverDVi9K/cvn5t+FmSifbVoOqXKd4zJivsELSxpVxuJp5/OdRXMmyFNHzT3ID9T8h3ae4KFIWSK9rAP4mBgQEpLS2VKVMKnD+1L6QdUCccOvW5k7XNZk1Th2yNnUIBjHOXL1+WkZERWbx4sVsDAMWjr8ULZdqH0nsERnKJX9Mpm0tccBtlk+y+si0U5jo3l8j67dqEdbtsH/WC4L59Jgy6x5fEs+YR6Q09uiTdcv11yZZV5PVt2t1r7kEwNYa3r3mkV/bFGs0IwLhRVH0ow6OvdktzrddEVsNk3CayAAAARadGttlnPq4RHf7Go6PF7pbeUCiL9Plt3v4+HVk2cl99bEivPBLYxytTR6B1jyPZ/4JEj7OTvNxM1Mj9j2wKXdvzL7uZkAqx4/7Q3BUoCsVVQ6lCtZRh2oR1S8wHVwIoBtRQAgDCXA1loMYUwPhVfIESwIRDoAQAeLRf5xdl/fb0mhADKBwSIgAAAApM+1qWSElJhQ2T2p/zfsIkUBQIlAAAACiwFbLSPi/FWLNJdv+Ipq5AsaDJK4CCo8krAABAcSIhAgAAAAAyQqAEAAAAAGSEQAkAAAAAyEhB+lDqIU+ePCkXLlywfafiue6662T27NlSUlLi1iBVZy68Iz98+pj838On5ayZH4vqd5fKlz42X2ZOu8qtwURVqJ9N+lACAAAUp4LUUOoHx7feeivhB1al++iHW6TvkV8MSte/j4w5TCot5wcmnGLi42cTAAAA6ShIoDx//rybS05rSpC+A4dOu7nsOHA4u+VhfOJnEwAAAOkY930ok9WUID+yUdOJiYWfTQAAAIyLQNn7d3fJXXfp9D355YhbiSyaJ3/1lY9IV6NO75Ovu7XxfH2j2W/jMreESW/kl/K97/1S+NEEAABAtMIHyt6/k2/Kd+Xxxx+Xx7etkf3/nQ+u2fZHdy2UVWePS/XW38j/Gb5O1t41z22J4bPvk/9Q5uYB8/N51+Y2+Ve3CAAAAAQVPFCODB6VmrUV3kLpKlkjh2XIW0JWzJO1c6fKmXPn7NL3X3tLZs4tlT+yS9GWyY73iTx75G23jMltRH45uFYe31Yvt7o1AAAAQNA47EN5VAaposy6Eydfd3PGtVfLCjcb9PWNc0Sef172uWVMdqXyiU+4P/YAAAAAMYzDQLlQFpW6WeSPNnWV47LxX9wyAAAAACRR8EBZumihdO7r9RZGnpX9slTmekvIohtnB/pNnr8kfW7W9/UF14mUzbED9/zXJVO9eQbmAQAAAJBA4WsoK/5Uvivf9EZ53bxf1vyXTwgVlNn0uuwbeltmTp9ulzQ4nhkakX+yS2Hf3/EbO2iPTv+f9qEcPi7VOw65rQAAAAAw2rho8lrxp497o7w+/g35BGky6/7p8aPy7Ayv9vE/zDglP3rc9af84LvlJ195d5wBegCn9BPyjW/whx4AAACMVnLFcPNxDQwMSGlpqUyZkp38+dprr7m55PSY8+YleMwFYvrD/97j5rLnn/9LpZvDRFWon83Lly/LyMiILF682K0BAABAMShIDeW1117r5pKbNm2am0MhzbjmKjeHiYyfTQAAAKSjIIFSazv1g2uyGs/rrrtOZs+e7ZaQjtXLrndz2ZHt8jA+8bMJAACAdBSkySty78yFd+SRXwzK84Pn5OzFd9xan3nL473rJSVuJuyT7y6VL39svsycRi0lcoMmrwAAAMWJQDlJ+G+zfnDXSZf1q6/EBEmd9D32v/rrgVwjUAIAABQnAuUk4IfHt99+2w66cvLkSTl9+rScPXvWbp8+fbrMmDFDZs6caQdZufrqq2Xq1Kly1VVXhQImkEsESgAAgOJEoJzg9IP6O++8I0NDQ/L888/b0Kj93zRE6qTOnTsXms6cOSM333yzzJkzxw66ouHSD5ZArhAoAQAAihOBcgLzayV7enrk1KlTsnz5clvzmMilS5ekr6/PhkkNllpzqfP6Ot5/5AqBEgAAoDiRECYoP0wePHjQNll997vfnTRMKq2RfO9732trMXt7e20QPX/+vC1LywQAAAAAH4FyAtJKZ23mqjWTWrs4f/58tyV1CxYssM1jX3nlFdvf8sKFC7bMFCq0AQAAAEwSBMoJRgOf1iRqn0mtXcwkTPo0VGrN5BtvvGEH8NHmsFo2oRIAAACAIlBOQBoCdQAe7TM5VitWrJDXX3/dDtbj11ICAAAAgCJQTjBag6iPBtHmqqn0mUxG+1RqWcePH6cvJQAAAIAIBRvl9eneN+XxZ96QgZNvy9vkkyy5IlfeeUc+MntYNrz/BttkNRs0oL766qs2WM6ePVuuvfZa+ygRnk85+VxzzTUya9Ys+++B/rEhW/SPFIzyCgAAUHwKEig1TP63nx0V4kiW2f6Tb8udi4/L/3PLEhv+suHkyZNy+PBhKSsrs8+n1EeJaJggUE4+2o/2rbfesl+XLFmStVBJoAQAAChOBQmUX3ns3+XVEe2Lx+AuWaWB8p1LsunmY/LBW9+XtQ/7Gh60T6YGyptuukmuv/56W1NFoJy89I8M+j0wd+5ct2ZsCJQAAADFqSB9KF8dedv8nzCZE8n/PjAmGiL1Dws6abNXpsk5afNnHUUYAAAAkxuD8kxAI5emyrlz59zS2GlZfpAgSDL5EwAAAECT14nENXn9yKzj8rlb52R1UB59rqU+01KbvOqgLDR5ndyGh4ft+0+TVwAAgMmtwIPyaCAhVGaNBsrLb8uyq9+Uz717qrz/vRVuw9j09vbax4UsXLjQDsqjfSgZlGdy0meRalPXs2fPyqJFixiUBwAAYJIr6GND/vdv3pCjJ9+WS2TKLPEeG/LOpfOyeeWwfOjW94/5A//FixftgDwaIG644QYeGzLJ8dgQAAAABBUsUKbqMRM6v/CRm9xSpOeee04+8IEPuKVIibapTMtVibYXutx3TKDUWiR9z44ePSrvec977PpMvfDCCzY46giv2rxRA+W0adNsoBzP9yGWTMtViV47mcrNFQIlAABAcWJQnglGQ//UqVNt+NPapGPHjrkt6RscHLQBVUf01GdPas2kll2IPywAAAAAGH9IBhOQ1h5qLeLNN98sZ86csTWV6dLXaKDUMOkHSr9mEgAAAAAUgXKC0eapWoOo/ds0BC5btsyO0vriiy/KpUuX3F7xaZ9Jbeaqo3jq4Cs6AI/2mdOytEwtm76TAAAAAFRRB8p4/cBUom3JJHttpmXnq1wNfH4tpQbCVatW2T6wGhT7+vpswDx58qQNmDrpvK7T0Vx7enrs63X/D33oQ3YgHi3Dr50Mhsnxfh+iZVquSvTayVQuAAAAEEQN5QTl96XUfo9aw6jPpFy+fLldp4OfHDlyxI7e+q/P/Zv09/fL8ePH7aNB9LEgOgDPjTfeaMOkvpa+kwAAAABiISFMYNGhUoPiu971Llm6dKksWbLETj2npsu8efNs4PSfM6kD+migJEwCAAAASISUMMH5oVKbrGo/SH3sh4ZFDY4aJGfdONd+1UnX6Tbdxx+EhzAJAAAAIJ5x/xxKZIf/Nuvz/nTe/+qv176ROul77H/11wO5xnMoAQAAihMJcZLwA6MOrKOTjtiqz6kMTrrO3+7vDwAAAADxECgnIT8s6qQ1kX6tpD8BAAAAQCoIlAAAAACAjBAoAQAAAAAZGceD8vxeftbxsryuszeslHs+sdyuzcjL++Ufek7a2XmVNfLplXY2wonuLvltaXXMbXElLDdw/tMWyPr1q+RGuz4FCcsdlgO7u6X3gplN976kcB9k6Fnp+I3Ix9M53yTvld7b3YMX7fyMRVVSW1Vm55NLtdxrpOJj1bJ6rrc+uQTl6vU//ZqcdYvpvXe5Ot/Aex7rfELva7rlxmKuYfdp+VBa7//YMSgPAABAcRq3NZQnug/LGRM+7qmtkopzh+XAkNuQNvNhvO8t80G7Ru752AI50/esnHBbfL//ZWco8KQucbl6/mJC2z21NbJ+zrD89mW3Iakk5/vyv8vROXpfauSjks59SX4f7D6/CYSpFCV7r948d5181JyvnnPqYTJJuSb4/ercUlvmPR8rk6M9v3cbkktY7txVUuvO9Z7K2TJvRerBKvF9+L38dtDdh8rrpDeN89X3vHe6CajmtR+d/lrU95IJgD3i7u9SOfWbWO9rijRM+4EYAAAASMG4DZRvnhNZuEzDR5lUzBE59aa3Pn0jckrL0FqbuUtkoZyTyKLMB/uFJvQtusYtpypxuTdWpVnbGZLkfFeucaFsWI6boDYn5dqoZPdBA9GzJqwukHluOVWJ3ys9z5Py645O+YeOrjQCcJJyzcaZJvr8g5b79LAsrEy9pja17y0T1Pqmy4fSeA8Tl1sqs6a5WWPG9FI3l9yJkbdk3kLv+pYvnC1nRobtfMi06XKDnTHHiPG+purEm9fLx2tXpv3+AwAAYPKiD6Usl+UZBb8UaU3a8bK0gkly2rSyW3qnzzNnnyXuPD9edb1bkS0myF6Y7dWgaU3iWGrQorxuok+ohjKL5Vovvy6SRu1kcmWy+iPT5TkNwCaofjyNmtqkLvghUu+1ncnIjSuX57WZKwAAAIofgTKXtG9b2v0RU7FcPq1BauHr0tEdVVuVoROHhuXshddktzZ5NF9/laVyvXNd4wXfudfLTLsuO/xau2yX6zUPFrk5m38E0Oak+r2g79tHRH61O1sB2NzfSnE1wCYEe1WVAAAAQF6M20B5w3SRoybk6If73uMiszL+oKzNAE0Z2tRy6IgcFb954FglKVcDxNF5ck/aYTJxuTqwix8itSlk6hKXq010bW2fNnmctiCtGrSE75XeBz88DZ2WM9OvT/l+JCzXbAz1A81muZY2D07/+yRpuf45phmAbyy9Tl4/6vW5/P3RkzKzNPjeeOHX60M5T+Rctr6/AQAAgOSu+rbh5uM6deqUXHvttXl96P11i67IQPdz8uuXBuXC/A/Jp1aaT+sZmS6LrxyTX/72eXmu/6Is/egaqZhhPpj/skt6Z9wsi828emvwkLx27c2yPOUclbjcCz0H5ZU3h+W5l/rs9PvTN8p7F6VyDYnLrVg5W079a7f88vk+6b14k3z6EzfLde6ViaV2H0TelFd6L8rCivkplhvnvXp5v3T8frq8d+XNMu/NHtnd/e/muFfJh2tuTTn4pV6uuZ4PfyhwDYklLFffo6F+eW7kevng0vT+FJDsfK85fEB2H9Tvh2GZ+Z7b5H2pfq+VTZe3XnjOvucD162U2g+Z87I1nmflvUsXmff1iOzeY97Xl07LQve+Zi799z8bdLDp8+fPy6xZs9waAAAAFINx/NgQAJMFjw0BAAAoTiREAAAAAEBGCJQAAAAAgIwQKAEAAAAAGSFQAgAAAAAyQqAEAAAAAGSEQAkAAAAAyAiBEgAAAACQEQIlAAAAACAjBEoAAAAAQEYIlAAAAACAjBAoAQAAAAAZIVACAAAAADJCoAQAAAAAZIRACQAAAADICIESAAAAAJARAiUAAAAAICMESgAAAABARgiUAAAAAICMECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAAAAAMgIgRIAAAAAkBECJQAAAAAgIwRKAAAAAEBGCJQAAAAAgIyUXDHcfFwDAwNSWloqU6ZkK38OS2djrTR3u8VR6qRtzxapdEu+ntZ1Ut9utrbtkS3RGwEUrcuXL8vIyIgsXrzYrQEAAEAxKKoaysote2TPHsIkAAAAAIwHBQqUZVKz1QuHe/Z0SFOVrquSpg63rqNCdqxbJ+saW6W10Xw1842dw7aGUudbe2whRo+06n52304Z7mkN7WsNd0qj3RZZjinIe01oajUlOaHXdEqnO966dY1ii/S36RQ+CQAAAACYlMZ3DWV3u7TbZrFVUl1VZleFabPZeml3S9LdLM07+t1ClGA5Fd3SqO1mI7RLfXRA1PLChUtzc6M01jabOae9PhBsAQAAAGDyGedNXv1ay61SE50nex51fTC1v6VX01kdjntRAuWsqJGtdn83dTSZrUZ/v4moQf5r2swRjG5TdlOHfU2bXaEviXwFAAAAAEwm4ztQVlXLqIpJZ9gEQFXVdLcbvKdMaja6pBctZjmuuWyw1jEo9Jr5UuGa5Pq1pPO9FQAAAAAwqRXVoDxZEeoj2S93B2soAQAAAABpKdpAWVZebr92Nz/qBtQZls4d0X0jRxvu7rI1klXVVWLrG4/1xm0oCwAAAACIr3hrKCvvdqPDtku9HXm1VrrSqGvsbq71RmsdNUAPAAAAACAVRdzkVR894gbMUXVtsnWjV2uZSFlNkwuinro2N8iO1lwyxg4AAAAApKzkiuHm4xoYGJDS0lKZMmUc5U/tC2kH1NHRWL1RYIc7G6W22axp6pCto4aFBTBeXb58WUZGRmTx4sVuDQAAAIpB8dZQlpWL60UpzbXa5HWdDZPB0VgBAAAAALlTxE1eK2VLjBFa69piPLMSAAAAAJB1xdvkFcCEQZNXAACA4kRCBAAAAABkhEAJAAAAAMgIgRIAAAAAkBECJQAAAAAgIwRKAAAAAEBGCJQAAAAAgIwU5LEhesiTJ0/KhQsX7OMC4rnuuutk9uzZUlJS4tYgVWcuvCM/fPqY/N/Dp+WsmR+L6neXypc+Nl9mTrvKrcFEVaifTR4bAgAAUJwKUkOpHxzfeuuthB9Yle6jH26Rvkd+MShd/z4y5jCptJwfmHCKiY+fTQAAAKSjIIHy/Pnzbi45rSlB+g4cOu3msuPA4eyWh/GJn00AAACkY9z3oUxWU4L8yEZNJyYWfjYBAAAwLgJl79/dJXfdpdP35JcjbiWyaJ781Vc+Il2NOr1Pvu7WxvP1jWa/jcvcEia9kV/K9773S+FHEwAAANEKHyh7/06+Kd+Vxx9/XB7ftkb2/3c+uGbbH921UFadPS7VW38j/2f4Oll71zy3JYbPvk/+Q5mbB8zP512b2+Rf3SIAAAAQVPBAOTJ4VGrWVngLpatkjRyWIW8JWTFP1s6dKmfOnbNL33/tLZk5t1T+yC5FWyY73ify7JG33TImtxH55eBaeXxbvdzq1gAAAABB47AP5VEZpIoy606cfN3NGddeLSvcbNDXN84Ref552eeWMdmVyic+4f7YAwAAAMQwDgPlQllU6maRP9rUVY7Lxn9xywAAAACQRMEDZemihdK5r9dbGHlW9stSmestIYtunB3oN3n+kvS5Wd/XF1wnUjbHDtzzX5dM9eYZmAcAAABAAoWvoaz4U/mufNMb5XXzflnzXz4hVFBm0+uyb+htmTl9ul3S4HhmaET+yS6FfX/Hb+ygPTr9f9qHcvi4VO845LYCAAAAwGjjoslrxZ8+7o3y+vg35BOkyaz7p8ePyrMzvNrH/zDjlPzocdef8oPvlp985d1xBugBnNJPyDe+wR96AAAAMFrJFcPNxzUwMCClpaUyZUp28udrr73m5pLTY86bl+AxF4jpD/97j5vLnn/+L5VuDhNVoX42L1++LCMjI7J48WK3BgAAAMWgIDWU1157rZtLbtq0aW4OhTTjmqvcHCYyfjYBAACQjoIESq3t1A+uyWo8r7vuOpk9e7ZbQjpWL7vezWVHtsvD+MTPJgAAANJRkCavyL0zF96RR34xKM8PnpOzF99xa33mLY/3rpeUuJmwT767VL78sfkycxq1lMgNmrwCAAAUJwLlJOG/zfrBXSdd1q++EhMkddL32P/qrwdyjUAJAABQnAiUk4AfHt9++2076MrJkyfl9OnTcvbsWbt9+vTpMmPGDJk5c6YdZOXqq6+WqVOnylVXXRUKmEAuESgBAACKE4FygtMP6u+8844MDQ3J888/b0Oj9n/TEKmTOnfuXGg6c+aM3HzzzTJnzhw76IqGSz9YArlCoAQAAChOBMoJzK+V7OnpkVOnTsny5cttzWMily5dkr6+PhsmNVhqzaXO6+t4/5ErBEoAAIDiREKYoPwwefDgQdtk9d3vfnfSMKm0RvK9732vrcXs7e21QfT8+fO2LC0TAAAAAHwEyglIK521mavWTGrt4vz5892W1C1YsMA2j33llVdsf8sLFy7YMlOo0AYAAAAwSRAoJxgNfFqTqH0mtXYxkzDp01CpNZNvvPGGHcBHm8Nq2YRKAAAAAIpAOQFpCNQBeLTP5FitWLFCXn/9dTtYj19LCQAAAACKQDnBaA2iPhpEm6um0mcyGe1TqWUdP36cvpQAAAAAIhRslNene9+Ux595QwZOvi1vk0+y5Ipceecd+cjsYdnw/htsk9Vs0ID66quv2mA5e/Zsufbaa+2jRHg+5eRzzTXXyKxZs+y/B/rHhmzRP1IwyisAAEDxKUig1DD53352VIgjWWb7T74tdy4+Lv/PLUts+MuGkydPyuHDh6WsrMw+n1IfJaJhgkA5+Wg/2rfeest+XbJkSdZCJYESAACgOBUkUH7lsX+XV0e0Lx6Du2SVBsp3Lsmmm4/JB299X9Y+7Gt40D6ZGihvuukmuf76621NFYFy8tI/Muj3wNy5c92asSFQAgAAFKeC9KF8deRt83/CZE4k//vAmGiI1D8s6KTNXpkm56TNn3UUYQAAAExuDMozAY1cmirnzp1zS2OnZflBgiDJ5E8AAAAATV4nEtfk9SOzjsvnbp2T1UF59LmW+kxLbfKqg7LQ5HVyGx4etu8/TV4BAAAmtwIPyqOBhFCZNRooL78ty65+Uz737qny/vdWuA1j09vbax8XsnDhQjsoj/ahZFCeyUmfRapNXc+ePSuLFi1iUB4AAIBJrqCPDfnfv3lDjp58Wy6RKbPEe2zIO5fOy+aVw/KhW98/5g/8Fy9etAPyaIC44YYbeGzIJMdjQwAAABBUsECZqsdM6PzCR25yS5Gee+45+cAHPuCWIiXapjItVyXaXuhy3zGBUmuR9D07evSovOc977HrM/XCCy/Y4KgjvGrzRg2U06ZNs4FyPN+HWDItVyV67WQqN1cIlAAAAMWJQXkmGA39U6dOteFPa5OOHTvmtqRvcHDQBlQd0VOfPak1k1p2If6wAAAAAGD8IRlMQFp7qLWIN998s5w5c8bWVKZLX6OBUsOkHyj9mkkAAAAAUATKCUabp2oNovZv0xC4bNkyO0rriy++KJcuXXJ7xad9JrWZq47iqYOv6AA82mdOy9IytWz6TgIAAABQRR0o4/UDU4m2JZPstZmWna9yNfD5tZQaCFetWmX7wGpQ7OvrswHz5MmTNmDqpPO6Tkdz7enpsa/X/T/0oQ/ZgXi0DL92Mhgmx/t9iJZpuSrRaydTuQAAAEAQNZQTlN+XUvs9ag2jPpNy+fLldp0OfnLkyBE7euu/Pvdv0t/fL8ePH7ePBtHHgugAPDfeeKMNk/pa+k4CAAAAiIWEMIFFh0oNiu9617tk6dKlsmTJEjv1nJou8+bNs4HTf86kDuijgZIwCQAAACARUsIE54dKbbKq/SD1sR8aFjU4apCcdeNc+1UnXafbdB9/EB7CJAAAAIB4xv1zKJEd/tusz/vTef+rv177Ruqk77H/1V8P5BrPoQQAAChOJMRJwg+MOrCOTjpiqz6nMjjpOn+7vz8AAAAAxEOgnIT8sKiT1kT6tZL+BAAAAACpIFACAAAAADJCoAQAAAAAZGQcD8rze/lZx8vyus7esFLu+cRyuzYjL++Xf+g5aWfnVdbIp1fa2Qgnurvkt6XVMbfFlbDcwPlPWyDr16+SG+36FCQsd1gO7O6W3gtmNt37ksJ9kKFnpeM3Ih9P53yTvFd6b3cPXrTzMxZVSW1VmZ1PLtVyr5GKj1XL6rne+uQSlKvX//RrctYtpvfe5ep8A+95rPMJva/plhuLuYbdp+VDab3/Y8egPAAAAMVp3NZQnug+LGdM+Lintkoqzh2WA0NuQ9rMh/G+t8wH7Rq552ML5Ezfs3LCbfH9/pedocCTusTl6vmLCW331NbI+jnD8tuX3Yakkpzvy/8uR+fofamRj0o69yX5fbD7/CYQplKU7L1689x18lFzvnrOqYfJJOWa4Perc0ttmfd8rEyO9vzebUguYblzV0mtO9d7KmfLvBWpB6vE9+H38ttBdx8qr5PeNM5X3/Pe6Sagmtd+dPprUd9LJgD2iLu/S+XUb2K9rynSMO0HYgAAACAF4zZQvnlOZOEyDR9lUjFH5NSb3vr0jcgpLUNrbeYukYVyTiKLMh/sF5rQt+gat5yqxOXeWJVmbWdIkvNducaFsmE5boLanJRro5LdBw1Ez5qwukDmueVUJX6v9DxPyq87OuUfOrrSCMBJyjUbZ5ro8w9a7tPDsrAy9Zra1L63TFDrmy4fSuM9TFxuqcya5maNGdNL3VxyJ0beknkLvetbvnC2nBkZtvMh06bLDXbGHCPG+5qqE29eLx+vXZn2+w8AAIDJiz6UslyWZxT8UqQ1acfL0gomyWnTym7pnT7PnH2WuPP8eNX1bkW2mCB7YbZXg6Y1iWOpQYvyuok+oRrKLJZrvfy6SBq1k8mVyeqPTJfnNACboPrxNGpqk7rgh0i913YmIzeuXJ7XZq4AAAAofgTKXNK+bWn3R0zFcvm0BqmFr0tHd1RtVYZOHBqWsxdek93a5NF8/VWWyvXOdY0XfOdeLzPtuuzwa+2yXa7XPFjk5mz+EUCbk+r3gr5vHxH51e5sBWBzfyvF1QCbEOxVVQIAAAB5MW4D5Q3TRY6akKMf7nuPi8zK+IOyNgM0ZWhTy6EjclT85oFjlaRcDRBH58k9aYfJxOXqwC5+iNSmkKlLXK420bW1fdrkcdqCtGrQEr5Xeh/88DR0Ws5Mvz7l+5GwXLMx1A80m+Va2jw4/e+TpOX655hmAL6x9Dp5/ajX5/L3R0/KzNLge+OFX68P5TyRc9n6/gYAAACSu+rbhpuP69SpU3Lttdfm9aH31y26IgPdz8mvXxqUC/M/JJ9aaT6tZ2S6LL5yTH752+fluf6LsvSja6Rihvlg/ssu6Z1xsyw28+qtwUPy2rU3y/KUc1Tici/0HJRX3hyW517qs9PvT98o712UyjUkLrdi5Ww59a/d8svn+6T34k3y6U/cLNe5VyaW2n0QeVNe6b0oCyvmp1hunPfq5f3S8fvp8t6VN8u8N3tkd/e/m+NeJR+uuTXl4Jd6ueZ6PvyhwDUklrBcfY+G+uW5kevlg0vT+1NAsvO95vAB2X1Qvx+GZeZ7bpP3pfq9VjZd3nrhOfueD1y3Umo/ZM7L1nielfcuXWTe1yOye495X186LQvd+5q59N//bNDBps+fPy+zZs1yawAAAFAMxvFjQwBMFjw2BAAAoDiREAEAAAAAGSFQAgAAAAAyQqAEAAAAAGSEQAkAAAAAyAiBEgAAAACQEQIlAAAAACAjBEoAAAAAQEYIlAAAAACAjBAoAQAAAAAZIVACAAAAADJCoAQAAAAAZIRACQAAAADICIESAAAAAJARAiUAAAAAICMESgAAAABARgiUAAAAAICMECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAAAAAMhIyRXDzcc1MDAgpaWlMmVKdvLn28f2ytuv73VLQO5NnXebTJ1/m1vCeHP58mUZGRmRxYsXuzUAAAAoBnkPlBomz//rg3L5xtUyNDQkJ06ckPPnz7utQPZce+21cuONN8rcuXNlyokDcu2tDxAqxykCJQAAQHHKe6A8/6/fk0uXLsr/Ofw+mTdvnrzrXe+S2bNnu61A9pw8eVJeffVVef311+Uz73perrnmahsqMf4QKAEAAIpTQfpQvvHGGzZMfuADHyBMImf0e0u/x+bPn2+/5wAAAABkV0EC5ZtvvmlrJoF8KC8vt99zAAAAALKrIIFS+0xSM4l80e81+ukCAAAA2VeQQAkAAAAAKH4ESgAAAABARgiUAAAAAICMECgBAAAAABkhUAIAAAAAMkKgBAAAAABkhEAJAAAAAMhIEQXKN+Xn3/pD+cM/HD196+fZfWj9Sz8w5f7gJTv/5s+/JX/4rZ+boyfzkvzgD78lcU/lpR9ElBM8xrgWdd6FVDT3DAAAAJgkiq6GcsND/yz//M/B6SFZ3HJv1kOl74ZPfUf++TufkhvcMgAAAADAMwGavL5H6ho+KL879Lpd0lqsH/z85/ItW3vp1xhG1W5G17i96e+v0w9kr1utRtVQRuzr145q7eT9skt+Jy33muNHV6JpLd/9u0R+1yL3mvLDm/ea14XLin6dPXZoe4LaT3tOP5CfB/ePvkY9h1BZwWPpuZt1wYPbfc3xfhPvvD2x703kedr3w70w8nqC5ek5BM7fLzPB+wIAAACg8CZkH8pdLYfkT2zt5XfkUzdomLxX9t620yx7tZoPLTYBKZxy5Fv3tshiv+bzIfN6k6FiM8EnuK+rHf3BS++RL5v5DfJBadj5z/Ll97jdfe/5sil3g8gHG2TnP3/ZRGBn14AsM/trWTtNKN51fzhkafi6d+9tZn//vBabsDo61IXtkpZDfxI6rw0mBD7iJzsbaEUe8sva2SAD9/vBz5y7Wf7grv/lls01mhC54SFz7z4S57ydGz50m3zwd4fEi/LmnH+710Tq34nL9sZLsnfXBrnNvNBeT8vi0DnsbBiQ+yNCZeD8tUY4rfcFAAAAQCEUf6A0weORlt/JBk0tvg23hcPPS+3SIg1y36fCjVbf82UTuFyAsiHIBKY6/wUm/GmGiuXNn/8v2RXcV8OYCTujAmSqNvyJCbzerA1nMiADLtS1t4g03BdoamvPa5f8r2D1XwQTZsMXIbeZa/BqbU2g/l8aEAOB8IZPyX0NIi3tLs6Z5T/Z8DtpeeTn8vMf3C+7NjyU2jXd8CG57YO7ZK8r5vVD5n3YsEF2+Ste2mvK0vdCr8dsC5zDDZ+6TxrMa4PXE3wP03lfAAAAABRG0QXKXff7TSDddK8mr51xA9CbAwOuyWbwddo81aMhSBYvjugjOW/ZB91cpFj75sSbJli65rPBa9XWp+l7XfS0o+/bvSbgBdmQbe5Ty64N8lDKCfkGvR0yYFOwq42sWyYfNPfcrtlrgqytntTr+aAsm2df5HivjSed9wUAAABAYUyAQXn+Wb4TqH2MyTbZjH6dNod128clr/ls5DmncK1xxLpv/xwzOPq1pKl5z20b5Hd7fytvamj84DKZp7WWsld+++abJmh6zV0BAAAATEwTsg9l0A1aDRbo5xfN1nq5GjWfrR2LIda+OXHDYlkc0RdxLOaJd9qJz/ol19T1Idf0NeVrfM9tssHc39/+dq/IbR+SG2zNozn33/5W9i52TY9jXo8GTjcbQzrvCwAAAIDCmPCBUt5TZ/vq3T9qFFNvQJgbPvUntqmn351Qt8VrWjpqXxN3dPTY7D+yxBu5NjhIjzYp1dFYg5eRmhvkU3+yQX7X8khg9NWo87bX7DV19Zu+hgb0SUoD6y5pafmdCZJe7amGwV0tLbI4VD05+nre/Pkj0vK7DfIncWpc03lfAAAAAPz/27tjntbKMIDjT4GhEEhKTNChi5vLDYnK4IDf4G53NndxZmJictCFyW/g5uC30MFBFuQTQJqAJDeUiQZKK297GrjXC+JDa6n+flPPW4YDnJzkn9P36XT894OyBNU3ZQjP9u0ewsHE09GAmOGU09Zoj+GPH8fWvcNf3vnZl1/F983d6mOoZRDOcN/jewNz8CSv7OV84Os/7ijff1mG8GyPznl40rkBQJ98HTenfWdP5nDq7eC8yzTVm1L7dOvV7d9j906A/u15r8Znm2Vv4+3HW4cDht7eM1l+n+Fk1+E5DCe+/nVy7K1/8n8BAACmoda/Ub2+V6vVikajEXNzT+/Pzv53sbf3W7x49UO1ApP3+0+vY2Pj86iv71QrPCe9Xi/a7XY0H5rUBADAs/M/eEIJAADAJAhKAAAAUgQlAAAAKYISAACAFEEJAABAiqAEAAAgRVACAACQMpWgrNfrcX5+Xh3BZJVrrVxzAADAeE0lKFdXV+Pw8LA6gsk6OjoaXHMAAMB4TSUo19bW4uTkJA4ODjypZGLKtVWusePj48E1BwAAjFetf6N6fa9WqxWNRiPm5p7en92TX6Kz/230P/giTk9P4+zsLDqdTvUujE/5mGt5Mllisvbm16iv78TCR5vVuzwnvV4v2u12NJvNagUAgFnwrwdlUaKy+8fP1RFM3sKHX4rJZ0xQAgDMpqkEJcBdghIAYDYpRAAAAFIEJQAAACmCEgAAgBRBCQAAQIqgBAAAIEVQAgAAkCIoAQAASBGUAAAApAhKAAAAUgQlAAAAKYISAACAFEEJAABAiqAEAAAgRVACAACQ8qignJ+fj+vr6+oIYLzK/aXcZwAAmC2PCsqlpaW4vLyMfr9frQCMR7mvXF1dxeLiYrUCAMCseFRQLi8vD54gXFxcRLfbrVYBnqbcT0b3lZWVlWoVAIBZUet77AgAAECCoTwAAACkCEoAAABSBCUAAAApghIAAIAUQQkAAECKoAQAACBFUAIAAJAiKAEAAEgRlAAAAKQISgAAAFIEJQAAACmCEgAAgBRBCQAAQELEn2V43HezpxhaAAAAAElFTkSuQmCC" /></p>
</div>
<div id="steps-to-run-the-model-1" class="slide section level2 smaller">
<h1>Steps to run the model</h1>
<p>The model will display a plot that includes the predicted words with the probabilities.</p>
<p>User can choose the weights and discount factors (gamma) in the models. However, because the train set is fairly small, changing the weights will not show significant changes in the predictions.</p>
<p>User can also determine the ratio of data set that will be dedicated to the train set. However, the application is running on a public server, which doesnt support computational power required for higher train set proportions. Consequently, it has to be kept low (around 5% for a 60 MB text file corpus). Therefore, the accuracy of the predictions might be low.</p>
<p>User can also upload a new corpus. However, because of the processing and memory limitations, the maximum size of the uploaded file is set to 50 MB.</p>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="references" class="slide section level2">
<h1>References</h1>
<ul>
<li><a href="https://web.stanford.edu/~jurafsky/slp3/ed3book.pdf">Speech and Language Processing by Daniel Jurafsky and James H. Martin</a></li>
<li><a href="https://www.youtube.com/channel/UCB_JX4jH3QQmp69rmkWpl1A">Machine Learning Hub</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLQiyVNMpDLKnZYBTUOlSI9mi9wAErFtFm">Natural Language Processing course by Dan Jurafsky and Christopher Manning</a></li>
<li><a href="http://www.cs.columbia.edu/~mcollins/lm-spring2013.pdf">Linear Interpolation</a></li>
<li><a href="https://tutorials.quanteda.io/">R packages: quanteda</a></li>
</ul>
<p>The application is accessible <a href="https://faridtayari.shinyapps.io/NLP_word_prediction/">here</a> and on <a href="https://github.com/faridtayari/Natural-Language-Processing">Github</a></p>
</div>

  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

</body>
</html>
